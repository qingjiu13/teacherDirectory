{"code":"import { defineComponent } from \"vue\";\nimport Calendar from './util.js';\nimport CalendarItem from './uni-calendar-item.vue';\nimport { initVueI18n } from '@dcloudio/uni-i18n';\nimport i18nMessages from './i18n/index.js';\nconst t = initVueI18n(i18nMessages).t;\n/**\n * Calendar 日历\n * @description 日历组件可以查看日期，选择任意范围内的日期，打点操作。常用场景如：酒店日期预订、火车机票选择购买日期、上下班打卡等\n * @tutorial https://ext.dcloud.net.cn/plugin?id=56\n * @property {String} date 自定义当前时间，默认为今天\n * @property {Boolean} lunar 显示农历\n * @property {String} startDate 日期选择范围-开始日期\n * @property {String} endDate 日期选择范围-结束日期\n * @property {Boolean} range 范围选择\n * @property {Boolean} insert = [true|false] 插入模式,默认为false\n * \t@value true 弹窗模式\n * \t@value false 插入模式\n * @property {Boolean} clearDate = [true|false] 弹窗模式是否清空上次选择内容\n * @property {Array} selected 打点，期待格式[{date: '2019-06-27', info: '签到', data: { custom: '自定义信息', name: '自定义消息头',xxx:xxx... }}]\n * @property {Boolean} showMonth 是否选择月份为背景\n * @event {Function} change 日期改变，`insert :ture` 时生效\n * @event {Function} confirm 确认选择`insert :false` 时生效\n * @event {Function} monthSwitch 切换月份时触发\n * @example <uni-calendar :insert=\"true\":lunar=\"true\" :start-date=\"'2019-3-2'\":end-date=\"'2019-5-20'\"@change=\"change\" />\n */\nexport default defineComponent({\n    components: {\n        CalendarItem\n    },\n    emits: ['close', 'confirm', 'change', 'monthSwitch'],\n    props: {\n        date: {\n            type: String,\n            default: ''\n        },\n        selected: {\n            type: Array,\n            default() {\n                return [];\n            }\n        },\n        lunar: {\n            type: Boolean,\n            default: false\n        },\n        startDate: {\n            type: String,\n            default: ''\n        },\n        endDate: {\n            type: String,\n            default: ''\n        },\n        range: {\n            type: Boolean,\n            default: false\n        },\n        insert: {\n            type: Boolean,\n            default: true\n        },\n        showMonth: {\n            type: Boolean,\n            default: true\n        },\n        clearDate: {\n            type: Boolean,\n            default: true\n        }\n    },\n    data() {\n        return {\n            show: false,\n            weeks: [],\n            calendar: new UTSJSONObject({}),\n            nowDate: '',\n            aniMaskShow: false\n        };\n    },\n    computed: {\n        /**\n         * for i18n\n         */\n        okText() {\n            return t(\"uni-calender.ok\");\n        },\n        cancelText() {\n            return t(\"uni-calender.cancel\");\n        },\n        todayText() {\n            return t(\"uni-calender.today\");\n        },\n        monText() {\n            return t(\"uni-calender.MON\");\n        },\n        TUEText() {\n            return t(\"uni-calender.TUE\");\n        },\n        WEDText() {\n            return t(\"uni-calender.WED\");\n        },\n        THUText() {\n            return t(\"uni-calender.THU\");\n        },\n        FRIText() {\n            return t(\"uni-calender.FRI\");\n        },\n        SATText() {\n            return t(\"uni-calender.SAT\");\n        },\n        SUNText() {\n            return t(\"uni-calender.SUN\");\n        },\n    },\n    watch: {\n        date(newVal = null) {\n            // this.cale.setDate(newVal)\n            this.init(newVal);\n        },\n        startDate(val = null) {\n            this.cale.resetSatrtDate(val);\n            this.cale.setDate(this.nowDate.fullDate);\n            this.weeks = this.cale.weeks;\n        },\n        endDate(val = null) {\n            this.cale.resetEndDate(val);\n            this.cale.setDate(this.nowDate.fullDate);\n            this.weeks = this.cale.weeks;\n        },\n        selected(newVal = null) {\n            this.cale.setSelectInfo(this.nowDate.fullDate, newVal);\n            this.weeks = this.cale.weeks;\n        }\n    },\n    created() {\n        this.cale = new Calendar(new UTSJSONObject({\n            selected: this.selected,\n            startDate: this.startDate,\n            endDate: this.endDate,\n            range: this.range,\n        }));\n        this.init(this.date);\n    },\n    methods: {\n        // 取消穿透\n        clean() { },\n        bindDateChange(e = null) {\n            const value = e.detail.value + '-1';\n            this.setDate(value);\n            const _a = this.cale.getDate(value), year = _a.year, month = _a.month;\n            this.$emit('monthSwitch', new UTSJSONObject({\n                year,\n                month\n            }));\n        },\n        /**\n         * 初始化日期显示\n         * @param {Object} date\n         */\n        init(date = null) {\n            this.cale.setDate(date);\n            this.weeks = this.cale.weeks;\n            this.nowDate = this.calendar = this.cale.getInfo(date);\n        },\n        /**\n         * 打开日历弹窗\n         */\n        open() {\n            // 弹窗模式并且清理数据\n            if (this.clearDate && !this.insert) {\n                this.cale.cleanMultipleStatus();\n                // this.cale.setDate(this.date)\n                this.init(this.date);\n            }\n            this.show = true;\n            this.$nextTick(() => {\n                setTimeout(() => {\n                    this.aniMaskShow = true;\n                }, 50);\n            });\n        },\n        /**\n         * 关闭日历弹窗\n         */\n        close() {\n            this.aniMaskShow = false;\n            this.$nextTick(() => {\n                setTimeout(() => {\n                    this.show = false;\n                    this.$emit('close');\n                }, 300);\n            });\n        },\n        /**\n         * 确认按钮\n         */\n        confirm() {\n            this.setEmit('confirm');\n            this.close();\n        },\n        /**\n         * 变化触发\n         */\n        change() {\n            if (!this.insert)\n                return null;\n            this.setEmit('change');\n        },\n        /**\n         * 选择月份触发\n         */\n        monthSwitch() {\n            let _a = this.nowDate, year = _a.year, month = _a.month;\n            this.$emit('monthSwitch', new UTSJSONObject({\n                year,\n                month: Number(month)\n            }));\n        },\n        /**\n         * 派发事件\n         * @param {Object} name\n         */\n        setEmit(name = null) {\n            let _a = this.calendar, year = _a.year, month = _a.month, date = _a.date, fullDate = _a.fullDate, lunar = _a.lunar, extraInfo = _a.extraInfo;\n            this.$emit(name, new UTSJSONObject({\n                range: this.cale.multipleStatus,\n                year,\n                month,\n                date,\n                fulldate: fullDate,\n                lunar,\n                extraInfo: extraInfo || {}\n            }));\n        },\n        /**\n         * 选择天触发\n         * @param {Object} weeks\n         */\n        choiceDate(weeks = null) {\n            if (weeks.disable)\n                return null;\n            this.calendar = weeks;\n            // 设置多选\n            this.cale.setMultiple(this.calendar.fullDate);\n            this.weeks = this.cale.weeks;\n            this.change();\n        },\n        /**\n         * 回到今天\n         */\n        backToday() {\n            const nowYearMonth = `${this.nowDate.year}-${this.nowDate.month}`;\n            const date = this.cale.getDate(new Date());\n            const todayYearMonth = `${date.year}-${date.month}`;\n            this.init(date.fullDate);\n            if (nowYearMonth !== todayYearMonth) {\n                this.monthSwitch();\n            }\n            this.change();\n        },\n        /**\n         * 上个月\n         */\n        pre() {\n            const preDate = this.cale.getDate(this.nowDate.fullDate, -1, 'month').fullDate;\n            this.setDate(preDate);\n            this.monthSwitch();\n        },\n        /**\n         * 下个月\n         */\n        next() {\n            const nextDate = this.cale.getDate(this.nowDate.fullDate, +1, 'month').fullDate;\n            this.setDate(nextDate);\n            this.monthSwitch();\n        },\n        /**\n         * 设置日期\n         * @param {Object} date\n         */\n        setDate(date = null) {\n            this.cale.setDate(date);\n            this.weeks = this.cale.weeks;\n            this.nowDate = this.cale.getInfo(date);\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/uni_modules/uni-calendar/components/uni-calendar/uni-calendar.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uni-calendar/components/uni-calendar/util.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uni-calendar/components/uni-calendar/uni-calendar-item.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uni-calendar/components/uni-calendar/i18n/index.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"uni-calendar.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"uni-calendar.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
