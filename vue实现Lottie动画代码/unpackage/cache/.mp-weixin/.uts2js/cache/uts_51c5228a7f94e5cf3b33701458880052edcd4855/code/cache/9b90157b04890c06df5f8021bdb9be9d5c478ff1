{"code":"import { defineComponent } from \"vue\";\n// 导入模拟数据\nimport moneyState from '@/store/user/money/state.js';\nexport default defineComponent({\n    data() {\n        return {\n            refreshing: false,\n            // 直接使用模拟数据\n            localTransactionList: moneyState.transactionList,\n            isLoading: false,\n            hasMore: false\n        };\n    },\n    computed: {\n        // 使用本地数据\n        transactionList() {\n            return this.localTransactionList;\n        },\n        // 按日期分组的交易记录 - 显示所有记录，不再按月筛选\n        groupedTransactions() {\n            const grouped = new UTSJSONObject({});\n            // 直接使用所有交易记录，不再按月筛选\n            if (this.transactionList && this.transactionList.length > 0) {\n                this.transactionList.forEach((item = null) => {\n                    const date = this.formatDate(item.date);\n                    if (!grouped[date]) {\n                        grouped[date] = [];\n                    }\n                    grouped[date].push(item);\n                });\n            }\n            return grouped;\n        }\n    },\n    onLoad() {\n        // 初始化加载交易记录\n        uni.__f__('log', 'at pagesMine/bill/bill.vue:94', '加载交易记录:', this.transactionList);\n        this.fetchData();\n    },\n    // 下拉触底加载更多\n    onReachBottom() {\n        this.loadMore();\n    },\n    methods: {\n        // 初始化加载交易数据 - 使用模拟数据，无需实际请求\n        fetchData() {\n            // 模拟加载中状态\n            this.isLoading = true;\n            setTimeout(() => {\n                // 确保交易记录数据已正确加载\n                if (!this.localTransactionList || this.localTransactionList.length === 0) {\n                    this.localTransactionList = moneyState.transactionList || [];\n                }\n                // 重置加载状态\n                this.isLoading = false;\n                // 设置是否有更多数据\n                this.hasMore = moneyState.hasMore;\n            }, 500);\n        },\n        // 加载更多交易数据\n        loadMore() {\n            // 如果没有更多数据或正在加载中，则不执行\n            if (!this.hasMore || this.isLoading)\n                return null;\n            // 模拟加载更多 - 实际应用中应该调用API\n            this.isLoading = true;\n            setTimeout(() => {\n                this.isLoading = false;\n                // 模拟没有更多数据\n                this.hasMore = false;\n            }, 500);\n        },\n        // 下拉刷新\n        refresh() {\n            this.refreshing = true;\n            setTimeout(() => {\n                // 重新获取数据\n                this.fetchData();\n                // 模拟刷新完成\n                this.refreshing = false;\n            }, 1000);\n        },\n        // 格式化日期分组标题\n        formatGroupDate(dateStr = null) {\n            const date = new Date(dateStr);\n            return `${date.getMonth() + 1}月${date.getDate()}日`;\n        },\n        // 格式化日期为YYYY-MM-DD\n        formatDate(timestamp = null) {\n            const date = new Date(timestamp);\n            return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n        },\n        // 格式化时间为HH:mm\n        formatTime(timestamp = null) {\n            const date = new Date(timestamp);\n            return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pagesMine/bill/bill.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/store/user/money/state.js"],"uniExtApis":["uni.__f__"],"map":"{\"version\":3,\"file\":\"bill.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"bill.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
