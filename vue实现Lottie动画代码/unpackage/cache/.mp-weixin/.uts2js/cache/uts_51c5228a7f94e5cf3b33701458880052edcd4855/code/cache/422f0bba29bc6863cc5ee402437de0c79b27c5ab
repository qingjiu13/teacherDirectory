{"code":"import { defineComponent } from \"vue\";\nimport { props } from \"./props.js\";\nimport { mpMixin } from '../../libs/mixin/mpMixin';\nimport { mixin } from '../../libs/mixin/mixin';\nimport { addStyle, addUnit, deepMerge, formValidate, os } from '../../libs/function/index';\n/**\n * Textarea 文本域\n * @description 文本域此组件满足了可能出现的表单信息补充，编辑等实际逻辑的功能，内置了字数校验等\n * @tutorial https://ijry.github.io/uview-plus/components/textarea.html\n *\n * @property {String | Number} \t\tvalue\t\t\t\t\t输入框的内容\n * @property {String | Number}\t\tplaceholder\t\t\t\t输入框为空时占位符\n * @property {String}\t\t\t    placeholderClass\t\t指定placeholder的样式类，注意页面或组件的style中写了scoped时，需要在类名前写/deep/ （ 默认 'input-placeholder' ）\n * @property {String | Object}\t    placeholderStyle\t\t指定placeholder的样式，字符串/对象形式，如\"color: red;\"\n * @property {String | Number}\t\theight\t\t\t\t\t输入框高度（默认 70 ）\n * @property {String}\t\t\t\tconfirmType\t\t\t\t设置键盘右下角按钮的文字，仅微信小程序，App-vue和H5有效（默认 'done' ）\n * @property {Boolean}\t\t\t\tdisabled\t\t\t\t是否禁用（默认 false ）\n * @property {Boolean}\t\t\t\tcount\t\t\t\t\t是否显示统计字数（默认 false ）\n * @property {Boolean}\t\t\t\tfocus\t\t\t\t\t是否自动获取焦点，nvue不支持，H5取决于浏览器的实现（默认 false ）\n * @property {Boolean | Function}\tautoHeight\t\t\t\t是否自动增加高度（默认 false ）\n * @property {Boolean}\t\t\t\tfixed\t\t\t\t\t如果textarea是在一个position:fixed的区域，需要显示指定属性fixed为true（默认 false ）\n * @property {Number}\t\t\t\tcursorSpacing\t\t\t指定光标与键盘的距离（默认 0 ）\n * @property {String | Number}\t\tcursor\t\t\t\t\t指定focus时的光标位置\n * @property {Function}\t\t\t    formatter\t\t\t    内容式化函数\n * @property {Boolean}\t\t\t\tshowConfirmBar\t\t\t是否显示键盘上方带有”完成“按钮那一栏，（默认 true ）\n * @property {Number}\t\t\t\tselectionStart\t\t\t光标起始位置，自动聚焦时有效，需与selection-end搭配使用，（默认 -1 ）\n * @property {Number | Number}\t\tselectionEnd\t\t\t光标结束位置，自动聚焦时有效，需与selection-start搭配使用（默认 -1 ）\n * @property {Boolean}\t\t\t\tadjustPosition\t\t\t键盘弹起时，是否自动上推页面（默认 true ）\n * @property {Boolean | Number}\t\tdisableDefaultPadding\t是否去掉 iOS 下的默认内边距，只微信小程序有效（默认 false ）\n * @property {Boolean}\t\t\t\tholdKeyboard\t\t\tfocus时，点击页面的时候不收起键盘，只微信小程序有效（默认 false ）\n * @property {String | Number}\t\tmaxlength\t\t\t\t最大输入长度，设置为 -1 的时候不限制最大长度（默认 140 ）\n * @property {String}\t\t\t\tborder\t\t\t\t\t边框类型，surround-四周边框，none-无边框，bottom-底部边框（默认 'surround' ）\n * @property {Boolean}\t\t\t\tignoreCompositionEvent\t是否忽略组件内对文本合成系统事件的处理\n *\n * @event {Function(e)} focus\t\t\t\t\t输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度\n * @event {Function(e)} blur\t\t\t\t\t输入框失去焦点时触发，event.detail = {value, cursor}\n * @event {Function(e)} linechange\t\t\t\t输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0}\n * @event {Function(e)} input\t\t\t\t\t当键盘输入时，触发 input 事件\n * @event {Function(e)} confirm\t\t\t\t\t点击完成时， 触发 confirm 事件\n * @event {Function(e)} keyboardheightchange\t键盘高度发生变化的时候触发此事件\n * @example <up-textarea v-model=\"value1\" placeholder=\"请输入内容\" ></up-textarea>\n */\nexport default defineComponent({\n    name: \"u-textarea\",\n    mixins: [mpMixin, mixin, props],\n    data() {\n        return {\n            // 输入框的值\n            innerValue: \"\",\n            // 是否处于获得焦点状态\n            focused: false,\n            // value是否第一次变化，在watch中，由于加入immediate属性，会在第一次触发，此时不应该认为value发生了变化\n            firstChange: true,\n            // value绑定值的变化是由内部还是外部引起的\n            changeFromInner: false,\n            // 过滤处理方法\n            innerFormatter: (value = null) => { return value; }\n        };\n    },\n    created() {\n    },\n    watch: {\n        modelValue: {\n            immediate: true,\n            handler(newVal = null, oldVal = null) {\n                this.innerValue = newVal;\n                this.firstChange = false;\n                // 重置changeFromInner的值为false，标识下一次引起默认为外部引起的\n                this.changeFromInner = false;\n            },\n        }\n    },\n    computed: {\n        // 组件的类名\n        textareaClass() {\n            let classes = [], _a = this, border = _a.border, disabled = _a.disabled;\n            border === \"surround\" &&\n                (classes = classes.concat([\"u-border\", \"u-textarea--radius\"]));\n            border === \"bottom\" &&\n                (classes = classes.concat([\n                    \"u-border-bottom\",\n                    \"u-textarea--no-radius\",\n                ]));\n            disabled && classes.push(\"u-textarea--disabled\");\n            return classes.join(\" \");\n        },\n        // 组件的样式\n        textareaStyle() {\n            const style = new UTSJSONObject({});\n            return deepMerge(style, addStyle(this.customStyle));\n        },\n    },\n    emits: ['update:modelValue', 'linechange', 'focus', 'blur', 'change', 'confirm', 'keyboardheightchange'],\n    methods: {\n        addStyle,\n        addUnit,\n        // 在微信小程序中，不支持将函数当做props参数，故只能通过ref形式调用\n        setFormatter(e = null) {\n            this.innerFormatter = e;\n        },\n        onFocus(e = null) {\n            this.$emit(\"focus\", e);\n        },\n        onBlur(e = null) {\n            this.$emit(\"blur\", e);\n            // 尝试调用u-form的验证方法\n            formValidate(this, \"blur\");\n        },\n        onLinechange(e = null) {\n            this.$emit(\"linechange\", e);\n        },\n        onInput(e = null) {\n            let _a = (e.detail || new UTSJSONObject({})).value, value = _a == void 0 ? \"\" : _a;\n            // 格式化过滤方法\n            const formatter = this.formatter || this.innerFormatter;\n            const formatValue = formatter(value);\n            // 为了避免props的单向数据流特性，需要先将innerValue值设置为当前值，再在$nextTick中重新赋予设置后的值才有效\n            this.innerValue = value;\n            this.$nextTick(() => {\n                this.innerValue = formatValue;\n                this.valueChange();\n            });\n        },\n        // 内容发生变化，进行处理\n        valueChange() {\n            const value = this.innerValue;\n            this.$nextTick(() => {\n                this.$emit(\"update:modelValue\", value);\n                // 标识value值的变化是由内部引起的\n                this.changeFromInner = true;\n                this.$emit(\"change\", value);\n                // 尝试调用u-form的验证方法\n                formValidate(this, \"change\");\n            });\n        },\n        onConfirm(e = null) {\n            this.$emit(\"confirm\", e);\n        },\n        onKeyboardheightchange(e = null) {\n            this.$emit(\"keyboardheightchange\", e);\n        },\n    },\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/uni_modules/uview-plus/components/u-textarea/u-textarea.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uview-plus/components/u-textarea/props.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uview-plus/libs/mixin/mpMixin.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uview-plus/libs/mixin/mixin.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uview-plus/libs/function/index.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"u-textarea.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"u-textarea.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
