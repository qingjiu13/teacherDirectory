{"code":"import { defineComponent } from \"vue\";\nimport { mapGetters } from 'vuex';\nexport default defineComponent({\n    data() {\n        return {\n            teacherId: '',\n            teacherName: '老师',\n            inputMessage: '',\n            messages: [\n                new UTSJSONObject({\n                    content: '您好，我是您的专业辅导老师，有什么可以帮助您的？',\n                    isSelf: false\n                })\n            ]\n        };\n    },\n    computed: Object.assign({}, mapGetters('user/match', ['teacherInfo'])),\n    onLoad(options) {\n        if (options.userId) {\n            this.teacherId = options.userId;\n            // 加载教师信息\n            this.loadTeacherInfo();\n        }\n        // 添加对teacherId参数的支持\n        else if (options.teacherId) {\n            this.teacherId = options.teacherId;\n            this.teacherName = options.teacherName || '老师';\n            // 获取完整教师信息\n            this.loadTeacherInfo();\n        }\n    },\n    methods: {\n        /**\n         * 返回上一页\n         */\n        goBack() {\n            uni.navigateBack();\n        },\n        /**\n         * 加载教师信息\n         */\n        loadTeacherInfo() {\n            if (!this.teacherId)\n                return null;\n            // 直接从Vuex中获取教师信息\n            const teacherData = this.teacherInfo(this.teacherId);\n            if (teacherData && teacherData.name) {\n                this.teacherName = teacherData.name;\n            }\n            else {\n                // 如果没有找到，使用本地备选数据\n                this.getTeacherNameFromLocal();\n            }\n        },\n        /**\n         * 从本地模拟数据获取教师姓名（作为后备方案）\n         */\n        getTeacherNameFromLocal() {\n            // 模拟获取教师信息\n            const teachers = new UTSJSONObject({\n                'teacher001': '张老师',\n                'teacher002': '李老师',\n                '1': '王教授',\n                '2': '李博士',\n                '3': '张老师',\n                '4': '刘教授',\n                '5': '陈老师'\n            });\n            this.teacherName = teachers[this.teacherId] || '老师';\n        },\n        /**\n         * 发送消息\n         */\n        sendMessage() {\n            if (!this.inputMessage.trim())\n                return null;\n            // 添加自己的消息\n            this.messages.push({\n                content: this.inputMessage,\n                isSelf: true\n            });\n            const userMessage = this.inputMessage;\n            this.inputMessage = '';\n            // 模拟教师回复\n            setTimeout(() => {\n                this.messages.push({\n                    content: `收到您的消息：\"${userMessage}\"，我会尽快回复您。`,\n                    isSelf: false\n                });\n            }, 1000);\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pages/message/chat.vue?vue&type=script&lang.uts.js.map","references":["E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/vuex/types/index.d.ts"],"uniExtApis":["uni.navigateBack"],"map":"{\"version\":3,\"file\":\"chat.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"chat.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,UAAU,EAAE,MAAM,MAAM,CAAA;AAEjC,+BAAe;IACd,IAAI;QACH,OAAO;YACN,SAAS,EAAE,EAAE;YACb,WAAW,EAAE,IAAI;YACjB,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE;kCACT;oBACC,OAAO,EAAE,0BAA0B;oBACnC,MAAM,EAAE,KAAK;iBACb;aACD;SACD,CAAA;IACF,CAAC;IAED,QAAQ,oBAIJ,UAAU,CAAC,YAAY,EAAE,CAAC,aAAa,CAAC,CAAC,CAC5C;IAED,MAAM,CAAC,OAAO;QACb,IAAI,OAAO,CAAC,MAAM,EAAE;YACnB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC;YAChC,SAAS;YACT,IAAI,CAAC,eAAe,EAAE,CAAC;SACvB;QACD,oBAAoB;aACf,IAAI,OAAO,CAAC,SAAS,EAAE;YAC3B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;YACnC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC;YAC/C,WAAW;YACX,IAAI,CAAC,eAAe,EAAE,CAAC;SACvB;IACF,CAAC;IACD,OAAO,EAAE;QACR;;WAEG;QACH,MAAM;YACL,GAAG,CAAC,YAAY,EAAE,CAAC;QACpB,CAAC;QAED;;WAEG;QACH,eAAe;YACd,IAAI,CAAC,IAAI,CAAC,SAAS;gBAAE,YAAO;YAE5B,iBAAiB;YACjB,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAErD,IAAI,WAAW,IAAI,WAAW,CAAC,IAAI,EAAE;gBACpC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC;aACpC;iBAAM;gBACN,kBAAkB;gBAClB,IAAI,CAAC,uBAAuB,EAAE,CAAC;aAC/B;QACF,CAAC;QAED;;WAEG;QACH,uBAAuB;YACtB,WAAW;YACX,MAAM,QAAQ,qBAAG;gBAChB,YAAY,EAAE,KAAK;gBACnB,YAAY,EAAE,KAAK;gBACnB,GAAG,EAAE,KAAK;gBACV,GAAG,EAAE,KAAK;gBACV,GAAG,EAAE,KAAK;gBACV,GAAG,EAAE,KAAK;gBACV,GAAG,EAAE,KAAK;aACV,CAAA,CAAC;YACF,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;QACrD,CAAC;QAED;;WAEG;QACH,WAAW;YACV,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE;gBAAE,YAAO;YAEtC,UAAU;YACV,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAClB,OAAO,EAAE,IAAI,CAAC,YAAY;gBAC1B,MAAM,EAAE,IAAI;aACZ,CAAC,CAAC;YAEH,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;YACtC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YAEvB,SAAS;YACT,UAAU,CAAC;gBACV,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oBAClB,OAAO,EAAE,WAAW,WAAW,YAAY;oBAC3C,MAAM,EAAE,KAAK;iBACb,CAAC,CAAC;YACJ,CAAC,EAAE,IAAI,CAAC,CAAC;QACV,CAAC;KACD;CACD,EAAA\"}"}
