{"code":"import { defineComponent } from \"vue\";\n/**\n * @description 底部导航栏组件\n */\nimport { Navigator, IndexRoutes, MessageRoutes, MineRoutes, AIRoutes } from '@/router/Router.js';\nexport default defineComponent({\n    props: {\n        pageName: {\n            type: String,\n            default: 'index'\n        }\n    },\n    data() {\n        return {\n            /**\n             * @description 页面路径映射\n             */\n            tabRoutes: new UTSJSONObject({\n                'index': IndexRoutes.INDEX,\n                'AI': AIRoutes.AI_SERVER,\n                'message': MessageRoutes.MESSAGE,\n                'mine': MineRoutes.MINE\n            }),\n            /**\n             * @description 页面图标路径映射\n             */\n            iconPaths: new UTSJSONObject({\n                'index': new UTSJSONObject({\n                    normal: '/static/image/tab-bar/indexDown.png',\n                    active: '/static/image/tab-bar/indexUp.png'\n                }),\n                'AI': new UTSJSONObject({\n                    normal: '/static/image/tab-bar/AI.png',\n                    active: '/static/image/tab-bar/AI.png'\n                }),\n                'message': new UTSJSONObject({\n                    normal: '/static/image/tab-bar/messageDown.png',\n                    active: '/static/image/tab-bar/messageUp.png'\n                }),\n                'mine': new UTSJSONObject({\n                    normal: '/static/image/tab-bar/mineDown.png',\n                    active: '/static/image/tab-bar/mineUp.png'\n                })\n            })\n        };\n    },\n    methods: {\n        /**\n         * @description 获取页面对应的图标路径\n         * @param {string} page - 页面名称\n         * @returns {string} 图标路径\n         */\n        getIconPath(page = null) {\n            const isActive = page === this.pageName;\n            const iconConfig = this.iconPaths[page];\n            return isActive ? iconConfig.active : iconConfig.normal;\n        },\n        /**\n         * @description 切换到指定页面\n         * @param {string} page - 页面名称\n         */\n        switchPage(page = null) {\n            // 如果已经在当前页面，不执行操作\n            if (page === this.pageName) {\n                return null;\n            }\n            // 跳转前检查目标页面是否存在\n            if (!this.tabRoutes[page]) {\n                uni.__f__('error', 'at components/tab-bar/tab-bar.vue:99', '页面不存在:', page);\n                return null;\n            }\n            try {\n                // 获取当前页面栈深度\n                const pages = getCurrentPages();\n                const stackDepth = pages.length;\n                // 如果页面栈深度接近上限(8或以上)，使用reLaunch清空页面栈\n                // 微信小程序页面栈上限为10\n                if (stackDepth >= 8) {\n                    uni.__f__('warn', 'at components/tab-bar/tab-bar.vue:111', '页面栈接近上限，使用reLaunch清空页面栈');\n                    switch (page) {\n                        case 'index':\n                            Navigator.reLaunch(IndexRoutes.INDEX);\n                            break;\n                        case 'message':\n                            Navigator.reLaunch(MessageRoutes.MESSAGE);\n                            break;\n                        case 'mine':\n                            Navigator.reLaunch(MineRoutes.MINE);\n                            break;\n                        case 'AI':\n                            Navigator.reLaunch(AIRoutes.AI_SERVER);\n                            break;\n                        default:\n                            uni.__f__('error', 'at components/tab-bar/tab-bar.vue:126', '未知的页面类型:', page);\n                    }\n                    return null;\n                }\n                // 修改：使用redirectTo而不是switchTab\n                // redirectTo会关闭当前页面，跳转到应用内的某个页面\n                switch (page) {\n                    case 'index':\n                        Navigator.redirectTo(IndexRoutes.INDEX);\n                        break;\n                    case 'message':\n                        Navigator.redirectTo(MessageRoutes.MESSAGE);\n                        break;\n                    case 'mine':\n                        Navigator.redirectTo(MineRoutes.MINE);\n                        break;\n                    case 'AI':\n                        Navigator.redirectTo(AIRoutes.AI_SERVER);\n                        break;\n                    default:\n                        uni.__f__('error', 'at components/tab-bar/tab-bar.vue:147', '未知的页面类型:', page);\n                }\n            }\n            catch (e) {\n                uni.__f__('error', 'at components/tab-bar/tab-bar.vue:150', 'Tab切换失败:', e);\n            }\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/components/tab-bar/tab-bar.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/router/Router.js"],"uniExtApis":["uni.__f__"],"map":"{\"version\":3,\"file\":\"tab-bar.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"tab-bar.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
