{"code":"import { defineComponent } from \"vue\";\nimport UNI_APP from './env.js';\n// 引入模拟数据和服务\nimport Header from '@/components/navigationTitleBar/header';\nimport mockChatService from './common/mockChatService.js';\nimport { getMockUserById, getMockGroupById, getMockCurrentUser, mockChats } from './common/mockData.js';\nimport ChatMessageItem from './components/chat-message-item/chat-message-item';\nimport ChatRecord from './components/chat-record/chat-record';\nimport FileUpload from './components/file-upload/file-upload';\nimport ImageUpload from './components/image-upload/image-upload';\nimport HeadImage from './components/head-image/head-image';\nimport ChatAtBox from './components/chat-at-box/chat-at-box';\nimport GroupMemberSelector from './components/group-member-selector/group-member-selector';\nimport GroupRtcJoin from './components/group-rtc-join/group-rtc-join';\nimport ChatItem from './components/chat-item/chat-item';\nimport Loading from './components/loading/loading';\nimport LongPressMenu from './components/long-press-menu/long-press-menu';\n// 导入enums等工具\nimport * as enums from './common/enums.js';\nimport * as messageType from './common/messageType.js';\nimport emotion from './common/emotion.js';\nimport url from './common/url.js';\n// 直接引入store获取函数\nimport { getChatStore, getFriendStore, getConfigStore, getUserStore, getGroupStore } from './main.js';\nexport default defineComponent({\n    components: {\n        Header,\n        ChatMessageItem,\n        ChatRecord,\n        FileUpload,\n        ImageUpload,\n        ChatAtBox,\n        HeadImage,\n        GroupMemberSelector,\n        GroupRtcJoin,\n        ChatItem,\n        Loading,\n        LongPressMenu\n    },\n    data() {\n        return {\n            textContent: '',\n            chat: new UTSJSONObject({}),\n            userInfo: new UTSJSONObject({}),\n            group: new UTSJSONObject({}),\n            groupMembers: [],\n            isReceipt: false,\n            scrollMsgIdx: 0,\n            chatTabBox: 'none',\n            showRecord: false,\n            chatMainHeight: 0,\n            keyboardHeight: 290,\n            windowHeight: 1000,\n            initHeight: 1000,\n            atUserIds: [],\n            needScrollToBottom: false,\n            showMinIdx: 0,\n            reqQueue: [],\n            isSending: false,\n            isShowKeyBoard: false,\n            editorCtx: null,\n            isEmpty: true,\n            isFocus: false,\n            isReadOnly: false,\n            playingAudio: null,\n            // 是否使用模拟数据\n            useMockData: true,\n            // 模拟用户数据\n            mockCurrentUser: null,\n            // 存储引用\n            chatStore: null,\n            friendStore: null,\n            configStore: null,\n            userStore: null,\n            groupStore: null,\n            // 输入框层级\n            sendBarZIndex: 2, // 默认z-index值\n        };\n    },\n    created() {\n        // 确保组件中可以使用这些全局属性\n        if (!this.$enums)\n            this.$enums = enums;\n        if (!this.$msgType)\n            this.$msgType = messageType;\n        if (!this.$emo)\n            this.$emo = emotion;\n        if (!this.$url)\n            this.$url = url;\n        // 初始化store引用\n        try {\n            // 优先从直接导入的函数获取\n            this.chatStore = getChatStore();\n            this.friendStore = getFriendStore();\n            this.configStore = getConfigStore();\n            this.userStore = getUserStore();\n            this.groupStore = getGroupStore();\n            // 如果导出的函数无法获取，尝试从全局属性获取\n            if (!this.chatStore && this.$) {\n                uni.__f__('log', 'at pagesChat/chat-box.vue:256', 'chat-box.vue: 尝试从全局属性获取Store');\n                this.chatStore = this.$chatStore;\n                this.friendStore = this.$friendStore;\n                this.configStore = this.$configStore;\n                this.userStore = this.$userStore;\n                this.groupStore = this.$groupStore;\n            }\n            uni.__f__('log', 'at pagesChat/chat-box.vue:264', 'chat-box.vue: 获取Store成功:', 'chatStore=', !!this.chatStore, 'friendStore=', !!this.friendStore);\n        }\n        catch (error) {\n            uni.__f__('error', 'at pagesChat/chat-box.vue:269', 'chat-box.vue: 获取Store失败:', error);\n        }\n        // 初始化当前用户\n        this.mockCurrentUser = getMockCurrentUser();\n        // 添加数据检查，确保模拟数据已初始化\n        if (this.useMockData && (!this.chatStore || !this.chatStore.chats || this.chatStore.chats.length === 0)) {\n            uni.__f__('log', 'at pagesChat/chat-box.vue:277', 'chat-box.vue: 强制初始化模拟数据');\n            this.initMockData();\n        }\n    },\n    methods: {\n        handleBack() {\n            uni.navigateBack();\n        },\n        onRecorderInput() {\n            this.showRecord = true;\n            this.switchChatTabBox('none');\n        },\n        onKeyboardInput() {\n            this.showRecord = false;\n            this.switchChatTabBox('none');\n        },\n        onSendRecord(data = null) {\n            // 检查是否被封禁\n            if (this.isBanned) {\n                this.showBannedTip();\n                return null;\n            }\n            let msgInfo = new UTSJSONObject({\n                content: UTS.JSON.stringify(data),\n                type: this.$enums.MESSAGE_TYPE.AUDIO,\n                receipt: this.isReceipt\n            }\n            // 填充对方id\n            );\n            // 填充对方id\n            this.fillTargetId(msgInfo, this.chat.targetId);\n            this.sendMessageRequest(msgInfo).then((m = null) => {\n                m.selfSend = true;\n                this.chatStore.insertMessage(m, this.chat);\n                // 会话置顶\n                this.moveChatToTop();\n                // 滚动到底部\n                this.scrollToBottom();\n                this.isReceipt = false;\n            });\n        },\n        onRtCall(msgInfo = null) {\n            if (msgInfo.type == this.$enums.MESSAGE_TYPE.ACT_RT_VOICE) {\n                this.onPriviteVoice();\n            }\n            else if (msgInfo.type == this.$enums.MESSAGE_TYPE.ACT_RT_VIDEO) {\n                this.onPriviteVideo();\n            }\n        },\n        onPriviteVideo() {\n            const friendInfo = encodeURIComponent(UTS.JSON.stringify(this.friend));\n            uni.navigateTo({\n                url: `/pages/chat/chat-private-video?mode=video&friend=${friendInfo}&isHost=true`\n            });\n        },\n        onPriviteVoice() {\n            const friendInfo = encodeURIComponent(UTS.JSON.stringify(this.friend));\n            uni.navigateTo({\n                url: `/pages/chat/chat-private-video?mode=voice&friend=${friendInfo}&isHost=true`\n            });\n        },\n        onGroupVideo() {\n            // 邀请成员发起通话\n            let ids = [this.mine.id];\n            this.$refs.selBox.init(ids, ids, []);\n            this.$refs.selBox.open();\n        },\n        onInviteOk(ids = null) {\n            if (ids.length < 2) {\n                return null;\n            }\n            let users = [];\n            ids.forEach((id = null) => {\n                let m = UTS.arrayFind(this.groupMembers, m => { return m.userId == id; });\n                // 只取部分字段,压缩url长度\n                users.push({\n                    id: m.userId,\n                    nickName: m.showNickName,\n                    headImage: m.headImage,\n                    isCamera: false,\n                    isMicroPhone: true\n                });\n            });\n            const groupId = this.group.id;\n            const inviterId = this.mine.id;\n            const userInfos = encodeURIComponent(UTS.JSON.stringify(users));\n            uni.navigateTo({\n                url: `/pages/chat/chat-group-video?groupId=${groupId}&isHost=true\n\t\t\t\t\t\t&inviterId=${inviterId}&userInfos=${userInfos}`\n            });\n        },\n        moveChatToTop() {\n            let chatIdx = this.chatStore.findChatIdx(this.chat);\n            this.chatStore.moveTop(chatIdx);\n        },\n        switchReceipt() {\n            this.isReceipt = !this.isReceipt;\n        },\n        openAtBox() {\n            this.$refs.atBox.init(this.atUserIds);\n            this.$refs.atBox.open();\n        },\n        onAtComplete(atUserIds = null) {\n            this.atUserIds = atUserIds;\n        },\n        onLongPressHead(msgInfo = null) {\n            if (!msgInfo.selfSend && this.chat.type == \"GROUP\" && this.atUserIds.indexOf(msgInfo.sendId) < 0) {\n                this.atUserIds.push(msgInfo.sendId);\n            }\n        },\n        headImage(msgInfo = null) {\n            if (!msgInfo) {\n                return '';\n            }\n            try {\n                if (this.chat && this.chat.type == 'GROUP') {\n                    let member = UTS.arrayFind(this.groupMembers, (m) => { return m && m.userId == msgInfo.sendId; });\n                    return member ? member.headImage : \"\";\n                }\n                else {\n                    return msgInfo.selfSend ? (this.mine && this.mine.headImageThumb ? this.mine.headImageThumb : '') :\n                        (this.chat && this.chat.headImage ? this.chat.headImage : '');\n                }\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:399', '获取头像出错:', error);\n                return '';\n            }\n        },\n        showName(msgInfo = null) {\n            if (!msgInfo) {\n                return '';\n            }\n            try {\n                if (this.chat && this.chat.type == 'GROUP') {\n                    let member = UTS.arrayFind(this.groupMembers, (m) => { return m && m.userId == msgInfo.sendId; });\n                    return member ? member.showNickName : \"\";\n                }\n                else {\n                    return msgInfo.selfSend ? (this.mine && this.mine.nickName ? this.mine.nickName : '') :\n                        (this.chat && this.chat.showName ? this.chat.showName : '');\n                }\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:417', '获取名称出错:', error);\n                return '';\n            }\n        },\n        sendTextMessage() {\n            // 确保editorCtx存在\n            if (!this.editorCtx) {\n                uni.__f__('log', 'at pagesChat/chat-box.vue:424', '编辑器未初始化');\n                setTimeout(() => {\n                    this.sendTextMessage();\n                }, 300);\n                return null;\n            }\n            this.editorCtx.getContents({\n                success: (e = null) => {\n                    // 清空编辑框数据\n                    this.editorCtx.clear();\n                    // 检查是否被封禁\n                    if (this.isBanned) {\n                        this.showBannedTip();\n                        return null;\n                    }\n                    let sendText = \"\";\n                    e.delta.ops.forEach((op = null) => {\n                        if (op.insert && op.insert.image) {\n                            // emo表情\n                            sendText += `#${op.attributes.alt};`;\n                        }\n                        else if (op.insert) {\n                            // 文字\n                            sendText += op.insert;\n                        }\n                    });\n                    if (!sendText.trim() && this.atUserIds.length == 0) {\n                        return uni.showToast({\n                            title: \"不能发送空白信息\",\n                            icon: \"none\"\n                        });\n                    }\n                    let receiptText = this.isReceipt ? \"【回执消息】\" : \"\";\n                    let atText = this.createAtText();\n                    if (this.useMockData) {\n                        // 使用模拟数据\n                        const message = new UTSJSONObject({\n                            tmpId: 'tmp_' + Date.now(),\n                            type: this.$enums.MESSAGE_TYPE.TEXT,\n                            content: receiptText + this.html2Escape(sendText) + atText,\n                            status: this.$enums.MESSAGE_STATUS.UNSEND\n                        });\n                        mockChatService.sendMessage(message, new UTSJSONObject({\n                            type: this.chat.type,\n                            targetId: this.chat.targetId\n                        })).then(() => {\n                            // 滚动到底部\n                            this.scrollToBottom();\n                        });\n                        // 清空@成员和回执标记\n                        this.atUserIds = [];\n                        this.isReceipt = false;\n                    }\n                    else {\n                        // 使用原接口\n                        let msgInfo = new UTSJSONObject({\n                            content: receiptText + this.html2Escape(sendText) + atText,\n                            atUserIds: this.atUserIds,\n                            receipt: this.isReceipt,\n                            type: 0\n                        }\n                        // 清空@成员和回执标记\n                        );\n                        // 清空@成员和回执标记\n                        this.atUserIds = [];\n                        this.isReceipt = false;\n                        // 填充对方id\n                        this.fillTargetId(msgInfo, this.chat.targetId);\n                        this.sendMessageRequest(msgInfo).then((m = null) => {\n                            m.selfSend = true;\n                            this.chatStore.insertMessage(m, this.chat);\n                            // 会话置顶\n                            this.moveChatToTop();\n                        }).finally(() => {\n                            // 滚动到底部\n                            this.scrollToBottom();\n                        });\n                    }\n                }\n            });\n        },\n        createAtText() {\n            let atText = \"\";\n            this.atUserIds.forEach((id) => {\n                if (id == -1) {\n                    atText += ` @全体成员`;\n                }\n                else {\n                    let member = UTS.arrayFind(this.groupMembers, (m) => { return m.userId == id; });\n                    if (member) {\n                        atText += ` @${member.showNickName}`;\n                    }\n                }\n            });\n            return atText;\n        },\n        fillTargetId(msgInfo = null, targetId = null) {\n            if (this.chat.type == \"GROUP\") {\n                msgInfo.groupId = targetId;\n            }\n            else {\n                msgInfo.recvId = targetId;\n            }\n        },\n        scrollToBottom() {\n            let size = this.messageSize;\n            if (size > 0) {\n                this.scrollToMsgIdx(size - 1);\n            }\n        },\n        scrollToMsgIdx(idx = null) {\n            // 如果scrollMsgIdx值没变化，滚动条不会移动\n            if (idx == this.scrollMsgIdx && idx > 0) {\n                this.$nextTick(() => {\n                    // 先滚动到上一条\n                    this.scrollMsgIdx = idx - 1;\n                    // 再滚动目标位置\n                    this.scrollToMsgIdx(idx);\n                });\n                return null;\n            }\n            this.$nextTick(() => {\n                this.scrollMsgIdx = idx;\n            });\n        },\n        onShowEmoChatTab() {\n            this.showRecord = false;\n            // 关闭键盘，防止监听\n            if (this.editorCtx && typeof this.editorCtx.blur === 'function') {\n                try {\n                    this.editorCtx.blur();\n                }\n                catch (e) {\n                    uni.__f__('error', 'at pagesChat/chat-box.vue:554', '关闭键盘失败:', e);\n                }\n            }\n            // 确保先关闭键盘再打开表情栏\n            setTimeout(() => {\n                // 关闭键盘监听\n                this.unListenKeyboard();\n                this.switchChatTabBox('emo');\n                // 确保输入框在表情栏上方\n                this.adjustInputPosition();\n            }, 100);\n        },\n        onShowToolsChatTab() {\n            this.showRecord = false;\n            // 关闭键盘，防止监听\n            if (this.editorCtx && typeof this.editorCtx.blur === 'function') {\n                try {\n                    this.editorCtx.blur();\n                }\n                catch (e) {\n                    uni.__f__('error', 'at pagesChat/chat-box.vue:573', '关闭键盘失败:', e);\n                }\n            }\n            // 确保先关闭键盘再打开工具栏\n            setTimeout(() => {\n                // 关闭键盘监听\n                this.unListenKeyboard();\n                this.switchChatTabBox('tools');\n                // 确保输入框在工具栏上方\n                this.adjustInputPosition();\n            }, 100);\n        },\n        switchChatTabBox(chatTabBox = null) {\n            this.chatTabBox = chatTabBox;\n            this.reCalChatMainHeight();\n            // 如果关闭表情/工具栏，重新启用键盘监听\n            if (chatTabBox === 'none') {\n                this.listenKeyBoard();\n            }\n            if (chatTabBox != 'tools' && this.$refs.fileUpload) {\n                this.$refs.fileUpload.hide();\n            }\n        },\n        selectEmoji(emoText = null) {\n            let path = this.$emo.textToPath(emoText);\n            // 确保编辑器存在\n            if (!this.editorCtx) {\n                uni.__f__('log', 'at pagesChat/chat-box.vue:603', '编辑器未初始化，无法插入表情');\n                return null;\n            }\n            // 先把键盘禁用了，否则会重新弹出键盘\n            this.isReadOnly = true;\n            this.isEmpty = false;\n            // 使用安全的方式插入图片\n            this.$nextTick(() => {\n                try {\n                    if (this.editorCtx && typeof this.editorCtx.insertImage === 'function') {\n                        this.editorCtx.insertImage(new UTSJSONObject({\n                            src: path,\n                            alt: emoText,\n                            extClass: 'emoji-small',\n                            nowrap: true,\n                            complete: () => {\n                                this.isReadOnly = false;\n                                // 不使用可能导致错误的blur方法\n                                // this.editorCtx.blur();\n                            }\n                        }));\n                    }\n                    else {\n                        uni.__f__('log', 'at pagesChat/chat-box.vue:627', '编辑器insertImage方法不可用');\n                        this.isReadOnly = false;\n                    }\n                }\n                catch (e) {\n                    uni.__f__('error', 'at pagesChat/chat-box.vue:631', '插入表情错误:', e);\n                    this.isReadOnly = false;\n                }\n            });\n        },\n        onUploadImageBefore(file = null) {\n            // 检查是否被封禁\n            if (this.isBanned) {\n                this.showBannedTip();\n                return null;\n            }\n            let data = new UTSJSONObject({\n                originUrl: file.path,\n                thumbUrl: file.path\n            });\n            let msgInfo = new UTSJSONObject({\n                id: 0,\n                tmpId: this.generateId(),\n                fileId: file.uid,\n                sendId: this.mine.id,\n                content: UTS.JSON.stringify(data),\n                sendTime: new Date().getTime(),\n                selfSend: true,\n                type: this.$enums.MESSAGE_TYPE.IMAGE,\n                readedCount: 0,\n                loadStatus: \"loading\",\n                status: this.$enums.MESSAGE_STATUS.UNSEND\n            }\n            // 填充对方id\n            );\n            // 填充对方id\n            this.fillTargetId(msgInfo, this.chat.targetId);\n            // 插入消息\n            this.chatStore.insertMessage(msgInfo, this.chat);\n            // 会话置顶\n            this.moveChatToTop();\n            // 借助file对象保存\n            file.msgInfo = msgInfo;\n            file.chat = this.chat;\n            // 滚到最低部\n            this.scrollToBottom();\n            return true;\n        },\n        onUploadImageSuccess(file = null, res = null) {\n            let msgInfo = UTS.JSON.parse(UTS.JSON.stringify(file.msgInfo));\n            msgInfo.content = UTS.JSON.stringify(res.data);\n            msgInfo.receipt = this.isReceipt;\n            this.sendMessageRequest(msgInfo).then((m = null) => {\n                msgInfo.loadStatus = 'ok';\n                msgInfo.id = m.id;\n                this.isReceipt = false;\n                this.chatStore.insertMessage(msgInfo, file.chat);\n            });\n        },\n        onUploadImageFail(file = null, err = null) {\n            let msgInfo = UTS.JSON.parse(UTS.JSON.stringify(file.msgInfo));\n            msgInfo.loadStatus = 'fail';\n            this.chatStore.insertMessage(msgInfo, file.chat);\n        },\n        onUploadFileBefore(file = null) {\n            // 检查是否被封禁\n            if (this.isBanned) {\n                this.showBannedTip();\n                return null;\n            }\n            let data = new UTSJSONObject({\n                name: file.name,\n                size: file.size,\n                url: file.path\n            });\n            let msgInfo = new UTSJSONObject({\n                id: 0,\n                tmpId: this.generateId(),\n                sendId: this.mine.id,\n                content: UTS.JSON.stringify(data),\n                sendTime: new Date().getTime(),\n                selfSend: true,\n                type: this.$enums.MESSAGE_TYPE.FILE,\n                readedCount: 0,\n                loadStatus: \"loading\",\n                status: this.$enums.MESSAGE_STATUS.UNSEND\n            }\n            // 填充对方id\n            );\n            // 填充对方id\n            this.fillTargetId(msgInfo, this.chat.targetId);\n            // 插入消息\n            this.chatStore.insertMessage(msgInfo, this.chat);\n            // 会话置顶\n            this.moveChatToTop();\n            // 借助file对象保存\n            file.msgInfo = msgInfo;\n            file.chat = this.chat;\n            // 滚到最低部\n            this.scrollToBottom();\n            return true;\n        },\n        onUploadFileSuccess(file = null, res = null) {\n            let data = new UTSJSONObject({\n                name: file.name,\n                size: file.size,\n                url: res.data\n            });\n            let msgInfo = UTS.JSON.parse(UTS.JSON.stringify(file.msgInfo));\n            msgInfo.content = UTS.JSON.stringify(data);\n            msgInfo.receipt = this.isReceipt;\n            this.sendMessageRequest(msgInfo).then((m = null) => {\n                msgInfo.loadStatus = 'ok';\n                msgInfo.id = m.id;\n                this.isReceipt = false;\n                this.chatStore.insertMessage(msgInfo, file.chat);\n            });\n        },\n        onUploadFileFail(file = null, res = null) {\n            let msgInfo = UTS.JSON.parse(UTS.JSON.stringify(file.msgInfo));\n            msgInfo.loadStatus = 'fail';\n            this.chatStore.insertMessage(msgInfo, file.chat);\n        },\n        onDeleteMessage(msgInfo = null) {\n            uni.showModal(new UTSJSONObject({\n                title: '删除消息',\n                content: '确认删除消息?',\n                success: (res) => {\n                    if (!res.cancel) {\n                        if (this.useMockData) {\n                            // 使用模拟数据\n                            mockChatService.deleteMessage(msgInfo, new UTSJSONObject({\n                                type: this.chat.type,\n                                targetId: this.chat.targetId\n                            })).then(() => {\n                                uni.showToast({\n                                    title: \"删除成功\",\n                                    icon: \"none\"\n                                });\n                            });\n                        }\n                        else {\n                            // 使用原接口\n                            this.chatStore.deleteMessage(msgInfo, this.chat);\n                            uni.showToast({\n                                title: \"删除成功\",\n                                icon: \"none\"\n                            });\n                        }\n                    }\n                }\n            }));\n        },\n        onRecallMessage(msgInfo = null) {\n            uni.showModal(new UTSJSONObject({\n                title: '撤回消息',\n                content: '确认撤回消息?',\n                success: (res) => {\n                    if (!res.cancel) {\n                        if (this.useMockData) {\n                            // 使用模拟数据\n                            mockChatService.recallMessage(msgInfo, new UTSJSONObject({\n                                type: this.chat.type,\n                                targetId: this.chat.targetId\n                            })).then(() => {\n                                uni.showToast({\n                                    title: '撤回成功',\n                                    icon: 'none'\n                                });\n                            });\n                        }\n                        else {\n                            // 使用原接口\n                            let url_1 = `/message/${this.chat.type.toLowerCase()}/recall/${msgInfo.id}`;\n                            this.$http(new UTSJSONObject({\n                                url: url_1,\n                                method: 'DELETE'\n                            })).then((m = null) => {\n                                m.selfSend = true;\n                                this.chatStore.recallMessage(m, this.chat);\n                            });\n                        }\n                    }\n                }\n            }));\n        },\n        onCopyMessage(msgInfo = null) {\n            uni.setClipboardData({\n                data: msgInfo.content,\n                success: () => {\n                    uni.showToast({ title: '复制成功' });\n                },\n                fail: () => {\n                    uni.showToast({ title: '复制失败', icon: 'none' });\n                }\n            });\n        },\n        onDownloadFile(msgInfo = null) {\n            let url = UTS.JSON.parse(msgInfo.content).url;\n            uni.downloadFile({\n                url: url,\n                success(res) {\n                    if (res.statusCode === 200) {\n                        var filePath = encodeURI(res.tempFilePath);\n                        uni.openDocument({\n                            filePath: filePath,\n                            showMenu: true\n                        });\n                    }\n                },\n                fail(e) {\n                    uni.showToast({\n                        title: \"文件下载失败\",\n                        icon: \"none\"\n                    });\n                }\n            });\n        },\n        onScrollToTop() {\n            if (this.showMinIdx == 0) {\n                uni.__f__('log', 'at pagesChat/chat-box.vue:840', \"消息已滚动到顶部\");\n                return null;\n            }\n            // 防止滚动条定格在顶部，不能一直往上滚\n            this.scrollToMsgIdx(this.showMinIdx);\n            // 多展示20条信息\n            this.showMinIdx = this.showMinIdx > 20 ? this.showMinIdx - 20 : 0;\n        },\n        onShowMore() {\n            if (this.chat.type == \"GROUP\") {\n                uni.navigateTo({\n                    url: \"/pages/group/group-info?id=\" + this.group.id\n                });\n            }\n            else {\n                uni.navigateTo({\n                    url: \"/pages/common/user-info?id=\" + this.userInfo.id\n                });\n            }\n        },\n        onTextInput(e = null) {\n            try {\n                // 检查输入内容是否为空\n                if (this.editorCtx) {\n                    this.isEmpty = e.detail && e.detail.html == '<p><br></p>';\n                }\n                else {\n                    // textarea模式下检查内容是否为空\n                    this.isEmpty = !this.textContent || this.textContent.trim() === '';\n                }\n                // 调整输入框高度（延时确保UI更新）\n                setTimeout(() => {\n                    // 重新计算布局\n                    this.reCalChatMainHeight();\n                    // 如果焦点在编辑器，使用简单的滚动方法\n                    if (this.isFocus) {\n                        // 滚动到可见区域\n                        this.scrollToBottom();\n                    }\n                }, 50);\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:883', '处理文本输入错误:', error);\n            }\n        },\n        onEditorFocus(e = null) {\n            try {\n                this.isFocus = true;\n                this.scrollToBottom();\n                this.switchChatTabBox('none');\n                // 获取焦点时重新计算高度\n                setTimeout(() => {\n                    // 重新计算布局\n                    this.reCalChatMainHeight();\n                    // 简单处理，避免复杂的滚动逻辑\n                    if (this.editorCtx) {\n                        this.editorCtx.scrollIntoView();\n                    }\n                }, 50);\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:903', '编辑器获取焦点错误:', error);\n            }\n        },\n        onEditorBlur(e = null) {\n            try {\n                this.isFocus = false;\n                // 失去焦点时重新计算高度\n                setTimeout(() => {\n                    this.reCalChatMainHeight();\n                }, 50);\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:914', '编辑器失去焦点错误:', error);\n            }\n        },\n        onEditorReady() {\n            // 使用多次尝试初始化编辑器\n            const initEditor = () => {\n                const query = uni.createSelectorQuery().in(this);\n                query.select('#editor').context((res = null) => {\n                    if (res && res.context) {\n                        this.editorCtx = res.context;\n                        uni.__f__('log', 'at pagesChat/chat-box.vue:924', '编辑器初始化成功');\n                    }\n                    else {\n                        uni.__f__('log', 'at pagesChat/chat-box.vue:926', '编辑器初始化失败，将重试');\n                        setTimeout(initEditor, 500);\n                    }\n                }).exec();\n            };\n            // 延迟初始化，确保DOM已渲染\n            setTimeout(() => {\n                initEditor();\n            }, 300);\n        },\n        adjustEditorHeight() {\n            try {\n                // 直接重新计算主高度，不依赖于boundingClientRect\n                this.reCalChatMainHeight();\n                // 滚动到底部，避免使用editorCtx的方法\n                setTimeout(() => {\n                    this.scrollToBottom();\n                }, 100);\n            }\n            catch (e) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:947', '调整编辑器高度错误:', e);\n            }\n        },\n        scrollEditorToBottom() {\n            // 添加延时确保UI已渲染\n            setTimeout(() => {\n                // 直接使用滚动到底部方法，避免依赖编辑器上下文\n                this.scrollToBottom();\n            }, 50);\n        },\n        ensureEditorScrollToBottom() {\n            try {\n                // 检查是否存在editorCtx\n                if (this.editorCtx) {\n                    try {\n                        // 使用安全的调用方式\n                        if (typeof this.editorCtx.scrollIntoView === 'function') {\n                            this.editorCtx.scrollIntoView();\n                        }\n                    }\n                    catch (e) {\n                        uni.__f__('log', 'at pagesChat/chat-box.vue:967', '编辑器滚动方法失败:', e);\n                    }\n                }\n                // 简单滚动到底部方法，适用于任何情况\n                this.scrollToBottom();\n            }\n            catch (e) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:987', '滚动编辑器到底部错误:', e);\n            }\n        },\n        onAudioStateChange(state = null, msgInfo = null) {\n            const playingAudio = this.$refs['message' + msgInfo.id][0];\n            if (state == 'PLAYING' && playingAudio != this.playingAudio) {\n                // 停止之前的录音\n                this.playingAudio && this.playingAudio.stopPlayAudio();\n                // 记录当前正在播放的消息\n                this.playingAudio = playingAudio;\n            }\n        },\n        loadReaded(fid = null) {\n            if (this.useMockData) {\n                // 模拟数据无需加载已读状态\n                return null;\n            }\n            this.$http(new UTSJSONObject({\n                url: `/message/private/maxReadedId?friendId=${fid}`,\n                method: 'get'\n            })).then((id = null) => {\n                this.chatStore.readedMessage(new UTSJSONObject({\n                    friendId: fid,\n                    maxId: id\n                }));\n            });\n        },\n        readedMessage() {\n            if (this.unreadCount == 0) {\n                return null;\n            }\n            if (this.useMockData) {\n                // 使用模拟数据时直接重置未读计数\n                if (this.chat) {\n                    this.chat.unreadCount = 0;\n                    this.scrollToBottom();\n                }\n                return null;\n            }\n            let url = \"\";\n            if (this.chat.type == \"GROUP\") {\n                url = `/message/group/readed?groupId=${this.chat.targetId}`;\n            }\n            else {\n                url = `/message/private/readed?friendId=${this.chat.targetId}`;\n            }\n            this.$http(new UTSJSONObject({\n                url: url,\n                method: 'PUT'\n            })).then(() => {\n                this.chatStore.resetUnreadCount(this.chat);\n                this.scrollToBottom();\n            });\n        },\n        loadGroup(groupId = null) {\n            if (this.useMockData) {\n                // 使用模拟数据\n                const group = getMockGroupById(groupId);\n                if (group) {\n                    this.group = new UTSJSONObject({\n                        id: group.id,\n                        showGroupName: group.showGroupName,\n                        headImageThumb: group.headImageThumb,\n                        memberCount: group.memberCount,\n                        isBanned: false,\n                        ownerId: 1 // 假设当前用户是群主\n                    });\n                    // 模拟群成员\n                    this.groupMembers = [];\n                    group.members.forEach((memberId = null) => {\n                        const user = getMockUserById(memberId);\n                        if (user) {\n                            this.groupMembers.push({\n                                userId: user.id,\n                                showNickName: user.nickName,\n                                headImage: user.headImageThumb,\n                                quit: false\n                            });\n                        }\n                    });\n                }\n                return null;\n            }\n            this.$http(new UTSJSONObject({\n                url: `/group/find/${groupId}`,\n                method: 'GET'\n            })).then((group = null) => {\n                this.group = group;\n                this.chatStore.updateChatFromGroup(group);\n                this.groupStore.updateGroup(group);\n            });\n            this.$http(new UTSJSONObject({\n                url: `/group/members/${groupId}`,\n                method: 'GET'\n            })).then((groupMembers = null) => {\n                this.groupMembers = groupMembers;\n            });\n        },\n        updateFriendInfo() {\n            if (this.isFriend) {\n                // store的数据不能直接修改，深拷贝一份store的数据\n                let friend = UTS.JSON.parse(UTS.JSON.stringify(this.friend));\n                friend.headImage = this.userInfo.headImageThumb;\n                friend.nickName = this.userInfo.nickName;\n                friend.showNickName = friend.remarkNickName ? friend.remarkNickName : friend.nickName;\n                // 更新好友列表中的昵称和头像\n                this.friendStore.updateFriend(friend);\n                // 更新会话中的头像和昵称\n                this.chatStore.updateChatFromFriend(friend);\n            }\n            else {\n                this.chatStore.updateChatFromUser(this.userInfo);\n            }\n        },\n        loadFriend(friendId = null) {\n            if (this.useMockData) {\n                // 使用模拟数据\n                const user = getMockUserById(friendId);\n                if (user) {\n                    this.userInfo = new UTSJSONObject({\n                        id: user.id,\n                        nickName: user.nickName,\n                        headImageThumb: user.headImageThumb,\n                        state: user.state,\n                        isBanned: false\n                    });\n                }\n                return null;\n            }\n            // 获取好友用户信息\n            this.$http(new UTSJSONObject({\n                url: `/user/find/${friendId}`,\n                method: 'GET'\n            })).then((userInfo = null) => {\n                this.userInfo = userInfo;\n                this.updateFriendInfo();\n            });\n        },\n        rpxTopx(rpx = null) {\n            // rpx转换成px\n            let info = uni.getSystemInfoSync();\n            let px = info.windowWidth * rpx / 750;\n            return Math.floor(rpx);\n        },\n        html2Escape(strHtml = null) {\n            return strHtml.replace(/[<>&\"]/g, function (c = null) {\n                return (new UTSJSONObject({\n                    '<': '&lt;',\n                    '>': '&gt;',\n                    '&': '&amp;',\n                    '\"': '&quot;'\n                }))[c];\n            });\n        },\n        sendMessageRequest(msgInfo = null) {\n            return new Promise((resolve, reject) => {\n                // 请求入队列，防止请求\"后发先至\"，导致消息错序\n                this.reqQueue.push({ msgInfo, resolve, reject });\n                this.processReqQueue();\n            });\n        },\n        processReqQueue() {\n            if (this.reqQueue.length && !this.isSending) {\n                this.isSending = true;\n                const reqData = UTS.arrayShift(this.reqQueue);\n                if (this.useMockData) {\n                    // 使用模拟数据发送消息\n                    mockChatService.sendMessage(reqData.msgInfo, new UTSJSONObject({\n                        type: this.chat.type,\n                        targetId: this.chat.targetId\n                    })).then((result = null) => {\n                        reqData.resolve(result.message);\n                    }).catch((error = null) => {\n                        reqData.reject(error);\n                    }).finally(() => {\n                        this.isSending = false;\n                        // 发送下一条请求\n                        this.processReqQueue();\n                    });\n                }\n                else {\n                    // 使用原接口\n                    this.$http(new UTSJSONObject({\n                        url: this.messageAction,\n                        method: 'post',\n                        data: reqData.msgInfo\n                    })).then((res = null) => {\n                        reqData.resolve(res);\n                    }).catch((e = null) => {\n                        reqData.reject(e);\n                    }).finally(() => {\n                        this.isSending = false;\n                        // 发送下一条请求\n                        this.processReqQueue();\n                    });\n                }\n            }\n        },\n        reCalChatMainHeight() {\n            setTimeout(() => {\n                try {\n                    let h_1 = this.windowHeight;\n                    // 减去标题栏高度\n                    h_1 -= 50;\n                    // 如果显示表情栏或工具栏，减去其高度\n                    if (this.chatTabBox === 'emo' || this.chatTabBox === 'tools') {\n                        h_1 -= this.keyboardHeight;\n                        // 使用数据属性控制z-index，而不是DOM操作\n                        this.sendBarZIndex = 1001;\n                    }\n                    else {\n                        // 还原z-index\n                        this.sendBarZIndex = 2;\n                    }\n                    // h5需要减去状态栏高度\n                    h_1 -= uni.getSystemInfoSync().statusBarHeight;\n                    // 安全设置聊天主窗口高度\n                    this.chatMainHeight = h_1;\n                    // 在键盘弹出或底部工具栏显示时滚动到底部\n                    if (this.isShowKeyBoard || this.chatTabBox != 'none') {\n                        this.scrollToBottom();\n                    }\n                    // ios浏览器键盘把页面顶起后，页面长度不会变化，这里把页面拉到顶部适配一下\n                }\n                catch (e) {\n                    uni.__f__('error', 'at pagesChat/chat-box.vue:1236', '重新计算聊天主窗口高度错误:', e);\n                }\n            }, 30);\n        },\n        listenKeyBoard() {\n            // app实现键盘监听\n            uni.onKeyboardHeightChange(this.keyBoardListener);\n        },\n        unListenKeyboard() {\n            uni.offKeyboardHeightChange(this.keyBoardListener);\n        },\n        keyBoardListener(res = null) {\n            // 保存键盘状态\n            this.isShowKeyBoard = res.height > 0;\n            // 不再设置键盘高度\n            // if (this.isShowKeyBoard) {\n            //   this.keyboardHeight = res.height; // 获取真实键盘高度\n            //   uni.__f__('log','at pagesChat/chat-box.vue:1282','键盘高度:', this.keyboardHeight);\n            // }\n            // 移除对高度的重新计算\n            // this.reCalChatMainHeight();\n        },\n        resizeListener() {\n            // 计算实际键盘高度\n            // let keyboardHeight = this.initHeight - window.innerHeight;\n            let keyboardHeight = 0;\n            // 兼容部分iOS浏览器\n            if (window.visualViewport && uni.getSystemInfoSync().platform == 'ios') {\n                // keyboardHeight = this.initHeight - window.visualViewport.height;\n                keyboardHeight = 0;\n            }\n            // 只在键盘高度超过阈值时更新状态\n            this.isShowKeyBoard = keyboardHeight > 150;\n            // 不再设置keyboardHeight\n            // if (this.isShowKeyBoard && keyboardHeight > 150) {\n            // \tthis.keyboardHeight = keyboardHeight;\n            // \tuni.__f__('log','at pagesChat/chat-box.vue:1305','键盘高度(resize):', this.keyboardHeight);\n            // }\n            // 移除对高度的重新计算\n            // this.reCalChatMainHeight();\n        },\n        focusInListener() {\n            this.isShowKeyBoard = true;\n            // 移除对高度的重新计算\n            // this.reCalChatMainHeight();\n        },\n        focusOutListener() {\n            this.isShowKeyBoard = false;\n            // 移除对高度的重新计算\n            // this.reCalChatMainHeight();\n        },\n        showBannedTip() {\n            let msgInfo = new UTSJSONObject({\n                tmpId: this.generateId(),\n                sendId: this.mine.id,\n                sendTime: new Date().getTime(),\n                type: this.$enums.MESSAGE_TYPE.TIP_TEXT\n            });\n            if (this.chat.type == \"PRIVATE\") {\n                msgInfo.recvId = this.mine.id;\n                msgInfo.content = \"该用户已被管理员封禁,原因:\" + this.userInfo.reason;\n            }\n            else {\n                msgInfo.groupId = this.group.id;\n                msgInfo.content = \"本群聊已被管理员封禁,原因:\" + this.group.reason;\n            }\n            this.chatStore.insertMessage(msgInfo, this.chat);\n        },\n        generateId() {\n            // 生成临时id \n            return String(new Date().getTime()) + String(Math.floor(Math.random() * 1000));\n        },\n        initMockData() {\n            uni.__f__('log', 'at pagesChat/chat-box.vue:1342', 'chat-box.vue: 开始初始化模拟数据');\n            try {\n                if (!this.chatStore) {\n                    uni.__f__('error', 'at pagesChat/chat-box.vue:1345', 'chat-box.vue: chatStore不可用，初始化失败');\n                    return null;\n                }\n                // 初始化模拟数据\n                this.chatStore.initChats(new UTSJSONObject({\n                    chats: UTS.JSON.parse(UTS.JSON.stringify(mockChats)),\n                    privateMsgMaxId: 5000,\n                    groupMsgMaxId: 6000\n                }));\n                uni.__f__('log', 'at pagesChat/chat-box.vue:1356', 'chat-box.vue: 模拟数据初始化成功，共', mockChats.length, '条会话');\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:1358', 'chat-box.vue: 初始化模拟数据失败', error);\n            }\n        },\n        // 新增方法：调整输入框位置\n        adjustInputPosition() {\n            // 等待布局渲染完成\n            this.$nextTick(() => {\n                // 如果是表情栏或工具栏，调整输入框位置\n                if (this.chatTabBox === 'emo' || this.chatTabBox === 'tools') {\n                    // 重新计算高度，将send-bar保持在底部但在chat-tab-bar上方\n                    this.reCalChatMainHeight();\n                }\n            });\n        },\n    },\n    computed: {\n        mine() {\n            if (this.useMockData) {\n                // 使用模拟数据\n                return this.mockCurrentUser || getMockCurrentUser();\n            }\n            return this.userStore.userInfo;\n        },\n        friend() {\n            if (this.useMockData) {\n                // 模拟数据模式下不使用好友存储\n                return null;\n            }\n            return this.friendStore.findFriend(this.userInfo.id);\n        },\n        title() {\n            if (!this.chat) {\n                return \"\";\n            }\n            let title = this.chat.showName;\n            if (this.chat.type == \"GROUP\") {\n                let size = this.groupMembers.filter(m => { return !m.quit; }).length;\n                title += `(${size})`;\n            }\n            return title;\n        },\n        messageAction() {\n            return `/message/${this.chat.type.toLowerCase()}/send`;\n        },\n        messageSize() {\n            if (!this.chat || !this.chat.messages) {\n                return 0;\n            }\n            return this.chat.messages.length;\n        },\n        unreadCount() {\n            if (!this.chat || !this.chat.unreadCount) {\n                return 0;\n            }\n            return this.chat.unreadCount;\n        },\n        isBanned() {\n            return (this.chat.type == \"PRIVATE\" && this.userInfo.isBanned) ||\n                (this.chat.type == \"GROUP\" && this.group.isBanned);\n        },\n        atUserItems() {\n            let atUsers = [];\n            this.atUserIds.forEach((id) => {\n                if (id == -1) {\n                    atUsers.push({\n                        id: -1,\n                        showNickName: \"全体成员\"\n                    });\n                    return null;\n                }\n                let member = UTS.arrayFind(this.groupMembers, (m) => { return m.userId == id; });\n                if (member) {\n                    atUsers.push(member);\n                }\n            });\n            return atUsers;\n        },\n        memberSize() {\n            return this.groupMembers.filter(m => { return !m.quit; }).length;\n        }\n    },\n    watch: {\n        messageSize: function (newSize = null, oldSize = null) {\n            // 接收到消息时滚动到底部\n            if (newSize > oldSize) {\n                let pages = getCurrentPages();\n                let curPage = pages[pages.length - 1].route;\n                if (curPage == \"pages/chat/chat-box\") {\n                    this.scrollToBottom();\n                }\n                else {\n                    this.needScrollToBottom = true;\n                }\n            }\n        },\n        unreadCount: {\n            handler(newCount = null, oldCount = null) {\n                if (newCount > 0) {\n                    // 消息已读\n                    this.readedMessage();\n                }\n            }\n        }\n    },\n    onLoad(options) {\n        if (this.useMockData) {\n            // 使用模拟数据\n            this.mockCurrentUser = getMockCurrentUser();\n            // 从模拟数据加载聊天数据\n            const chatIdx = options.chatIdx || 0;\n            try {\n                // 先直接从mockChats获取数据\n                uni.__f__('log', 'at pagesChat/chat-box.vue:1471', 'chat-box.vue: 直接从mockChats获取聊天数据');\n                this.chat = UTS.JSON.parse(UTS.JSON.stringify(mockChats[chatIdx]));\n                // 确保消息有sendId字段\n                if (this.chat && this.chat.messages) {\n                    this.chat.messages.forEach((msg = null) => {\n                        if (!msg.sendId && msg.senderId) {\n                            msg.sendId = msg.senderId;\n                        }\n                    });\n                }\n                // 将数据加载到chatStore中\n                if (this.chatStore && this.chatStore.initChats) {\n                    this.chatStore.initChats(new UTSJSONObject({\n                        chats: mockChats,\n                        privateMsgMaxId: 5000,\n                        groupMsgMaxId: 6000\n                    }));\n                }\n                // 初始状态只显示20条消息\n                let size = this.messageSize;\n                this.showMinIdx = size > 20 ? size - 20 : 0;\n                // 消息已读\n                this.readedMessage();\n                // 加载好友或群聊信息\n                if (this.chat && this.chat.type == \"GROUP\") {\n                    this.loadGroup(this.chat.targetId);\n                }\n                else if (this.chat) {\n                    this.loadFriend(this.chat.targetId);\n                }\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:1506', 'chat-box.vue: 加载聊天数据出错', error);\n            }\n        }\n        else {\n            // 使用原有方式\n            try {\n                // 确保chatStore和chats存在\n                if (!this.chatStore || !this.chatStore.chats || !this.chatStore.chats.length) {\n                    uni.__f__('error', 'at pagesChat/chat-box.vue:1513', 'chat-box.vue: chatStore或chats不存在');\n                    return null;\n                }\n                // 聊天数据\n                this.chat = this.chatStore.chats[options.chatIdx];\n                // 初始状态只显示20条消息\n                let size = this.messageSize;\n                this.showMinIdx = size > 20 ? size - 20 : 0;\n                // 消息已读\n                this.readedMessage();\n                // 加载好友或群聊信息\n                if (this.chat.type == \"GROUP\") {\n                    this.loadGroup(this.chat.targetId);\n                }\n                else {\n                    this.loadFriend(this.chat.targetId);\n                    this.loadReaded(this.chat.targetId);\n                }\n                // 激活当前会话\n                this.chatStore.activeChat(options.chatIdx);\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat-box.vue:1538', 'chat-box.vue: 加载聊天数据出错', error);\n            }\n        }\n        // 复位回执消息\n        this.isReceipt = false;\n        // 监听键盘高度\n        this.listenKeyBoard();\n        // 计算聊天窗口高度\n        this.$nextTick(() => {\n            this.windowHeight = uni.getSystemInfoSync().windowHeight;\n            this.reCalChatMainHeight();\n            // 兼容ios h5:禁止页面滚动\n        });\n    },\n    onUnload() {\n        this.unListenKeyboard();\n    },\n    onShow() {\n        if (this.needScrollToBottom) {\n            // 页面滚到底部\n            this.scrollToBottom();\n            this.needScrollToBottom = false;\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pagesChat/chat-box.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/env.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/components/navigationTitleBar/header.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/common/mockChatService.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/common/mockData.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/chat-message-item/chat-message-item.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/chat-record/chat-record.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/file-upload/file-upload.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/image-upload/image-upload.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/head-image/head-image.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/chat-at-box/chat-at-box.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/group-member-selector/group-member-selector.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/group-rtc-join/group-rtc-join.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/chat-item/chat-item.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/loading/loading.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/long-press-menu/long-press-menu.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/common/enums.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/common/messageType.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/common/emotion.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/common/url.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/main.js"],"uniExtApis":["uni.__f__","uni.navigateBack","uni.navigateTo","uni.showToast","uni.showModal","uni.setClipboardData","uni.downloadFile","uni.openDocument","uni.createSelectorQuery","uni.getSystemInfoSync","uni.onKeyboardHeightChange","uni.offKeyboardHeightChange"],"map":"{\"version\":3,\"file\":\"chat-box.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"chat-box.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
