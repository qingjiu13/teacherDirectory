{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent as _defineComponent } from 'vue';\nimport { resolveComponent as _resolveComponent, o as _o, p as _p, toDisplayString as _toDisplayString, t as _t, f as _f, gei as _gei, sei as _sei, e as _e } from \"vue\";\nconst __BINDING_COMPONENTS__ = '{\"uni-search-bar\":{\"name\":\"_easycom_uni_search_bar\",\"type\":\"unknown\"},\"chat-item\":{\"name\":\"ChatItem\",\"type\":\"setup\"},\"tab-bar\":{\"name\":\"TabBar\",\"type\":\"setup\"}}';\nif (!Array) {\n    const _easycom_uni_search_bar_1 = _resolveComponent(\"uni-search-bar\");\n    (_easycom_uni_search_bar_1)();\n}\nimport _easycom_uni_search_bar from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue';\nif (!Math) {\n    (_easycom_uni_search_bar + ChatItem + TabBar)();\n}\nimport { ref, computed, onMounted } from \"vue\";\nimport ChatItem from \"./components/chat-item/chat-item.vue\";\nimport TabBar from \"./components/tab-bar/tab-bar.vue\";\n// import { http } from \"./common/http.js\";\nimport { apiRequest, getCurrentUserId } from \"@/store/user/JWT.js\";\nimport pollingManager from \"@/utils/pollingManager.js\";\nimport { useGlobalStore } from \"@/store/global.js\";\nconst ADMIN_ID = 1;\n/**\n * 获取会话列表\n * @async\n * @function fetchChatSessions\n * @description 从服务器获取用户的聊天会话列表，支持客服端和普通用户端两种模式\n * @returns {Promise<void>} 无返回值，直接更新chats.value\n * @throws {Error} 当API请求失败时抛出错误\n */\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'chat',\n    setup(__props, _a) {\n        var __expose = _a.expose;\n        const getApiPrefix = () => {\n            const globalStore = useGlobalStore();\n            return globalStore.apiBaseUrl;\n        };\n        const searchText = ref(\"\");\n        // 真实聊天列表数据\n        const chats = ref([]);\n        // 添加keyword变量\n        const keyword = computed(() => { return searchText.value; });\n        const fetchChatSessions = () => { return __awaiter(this, void 0, void 0, function* () {\n            try {\n                uni.__f__('log', 'at pagesChat/chat.vue:67', \"[调试] 开始获取会话列表\");\n                // 使用 apiRequest 发送请求\n                const response = yield apiRequest(`${getApiPrefix()}/yanshilu/chatMessage/sessionList`, \"GET\", new UTSJSONObject({}), new UTSJSONObject({\n                    requireAuth: true,\n                    showError: false // 手动处理错误提示\n                }));\n                uni.__f__('log', 'at pagesChat/chat.vue:80', \"[调试] apiRequest 响应:\", response);\n                // 检查请求是否成功\n                if (!response.success) {\n                    throw new Error(response.message || \"获取会话列表失败\");\n                }\n                let sessionList = [];\n                const responseData = response.data;\n                // 兼容后端返回的各种结构\n                if (Array.isArray(responseData)) {\n                    sessionList = responseData;\n                }\n                else if (Array.isArray(responseData === null || responseData === void 0 ? null : responseData.rows)) {\n                    sessionList = responseData.rows;\n                }\n                else if (responseData && Array.isArray(responseData.data)) {\n                    sessionList = responseData.data;\n                }\n                else if (responseData === null || responseData === void 0 ? null : responseData.rows) {\n                    // 兼容微信小程序对象\n                    sessionList = Object.values(responseData.rows);\n                }\n                // 强制转为标准数组，兼容uniapp/小程序环境\n                if (!Array.isArray(sessionList)) {\n                    sessionList = Object.values(sessionList || {});\n                }\n                uni.__f__('log', 'at pagesChat/chat.vue:107', \"[调试] sessionList 转换后:\", sessionList);\n                // === 调试代码开始 ===\n                sessionList.forEach((item, idx) => {\n                    uni.__f__('log', 'at pagesChat/chat.vue:111', `[调试] session item[${idx}]:`, UTS.JSON.stringify(item));\n                });\n                // === 调试代码结束 ===\n                const currentUserId = getCurrentUserId();\n                uni.__f__('log', 'at pagesChat/chat.vue:116', \"[调试] 当前用户ID:\", currentUserId);\n                uni.__f__('log', 'at pagesChat/chat.vue:117', \"[调试] 当前用户ID类型:\", typeof currentUserId);\n                uni.__f__('log', 'at pagesChat/chat.vue:118', \"[调试] ADMIN_ID:\", ADMIN_ID);\n                uni.__f__('log', 'at pagesChat/chat.vue:119', \"[调试] ADMIN_ID类型:\", typeof ADMIN_ID);\n                uni.__f__('log', 'at pagesChat/chat.vue:120', \"[调试] 是否相等:\", currentUserId === ADMIN_ID);\n                if (currentUserId === ADMIN_ID) {\n                    uni.__f__('log', 'at pagesChat/chat.vue:123', \"[调试] 进入客服端逻辑\");\n                    // 客服端：chatId用对方用户ID，无论谁发的消息\n                    sessionList.forEach((item) => {\n                        // 对方用户ID\n                        item.chatId =\n                            item.senderId === ADMIN_ID ? item.receiverId : item.senderId;\n                        // 防御性昵称策略，优先用对方昵称和用户名\n                        item.showName =\n                            item.chat_user_nick_name ||\n                                item.chatUserNickName ||\n                                item.chat_user_user_name ||\n                                item.chatUserUserName ||\n                                \"匿名用户\";\n                        // 头像优先用对方头像\n                        item.headImage =\n                            item.chat_user_avatar ||\n                                item.senderPicture ||\n                                item.receiverPicture ||\n                                \"/static/image/defaultAvatar/student-man.png\";\n                        item.lastContent = item.content || \"\";\n                        item.lastSendTime = item.sendTime || \"\";\n                        item.id = item.chatMessageId;\n                    });\n                    chats.value = sessionList.filter((item) => { return item.chatId && item.chatId !== ADMIN_ID; });\n                    uni.__f__('log', 'at pagesChat/chat.vue:149', \"[调试] 客服端会话列表:\", chats.value);\n                }\n                else {\n                    uni.__f__('log', 'at pagesChat/chat.vue:151', \"[调试] 进入普通用户端逻辑\");\n                    uni.__f__('log', 'at pagesChat/chat.vue:152', \"[调试] sessionList 数据:\", sessionList);\n                    uni.__f__('log', 'at pagesChat/chat.vue:153', \"[调试] currentUserId:\", currentUserId, \"类型:\", typeof currentUserId);\n                    uni.__f__('log', 'at pagesChat/chat.vue:159', \"[调试] ADMIN_ID:\", ADMIN_ID, \"类型:\", typeof ADMIN_ID);\n                    // 普通用户端：处理sessionList数据，显示与客服的真实会话\n                    if (sessionList && sessionList.length > 0) {\n                        // 找到与客服的会话\n                        const customerServiceSession = UTS.arrayFind(sessionList, (item) => {\n                            uni.__f__('log', 'at pagesChat/chat.vue:165', \"[调试] 检查会话项:\", item);\n                            uni.__f__('log', 'at pagesChat/chat.vue:166', \"[调试] item.senderId:\", item.senderId, \"类型:\", typeof item.senderId);\n                            uni.__f__('log', 'at pagesChat/chat.vue:172', \"[调试] item.receiverId:\", item.receiverId, \"类型:\", typeof item.receiverId);\n                            const isMatch = (item.senderId === ADMIN_ID && item.receiverId === currentUserId) ||\n                                (item.senderId === currentUserId && item.receiverId === ADMIN_ID);\n                            uni.__f__('log', 'at pagesChat/chat.vue:181', \"[调试] 是否匹配:\", isMatch);\n                            return isMatch;\n                        });\n                        uni.__f__('log', 'at pagesChat/chat.vue:185', \"[调试] 找到的客服会话:\", customerServiceSession);\n                        if (customerServiceSession) {\n                            // 使用真实的后端数据\n                            chats.value = [\n                                {\n                                    id: customerServiceSession.chatMessageId || 1,\n                                    chatId: ADMIN_ID,\n                                    showName: \"小助手\",\n                                    headImage: \"/static/image/defaultAvatar/kefu.png\",\n                                    lastContent: customerServiceSession.content || \"您好，请问有什么可以帮您？\",\n                                    lastSendTime: customerServiceSession.sendTime || Date.now(),\n                                    unreadCount: 0,\n                                },\n                            ];\n                        }\n                        else {\n                            uni.__f__('log', 'at pagesChat/chat.vue:202', \"[调试] 未找到客服会话，创建默认会话\");\n                            // 如果没有找到会话，创建默认会话\n                            chats.value = [\n                                {\n                                    id: 1,\n                                    chatId: ADMIN_ID,\n                                    showName: \"小助手\",\n                                    headImage: \"/static/image/defaultAvatar/kefu.png\",\n                                    lastContent: \"您好，请问有什么可以帮您？\",\n                                    lastSendTime: Date.now(),\n                                    unreadCount: 0,\n                                },\n                            ];\n                        }\n                    }\n                    else {\n                        uni.__f__('log', 'at pagesChat/chat.vue:217', \"[调试] sessionList为空，创建默认会话\");\n                        // 如果sessionList为空，创建默认会话\n                        chats.value = [\n                            {\n                                id: 1,\n                                chatId: ADMIN_ID,\n                                showName: \"小助手\",\n                                headImage: \"/static/image/defaultAvatar/kefu.png\",\n                                lastContent: \"您好，请问有什么可以帮您？\",\n                                lastSendTime: Date.now(),\n                                unreadCount: 0,\n                            },\n                        ];\n                    }\n                    uni.__f__('log', 'at pagesChat/chat.vue:231', \"[调试] 普通用户端会话列表:\", chats.value);\n                }\n                sortChats();\n            }\n            catch (error) {\n                uni.__f__('error', 'at pagesChat/chat.vue:235', \"[调试] 获取会话失败:\", error);\n                // 显示错误提示\n                uni.showToast({\n                    title: error.message || \"获取会话失败\",\n                    icon: \"none\",\n                    duration: 2000\n                });\n                // 如果API调用失败，创建默认的小助手会话\n                const currentUserId = getCurrentUserId();\n                chats.value = [\n                    {\n                        id: 1,\n                        chatId: ADMIN_ID,\n                        showName: \"小助手\",\n                        headImage: \"/static/image/defaultAvatar/kefu.png\",\n                        lastContent: \"您好，请问有什么可以帮您？\",\n                        lastSendTime: Date.now(),\n                        unreadCount: 0,\n                    },\n                ];\n                uni.__f__('log', 'at pagesChat/chat.vue:258', \"[调试] 使用默认会话列表:\", chats.value);\n            }\n        }); };\n        // 轮询检查新会话\n        const checkNewSessions = () => { return __awaiter(this, void 0, void 0, function* () {\n            // try {\n            //   uni.__f__('log','at pagesChat/chat.vue:265',\"[轮询] 检查新会话\");\n            //   await fetchChatSessions();\n            // } catch (error) {\n            //   uni.__f__('error','at pagesChat/chat.vue:268',\"[轮询] 检查新会话失败:\", error);\n            // }\n        }); };\n        // 排序聊天列表\n        const sortChats = () => {\n            chats.value.sort((a, b) => {\n                // 小助手置顶\n                if (a.showName === \"小助手\")\n                    return -1;\n                if (b.showName === \"小助手\")\n                    return 1;\n                // 其他按时间倒序\n                return new Date(b.lastSendTime) - new Date(a.lastSendTime);\n            });\n        };\n        onMounted(() => {\n            fetchChatSessions();\n            // 设置当前页面为chat-list\n            pollingManager.setCurrentPage(\"chat-list\");\n            // 注册轮询回调\n            pollingManager.registerPollingCallback(\"chat-list-sessions\", checkNewSessions);\n        });\n        // 页面显示时更新轮询状态 - 使用uni-app的页面生命周期\n        const onShow = () => {\n            // 设置当前页面为chat-list\n            pollingManager.setCurrentPage(\"chat-list\");\n        };\n        // 页面隐藏时停止轮询 - 使用uni-app的页面生命周期\n        const onHide = () => {\n            // 如果离开chat-list页面，设置页面为other\n            pollingManager.setCurrentPage(\"other\");\n        };\n        // 页面卸载时清理 - 使用uni-app的页面生命周期\n        const onUnload = () => {\n            // 注销轮询回调\n            pollingManager.unregisterPollingCallback(\"chat-list-sessions\");\n            // 设置页面为other\n            pollingManager.setCurrentPage(\"other\");\n        };\n        const filteredChats = computed(() => {\n            if (!searchText.value) {\n                return chats.value;\n            }\n            const lowerCaseKeyword = searchText.value.toLowerCase();\n            return chats.value.filter((chat) => {\n                return (chat.showName &&\n                    chat.showName.toLowerCase().includes(lowerCaseKeyword)) ||\n                    (chat.lastContent &&\n                        chat.lastContent.toLowerCase().includes(lowerCaseKeyword));\n            });\n        });\n        const goToChat = (chat = null) => {\n            if (!chat.chatId) {\n                uni.showToast({ title: \"会话ID无效\", icon: \"none\" });\n                return null;\n            }\n            uni.navigateTo({\n                url: `/pagesChat/chat-box?id=${chat.chatId}&title=${encodeURIComponent(chat.showName)}&avatar=${encodeURIComponent(chat.headImage)}`,\n            });\n        };\n        // 添加搜索输入处理函数\n        const onSearchInput = (value = null) => {\n            // 搜索逻辑已经在computed中处理，这里可以添加额外的搜索逻辑\n            uni.__f__('log', 'at pagesChat/chat.vue:346', \"[搜索] 搜索关键词:\", value);\n        };\n        function goBack() {\n            uni.navigateBack();\n        }\n        // 导出uni-app页面生命周期函数\n        __expose(new UTSJSONObject({\n            onShow,\n            onHide,\n            onUnload,\n        }));\n        return (_ctx = null, _cache = null) => {\n            const __returned__ = _e(new UTSJSONObject({\n                a: _o(onSearchInput),\n                b: _o(($event = null) => { return searchText.value = $event; }),\n                c: _p(new UTSJSONObject({\n                    focus: false,\n                    radius: '100',\n                    cancelButton: 'none',\n                    placeholder: '\\u641C\\u7D22',\n                    modelValue: searchText.value\n                })),\n                d: filteredChats.value.length === 0\n            }), filteredChats.value.length === 0 ? new UTSJSONObject({\n                e: _t(keyword.value ? `没有找到与\"${keyword.value}\"相关的结果` : \"暂无消息\")\n            }) : new UTSJSONObject({\n                f: _f(filteredChats.value, (chat = null, k0 = null, i0 = null) => {\n                    return new UTSJSONObject({\n                        a: chat.id,\n                        b: _o(($event = null) => { return goToChat(chat); }, chat.id),\n                        c: '7b2824d4-1' + '-' + i0,\n                        d: _p(new UTSJSONObject({\n                            chat: chat\n                        }))\n                    });\n                })\n            }), new UTSJSONObject({\n                g: _p(new UTSJSONObject({\n                    pageName: 'message'\n                })),\n                h: _sei(_gei(_ctx, ''), 'view')\n            }));\n            return __returned__;\n        };\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pagesChat/chat.vue?vue&type=script&setup=true&lang.uts.js.map","references":["E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue.ts","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/chat-item/chat-item.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/tab-bar/tab-bar.vue.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/store/user/JWT.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/utils/pollingManager.js","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/store/global.js"],"uniExtApis":["uni.__f__","uni.showToast","uni.navigateTo","uni.navigateBack"],"map":"{\"version\":3,\"file\":\"chat.vue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"chat.vue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
