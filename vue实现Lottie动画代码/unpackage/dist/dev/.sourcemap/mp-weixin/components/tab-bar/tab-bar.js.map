{"version":3,"file":"tab-bar.js","sources":["components/tab-bar/tab-bar.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov56CU5biI5b2V5LiO5YW25LuW5Lq65YWx5Lqr5paH5Lu2L3RlYWNoZXJEaXJlY3RvcnkvdnVl5a6e546wTG90dGll5Yqo55S75Luj56CBL2NvbXBvbmVudHMvdGFiLWJhci90YWItYmFyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"tab-bar-wrapper\">\r\n\t\t<view class=\"tab-bar\">\r\n\t\t\t<view class=\"tab-item index-tab\" :class=\"{ active: pageName === 'index' }\" @click=\"switchPage('index')\">\r\n\t\t\t\t<image class=\"nav-icon index-icon\" :src=\"getIconPath('index')\"></image>\r\n\t\t\t\t<text class=\"index-tab tab-text\">精准匹配</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item message-tab\" :class=\"{ active: pageName === 'message' }\" @click=\"switchPage('message')\">\r\n\t\t\t\t<image class=\"nav-icon\" :src=\"getIconPath('message')\"></image>\r\n\t\t\t\t<text class=\"tab-text\">消息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item ai-tab\" :class=\"{ active: pageName === 'AI' }\" @click=\"switchPage('AI')\">\r\n\t\t\t\t<image class=\"nav-icon\" :src=\"getIconPath('AI')\"></image>\r\n\t\t\t\t<text class=\"tab-text\">择校</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item mine-tab\" :class=\"{ active: pageName === 'mine' }\" @click=\"switchPage('mine')\">\r\n\t\t\t\t<image class=\"nav-icon\" :src=\"getIconPath('mine')\"></image>\r\n\t\t\t\t<text class=\"tab-text\">我的</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * @description 底部导航栏组件\r\n\t */\r\n\timport { Navigator, IndexRoutes, MessageRoutes, MineRoutes, AIRoutes } from '@/router/Router.js';\r\n\t\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tpageName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'index'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/**\r\n\t\t\t\t * @description 页面路径映射\r\n\t\t\t\t */\r\n\t\t\t\ttabRoutes: {\r\n\t\t\t\t\t'index': IndexRoutes.INDEX,\r\n\t\t\t\t\t'AI': AIRoutes.AI_SERVER,\r\n\t\t\t\t\t'message': MessageRoutes.MESSAGE,\r\n\t\t\t\t\t'mine': MineRoutes.MINE\r\n\t\t\t\t},\r\n\t\t\t\t/**\r\n\t\t\t\t * @description 页面图标路径映射\r\n\t\t\t\t */\r\n\t\t\t\ticonPaths: {\r\n\t\t\t\t\t'index': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/index.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/index.png'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'AI': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/AI.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/AI.png'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'message': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/messageDown.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/messageUp.png'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'mine': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/mineDown.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/mineUp.png'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description 获取页面对应的图标路径\r\n\t\t\t * @param {string} page - 页面名称\r\n\t\t\t * @returns {string} 图标路径\r\n\t\t\t */\r\n\t\t\tgetIconPath(page) {\r\n\t\t\t\tconst isActive = page === this.pageName;\r\n\t\t\t\tconst iconConfig = this.iconPaths[page];\r\n\t\t\t\treturn isActive ? iconConfig.active : iconConfig.normal;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 切换到指定页面\r\n\t\t\t * @param {string} page - 页面名称\r\n\t\t\t */\r\n\t\t\tswitchPage(page) {\r\n\t\t\t\t// 如果已经在当前页面，不执行操作\r\n\t\t\t\tif (page === this.pageName) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 跳转前检查目标页面是否存在\r\n\t\t\t\tif (!this.tabRoutes[page]) {\r\n\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:95','页面不存在:', page);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 获取当前页面栈深度\r\n\t\t\t\t\tconst pages = getCurrentPages();\r\n\t\t\t\t\tconst stackDepth = pages.length;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 如果页面栈深度接近上限(8或以上)，使用reLaunch清空页面栈\r\n\t\t\t\t\t// 微信小程序页面栈上限为10\r\n\t\t\t\t\tif (stackDepth >= 8) {\r\n\t\t\t\t\t\tuni.__f__('warn','at components/tab-bar/tab-bar.vue:107','页面栈接近上限，使用reLaunch清空页面栈');\r\n\t\t\t\t\t\tswitch(page) {\r\n\t\t\t\t\t\t\tcase 'index':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(IndexRoutes.INDEX);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'message':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(MessageRoutes.MESSAGE);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'mine':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(MineRoutes.MINE);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'AI':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(AIRoutes.AI_SERVER);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:122','未知的页面类型:', page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 修改：使用redirectTo而不是switchTab\r\n\t\t\t\t\t// redirectTo会关闭当前页面，跳转到应用内的某个页面\r\n\t\t\t\t\tswitch(page) {\r\n\t\t\t\t\t\tcase 'index':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(IndexRoutes.INDEX);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'message':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(MessageRoutes.MESSAGE);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mine':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(MineRoutes.MINE);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'AI':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(AIRoutes.AI_SERVER);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:143','未知的页面类型:', page);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:146','Tab切换失败:', e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.tab-bar-wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 999;\r\n\t\toverflow: visible; /* 确保wrapper允许内容溢出 */\r\n\t}\r\n\r\n\t\r\n\t.tab-bar {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tborder-top: 1px solid #eeeeee;\r\n\t\tbackground: linear-gradient(180deg, #e9eaff 11.54%, #747aff 111.54%);\r\n\t\toverflow: visible; /* 确保tab-bar允许内容溢出 */\r\n\t}\r\n\t.index-tab {\r\n\t\twidth: 40%;\r\n\t\tposition: relative; /* 父元素设置相对定位 */\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t\toverflow: visible; /* 确保index-tab允许内容溢出 */\r\n\t}\r\n\t.tab-item {\r\n\t\twidth: auto;\r\n\t\tpadding: 0 20rpx;\r\n\t\theight: 110rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\toverflow: visible; /* 确保所有tab-item允许内容溢出 */\r\n\t}\r\n\t\r\n\t.nav-icon {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t\tmargin-bottom: 6rpx;\r\n\t}\r\n\t\t/* 增加图片大小，并上移部分 */\r\n\t.index-tab .nav-icon {\r\n\t\twidth: 232rpx;\r\n\t\theight: 140rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: -50rpx; /* 控制图片上浮，增加上浮距离 */\r\n\t\tleft: 50%; /* 水平居中定位 */\r\n\t\ttransform: translateX(-50%); /* 确保真正居中 */\r\n\t\tz-index: 1000;\r\n\t}\r\n\r\n\t.tab-text {\r\n\t\tfont-family: 'PingFang SC';\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 20rpx;\r\n\t\tline-height: 100%;\r\n\t\tletter-spacing: -1.26rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #000000;\r\n\r\n\t}\r\n\t.index-tab .tab-text {\r\n\t\ttop:15rpx;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\t.active .tab-text {\r\n\t\tcolor: #5F26F7;\r\n\t}\r\n\t\r\n\t.tab-item.ai-tab {\r\n\t\twidth: 20%;\r\n\t}\r\n\t.tab-item.index-tab {\r\n\t\twidth: 40%;\r\n\t}\r\n\t.tab-item.message-tab {\r\n\t\twidth: 20%;\r\n\t}\r\n\t.tab-item.mine-tab {\r\n\t\twidth: 20%;\r\n\t}\r\n</style> ","import Component from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/components/tab-bar/tab-bar.vue'\nwx.createComponent(Component)"],"names":["_sfc_main","defineComponent","IndexRoutes","AIRoutes","MessageRoutes","MineRoutes","page","isActive","iconConfig","uni","Navigator","e","Component"],"mappings":"2FA6BCA,EAAeC,kBAAA,CACd,MAAO,CACN,SAAU,CACT,KAAM,OACN,QAAS,OACV,CACA,EACD,MAAI,CACH,MAAO,CAIN,UAAW,IAAA,cAAA,CACV,MAASC,EAAW,YAAC,MACrB,GAAMC,EAAQ,SAAC,UACf,QAAWC,EAAa,cAAC,QACzB,KAAQC,EAAU,WAAC,KACnB,EAID,UAAW,IAAA,cAAA,CACV,MAAS,IAAA,cAAA,CACR,OAAQ,kCACR,OAAQ,kCACR,EACD,GAAM,IAAA,cAAA,CACL,OAAQ,+BACR,OAAQ,+BACR,EACD,QAAW,IAAA,cAAA,CACV,OAAQ,wCACR,OAAQ,sCACR,EACD,KAAQ,IAAA,cAAA,CACP,OAAQ,qCACR,OAAQ,mCACT,EACD,EAED,EACD,QAAS,CAMR,YAAYC,EAAI,KAAA,CACf,MAAMC,EAAWD,IAAS,KAAK,SACzBE,EAAa,KAAK,UAAUF,CAAI,EACtC,OAAOC,EAAWC,EAAW,OAASA,EAAW,MACjD,EAMD,WAAWF,EAAI,KAAA,CAEd,GAAIA,IAAS,KAAK,SACjB,OAAM,KAIP,GAAI,CAAC,KAAK,UAAUA,CAAI,EACvBG,OAAAA,EAAG,MAAC,MAAM,QAAQ,uCAAuC,SAAUH,CAAI,EACjE,KAGP,GAAI,CAOH,GALc,kBACW,QAIP,EAAG,CAEpB,OADAG,EAAAA,MAAI,MAAM,OAAO,wCAAwC,yBAAyB,EAC3EH,EAAI,CACV,IAAK,QACJI,EAAAA,UAAU,SAASR,cAAY,KAAK,EACpC,MACD,IAAK,UACJQ,EAAAA,UAAU,SAASN,gBAAc,OAAO,EACxC,MACD,IAAK,OACJM,EAAAA,UAAU,SAASL,aAAW,IAAI,EAClC,MACD,IAAK,KACJK,EAAAA,UAAU,SAASP,WAAS,SAAS,EACrC,MACD,QACCM,EAAG,MAAC,MAAM,QAAQ,wCAAwC,WAAYH,CAAI,CAC5E,CACA,OAAM,IACP,CAIA,OAAOA,EAAI,CACV,IAAK,QACJI,EAAAA,UAAU,WAAWR,cAAY,KAAK,EACtC,MACD,IAAK,UACJQ,EAAAA,UAAU,WAAWN,gBAAc,OAAO,EAC1C,MACD,IAAK,OACJM,EAAAA,UAAU,WAAWL,aAAW,IAAI,EACpC,MACD,IAAK,KACJK,EAAAA,UAAU,WAAWP,WAAS,SAAS,EACvC,MACD,QACCM,EAAG,MAAC,MAAM,QAAQ,wCAAwC,WAAYH,CAAI,CAC5E,CACD,OAASK,EAAG,CACXF,EAAG,MAAC,MAAM,QAAQ,wCAAwC,WAAYE,CAAC,CACxE,CACD,CACD,EACD,obCpJD,GAAG,gBAAgBC,CAAS"}