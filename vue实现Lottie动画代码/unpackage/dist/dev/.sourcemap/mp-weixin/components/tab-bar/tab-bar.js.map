{"version":3,"file":"tab-bar.js","sources":["components/tab-bar/tab-bar.vue","../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovZ2l0aHViL3RlYWNoZXJEaXJlY3RvcnkvdnVl5a6e546wTG90dGll5Yqo55S75Luj56CBL2NvbXBvbmVudHMvdGFiLWJhci90YWItYmFyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"tab-bar-wrapper\">\r\n\t\t<view class=\"tab-bar\">\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: pageName === 'index' }\" @click=\"switchPage('index')\">\r\n\t\t\t\t<image class=\"nav-icon\" :src=\"getIconPath('index')\"></image>\r\n\t\t\t\t<text class=\"tab-text\">首页</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: pageName === 'message' }\" @click=\"switchPage('message')\">\r\n\t\t\t\t<image class=\"nav-icon\" :src=\"getIconPath('message')\"></image>\r\n\t\t\t\t<text class=\"tab-text\">消息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: pageName === 'mine' }\" @click=\"switchPage('mine')\">\r\n\t\t\t\t<image class=\"nav-icon\" :src=\"getIconPath('mine')\"></image>\r\n\t\t\t\t<text class=\"tab-text\">我的</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * @description 底部导航栏组件\r\n\t */\r\n\timport { Navigator, IndexRoutes, MessageRoutes, MineRoutes } from '@/router/Router.js';\r\n\t\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tpageName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'index'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/**\r\n\t\t\t\t * @description 页面路径映射\r\n\t\t\t\t */\r\n\t\t\t\ttabRoutes: {\r\n\t\t\t\t\t'index': IndexRoutes.INDEX,\r\n\t\t\t\t\t'message': MessageRoutes.MESSAGE,\r\n\t\t\t\t\t'mine': MineRoutes.MINE\r\n\t\t\t\t},\r\n\t\t\t\t/**\r\n\t\t\t\t * @description 页面图标路径映射\r\n\t\t\t\t */\r\n\t\t\t\ticonPaths: {\r\n\t\t\t\t\t'index': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/wechat.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/default_avatar.png'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'message': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/wechat.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/default_avatar.png'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'mine': {\r\n\t\t\t\t\t\tnormal: '/static/image/tab-bar/wechat.png',\r\n\t\t\t\t\t\tactive: '/static/image/tab-bar/default_avatar.png'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description 获取页面对应的图标路径\r\n\t\t\t * @param {string} page - 页面名称\r\n\t\t\t * @returns {string} 图标路径\r\n\t\t\t */\r\n\t\t\tgetIconPath(page) {\r\n\t\t\t\tconst isActive = page === this.pageName;\r\n\t\t\t\tconst iconConfig = this.iconPaths[page];\r\n\t\t\t\treturn isActive ? iconConfig.active : iconConfig.normal;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 切换到指定页面\r\n\t\t\t * @param {string} page - 页面名称\r\n\t\t\t */\r\n\t\t\tswitchPage(page) {\r\n\t\t\t\t// 如果已经在当前页面，不执行操作\r\n\t\t\t\tif (page === this.pageName) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 跳转前检查目标页面是否存在\r\n\t\t\t\tif (!this.tabRoutes[page]) {\r\n\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:86','页面不存在:', page);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 获取当前页面栈深度\r\n\t\t\t\t\tconst pages = getCurrentPages();\r\n\t\t\t\t\tconst stackDepth = pages.length;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 如果页面栈深度接近上限(8或以上)，使用reLaunch清空页面栈\r\n\t\t\t\t\t// 微信小程序页面栈上限为10\r\n\t\t\t\t\tif (stackDepth >= 8) {\r\n\t\t\t\t\t\tuni.__f__('warn','at components/tab-bar/tab-bar.vue:98','页面栈接近上限，使用reLaunch清空页面栈');\r\n\t\t\t\t\t\tswitch(page) {\r\n\t\t\t\t\t\t\tcase 'index':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(IndexRoutes.INDEX);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'message':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(MessageRoutes.MESSAGE);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'mine':\r\n\t\t\t\t\t\t\t\tNavigator.reLaunch(MineRoutes.MINE);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:110','未知的页面类型:', page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 修改：使用redirectTo而不是switchTab\r\n\t\t\t\t\t// redirectTo会关闭当前页面，跳转到应用内的某个页面\r\n\t\t\t\t\tswitch(page) {\r\n\t\t\t\t\t\tcase 'index':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(IndexRoutes.INDEX);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'message':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(MessageRoutes.MESSAGE);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mine':\r\n\t\t\t\t\t\t\tNavigator.redirectTo(MineRoutes.MINE);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:128','未知的页面类型:', page);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.__f__('error','at components/tab-bar/tab-bar.vue:131','Tab切换失败:', e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.tab-bar-wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 55px;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 999;\r\n\t}\r\n\t\r\n\t.tab-bar {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\theight: 55px;\r\n\t\tborder-top: 1px solid #eeeeee;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\t\r\n\t.tab-item {\r\n\t\tflex: 1;\r\n\t\theight: 55px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.nav-icon {\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tmargin-bottom: 3px;\r\n\t}\r\n\t\r\n\t.tab-text {\r\n\t\tfont-size: 10px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t.active .tab-text {\r\n\t\tcolor: #007aff;\r\n\t}\r\n</style> ","import Component from 'D:/github/teacherDirectory/vue实现Lottie动画代码/components/tab-bar/tab-bar.vue'\nwx.createComponent(Component)"],"names":["defineComponent","IndexRoutes","MessageRoutes","MineRoutes","uni","Navigator"],"mappings":";;;AAyBC,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAO;AAAA,IACN,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAI;AACH,WAAO;AAAA;AAAA;AAAA;AAAA,MAIN,WAAW,IAAA,cAAA;AAAA,QACV,SAASC,cAAW,YAAC;AAAA,QACrB,WAAWC,cAAa,cAAC;AAAA,QACzB,QAAQC,cAAU,WAAC;AAAA,OACnB;AAAA;AAAA;AAAA;AAAA,MAID,WAAW,IAAA,cAAA;AAAA,QACV,SAAS,IAAA,cAAA;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,SACR;AAAA,QACD,WAAW,IAAA,cAAA;AAAA,UACV,QAAQ;AAAA,UACR,QAAQ;AAAA,SACR;AAAA,QACD,QAAQ,IAAA,cAAA;AAAA,UACP,QAAQ;AAAA,UACR,QAAQ;AAAA,SACT;AAAA,OACD;AAAA;EAED;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMR,YAAY,OAAI,MAAA;AACf,YAAM,WAAW,SAAS,KAAK;AAC/B,YAAM,aAAa,KAAK,UAAU,IAAI;AACtC,aAAO,WAAW,WAAW,SAAS,WAAW;AAAA,IACjD;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,WAAW,OAAI,MAAA;AAEd,UAAI,SAAS,KAAK,UAAU;AAC3B,eAAM;AAAA,MACP;AAGA,UAAI,CAAC,KAAK,UAAU,IAAI,GAAG;AAC1BC,sBAAG,MAAC,MAAM,SAAQ,wCAAuC,UAAU,IAAI;AACvE,eAAM;AAAA,MACP;AAEA,UAAI;AAEH,cAAM,QAAQ;AACd,cAAM,aAAa,MAAM;AAIzB,YAAI,cAAc,GAAG;AACpBA,wBAAAA,MAAI,MAAM,QAAO,wCAAuC,yBAAyB;AACjF,kBAAO,MAAI;AAAA,YACV,KAAK;AACJC,4BAAAA,UAAU,SAASJ,0BAAY,KAAK;AACpC;AAAA,YACD,KAAK;AACJI,4BAAAA,UAAU,SAASH,4BAAc,OAAO;AACxC;AAAA,YACD,KAAK;AACJG,4BAAAA,UAAU,SAASF,yBAAW,IAAI;AAClC;AAAA,YACD;AACCC,4BAAG,MAAC,MAAM,SAAQ,yCAAwC,YAAY,IAAI;AAAA,UAC5E;AACA,iBAAM;AAAA,QACP;AAIA,gBAAO,MAAI;AAAA,UACV,KAAK;AACJC,0BAAAA,UAAU,WAAWJ,0BAAY,KAAK;AACtC;AAAA,UACD,KAAK;AACJI,0BAAAA,UAAU,WAAWH,4BAAc,OAAO;AAC1C;AAAA,UACD,KAAK;AACJG,0BAAAA,UAAU,WAAWF,yBAAW,IAAI;AACpC;AAAA,UACD;AACCC,0BAAG,MAAC,MAAM,SAAQ,yCAAwC,YAAY,IAAI;AAAA,QAC5E;AAAA,MACD,SAAS,GAAG;AACXA,sBAAG,MAAC,MAAM,SAAQ,yCAAwC,YAAY,CAAC;AAAA,MACxE;AAAA,IACD;AAAA,EACD;CACD;;;;;;;;;;;;;;;;ACrID,GAAG,gBAAgB,SAAS;"}