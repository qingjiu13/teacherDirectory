{"version":3,"file":"cascade-container.js","sources":["components/cascade-container/cascade-container.vue","../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovZ2l0aHViL3RlYWNoZXJEaXJlY3RvcnkvdnVl5a6e546wTG90dGll5Yqo55S75Luj56CBL2NvbXBvbmVudHMvY2FzY2FkZS1jb250YWluZXIvY2FzY2FkZS1jb250YWluZXIudnVl"],"sourcesContent":["<template>\r\n  <view class=\"cascade-container\">\r\n    <!-- 第一级：学校选择 -->\r\n    <view class=\"filter-row\">\r\n      <cascade-selector\r\n        v-model=\"selectedSchool\"\r\n        :options=\"formattedSchoolOptions\"\r\n        :placeholder=\"'选择学校'\"\r\n        :searchable=\"true\"\r\n        :search-placeholder=\"'搜索学校'\"\r\n        @change=\"onSchoolChange\"\r\n        @search=\"onSchoolSearch\"\r\n      />\r\n    </view>\r\n    \r\n    <!-- 第二级：专业选择 -->\r\n    <view class=\"filter-row\">\r\n      <cascade-selector\r\n        v-model=\"selectedMajor\"\r\n        :options=\"formattedMajorOptions\"\r\n        :placeholder=\"'选择专业'\"\r\n        :disabled=\"!selectedSchool\"\r\n        @change=\"onMajorChange\"\r\n      />\r\n    </view>\r\n    \r\n    <!-- 第三级：考研科目选择 -->\r\n    <view class=\"filter-row\">\r\n      <cascade-selector\r\n        v-model=\"selectedSubject\"\r\n        :options=\"formattedSubjectOptions\"\r\n        :placeholder=\"'选择考研科目'\"\r\n        :disabled=\"!selectedMajor\"\r\n        :searchable=\"true\"\r\n        :search-placeholder=\"'搜索考研科目'\"\r\n        @search=\"onSubjectSearch\"\r\n        @change=\"onSubjectChange\"\r\n      />\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport CascadeSelector from './cascade-selector'\r\n\r\n/**\r\n * 级联选择容器\r\n * @description 管理学校、专业和考研科目的三级联动选择\r\n */\r\nexport default {\r\n  name: 'CascadeContainer',\r\n  components: {\r\n    CascadeSelector\r\n  },\r\n  \r\n  props: {\r\n    /**\r\n     * 是否直接应用选中的值（不需要点击筛选按钮）\r\n     * @type {Boolean}\r\n     * @default false\r\n     */\r\n    autoApply: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      selectedSchool: '',\r\n      selectedMajor: '',\r\n      selectedSubject: ''\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    ...mapGetters('filter', [\r\n      'schoolOptions',\r\n      'majorOptions',\r\n      'subjectOptions',\r\n      'filteredSchoolOptions',\r\n      'filteredMajorOptions',\r\n      'filteredSubjectOptions'\r\n    ]),\r\n    \r\n    /**\r\n     * @description 将vuex中的学校选项格式化为cascade-selector需要的格式\r\n     * @returns {Array} 格式化后的学校选项\r\n     */\r\n    formattedSchoolOptions() {\r\n      return this.filteredSchoolOptions.map(option => ({\r\n        label: option.choiceItemContent,\r\n        value: option.choiceItemValue\r\n      }));\r\n    },\r\n    \r\n    /**\r\n     * @description 将vuex中的专业选项格式化为cascade-selector需要的格式\r\n     * @returns {Array} 格式化后的专业选项\r\n     */\r\n    formattedMajorOptions() {\r\n      return this.filteredMajorOptions.map(option => ({\r\n        label: option.choiceItemContent,\r\n        value: option.choiceItemValue\r\n      }));\r\n    },\r\n    \r\n    /**\r\n     * @description 将vuex中的考研科目选项格式化为cascade-selector需要的格式\r\n     * @returns {Array} 格式化后的考研科目选项\r\n     */\r\n    formattedSubjectOptions() {\r\n      return this.filteredSubjectOptions.map(option => ({\r\n        label: option.choiceItemContent,\r\n        value: option.choiceItemValue\r\n      }));\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    ...mapActions('filter', [\r\n      'selectSchool',\r\n      'selectMajor',\r\n      'selectSubject',\r\n      'searchSchool',\r\n      'searchMajor',\r\n      'searchSubject',\r\n      'resetFilters'\r\n    ]),\r\n    \r\n    /**\r\n     * @description 学校选择改变事件处理\r\n     * @param {Object} school 选中的学校对象\r\n     */\r\n    onSchoolChange(school) {\r\n      this.selectedSchool = school.value;\r\n      this.selectedMajor = '';\r\n      this.selectedSubject = '';\r\n      \r\n      // 通知Vuex更新选中的学校\r\n      this.selectSchool(school.value);\r\n      \r\n      // 触发选择事件\r\n      this.$emit('school-change', school.value);\r\n      \r\n      // 如果设置了自动应用，则直接触发筛选应用\r\n      if (this.autoApply) {\r\n        this.$emit('apply-filter', {\r\n          school: this.selectedSchool,\r\n          major: '',\r\n          subject: ''\r\n        });\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 专业选择改变事件处理\r\n     * @param {Object} major 选中的专业对象\r\n     */\r\n    onMajorChange(major) {\r\n      this.selectedMajor = major.value;\r\n      this.selectedSubject = '';\r\n      \r\n      // 通知Vuex更新选中的专业\r\n      this.selectMajor(major.value);\r\n      \r\n      // 触发选择事件\r\n      this.$emit('major-change', major.value);\r\n      \r\n      // 如果设置了自动应用，则直接触发筛选应用\r\n      if (this.autoApply) {\r\n        this.$emit('apply-filter', {\r\n          school: this.selectedSchool,\r\n          major: this.selectedMajor,\r\n          subject: ''\r\n        });\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 考研科目选择改变事件处理\r\n     * @param {Object} subject 选中的考研科目对象\r\n     */\r\n    onSubjectChange(subject) {\r\n      this.selectedSubject = subject.value;\r\n      \r\n      // 通知Vuex更新选中的考研科目\r\n      this.selectSubject(subject.value);\r\n      \r\n      // 触发选择事件\r\n      this.$emit('subject-change', subject.value);\r\n      \r\n      // 如果设置了自动应用，则直接触发筛选应用\r\n      if (this.autoApply) {\r\n        this.$emit('apply-filter', {\r\n          school: this.selectedSchool,\r\n          major: this.selectedMajor,\r\n          subject: this.selectedSubject\r\n        });\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 学校搜索事件处理\r\n     * @param {String} keyword 搜索关键词\r\n     */\r\n    onSchoolSearch(keyword) {\r\n      // 通知Vuex更新学校搜索关键词\r\n      this.searchSchool(keyword);\r\n    },\r\n    \r\n    /**\r\n     * @description 专业搜索事件处理\r\n     * @param {String} keyword 搜索关键词\r\n     */\r\n    onMajorSearch(keyword) {\r\n      // 通知Vuex更新专业搜索关键词\r\n      this.searchMajor(keyword);\r\n    },\r\n    \r\n    /**\r\n     * @description 考研科目搜索事件处理\r\n     * @param {String} keyword 搜索关键词\r\n     */\r\n    onSubjectSearch(keyword) {\r\n      // 通知Vuex更新考研科目搜索关键词\r\n      this.searchSubject(keyword);\r\n    },\r\n    \r\n    /**\r\n     * @description 应用筛选条件\r\n     */\r\n    applyFilter() {\r\n      // 触发筛选应用事件\r\n      this.$emit('apply-filter', {\r\n        school: this.selectedSchool,\r\n        major: this.selectedMajor,\r\n        subject: this.selectedSubject\r\n      });\r\n    },\r\n    \r\n    /**\r\n     * @description 重置筛选条件\r\n     */\r\n    reset() {\r\n      this.selectedSchool = '';\r\n      this.selectedMajor = '';\r\n      this.selectedSubject = '';\r\n      \r\n      // 通知Vuex重置筛选条件\r\n      this.resetFilters();\r\n      \r\n      // 触发重置事件\r\n      this.$emit('reset');\r\n    },\r\n    \r\n    /**\r\n     * @description 获取当前选中的筛选值\r\n     * @returns {Object} 当前选中的筛选值对象\r\n     */\r\n    getSelectedValues() {\r\n      return {\r\n        school: this.selectedSchool,\r\n        major: this.selectedMajor,\r\n        subject: this.selectedSubject\r\n      };\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.cascade-container {\r\n  width: 100%;\r\n}\r\n\r\n.filter-row {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.filter-row:last-child {\r\n  margin-bottom: 0;\r\n}\r\n</style> ","import Component from 'D:/github/teacherDirectory/vue实现Lottie动画代码/components/cascade-container/cascade-container.vue'\nwx.createComponent(Component)"],"names":["defineComponent","mapGetters","mapActions"],"mappings":"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"}