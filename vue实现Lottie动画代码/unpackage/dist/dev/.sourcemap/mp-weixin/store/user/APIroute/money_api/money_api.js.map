{"version":3,"file":"money_api.js","sources":["store/user/APIroute/money_api/money_api.js"],"sourcesContent":["/**\r\n * 财务相关API接口\r\n * @module store/user/APIroute/money_api\r\n */\r\n\r\nimport { apiRequest } from '../../JWT.js';\r\n\r\n// 需要从API.js导入API URL\r\nconst TRANSACTION_GET_TRANSACTION_URL = 'API_URL_HERE'; // 请确保从API.js正确导入\r\n\r\n/**\r\n * 获取指定用户的交易订单列表（分页）\r\n * @param {string} userId - 用户ID\r\n * @param {number} page - 当前页码（从1开始）\r\n * @param {number} pageSize - 每页数量\r\n * @returns {Promise<TransactionItem[]>}\r\n */\r\nexport const getTransactionAPI = async (userId, page = 1, pageSize = 10) => {\r\n    try {\r\n        if (!userId) {\r\n            throw new Error('userId 不能为空');\r\n        }\r\n\r\n        const response = await apiRequest(TRANSACTION_GET_TRANSACTION_URL, 'GET', {\r\n            userId,\r\n            page,\r\n            pageSize\r\n        });\r\n\r\n        // 处理返回数据格式\r\n        if (Array.isArray(response.data)) {\r\n            const transactionList = response.data.map(item => ({\r\n                id: String(item.id || ''),\r\n                name: String(item.name || ''),\r\n                date: String(item.date || ''),\r\n                amount: typeof item.amount === 'number'\r\n                    ? item.amount\r\n                    : parseFloat(item.amount) || 0\r\n            }));\r\n            return transactionList;\r\n        } else {\r\n            throw new Error('接口返回格式错误或无数据');\r\n        }\r\n    } catch (error) {\r\n        console.error('获取交易列表失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n"],"names":["TRANSACTION_GET_TRANSACTION_URL","getTransactionAPI","userId","page","pageSize","response","apiRequest","item","error","uni"],"mappings":"uFAQMA,EAAkC,eAS3BC,EAAoB,MAAOC,EAAQC,EAAO,EAAGC,EAAW,KAAO,CACxE,GAAI,CACA,GAAI,CAACF,EACD,MAAM,IAAI,MAAM,aAAa,EAGjC,MAAMG,EAAW,MAAMC,aAAWN,EAAiC,MAAO,CACtE,OAAAE,EACA,KAAAC,EACA,SAAAC,CACZ,CAAS,EAGD,GAAI,MAAM,QAAQC,EAAS,IAAI,EAS3B,OARwBA,EAAS,KAAK,IAAIE,IAAS,CAC/C,GAAI,OAAOA,EAAK,IAAM,EAAE,EACxB,KAAM,OAAOA,EAAK,MAAQ,EAAE,EAC5B,KAAM,OAAOA,EAAK,MAAQ,EAAE,EAC5B,OAAQ,OAAOA,EAAK,QAAW,SACzBA,EAAK,OACL,WAAWA,EAAK,MAAM,GAAK,CACpC,EAAC,EAGF,MAAM,IAAI,MAAM,cAAc,CAErC,OAAQC,EAAO,CACZC,MAAAA,EAAA,MAAA,MAAA,QAAA,mDAAc,YAAaD,CAAK,EAC1BA,CACT,CACL"}