{"version":3,"file":"match.js","sources":["pages_AI_Login_Match/match/match.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNfQUlfTG9naW5fTWF0Y2hcbWF0Y2hcbWF0Y2gudnVl"],"sourcesContent":["<template>\r\n  <view class=\"background-image\">\r\n    <image\r\n      class=\"background-image-img\"\r\n      src=\"/static/image/bgPicture/background1.png\"\r\n      mode=\"aspectFill\" alt=\"背景图\"\r\n    />\r\n  </view>\r\n  <view class=\"background-image\">\r\n    <image\r\n      class=\"background-image-img\"\r\n      src=\"/static/image/bgPicture/background.png\"\r\n      mode=\"aspectFill\" alt=\"背景图\"\r\n    />\r\n  </view>\r\n  <Header :title=\"'精准匹配'\" @back=\"handleBack\" />\r\n  <view class=\"page\">\r\n    <!-- 搜索框 -->\r\n    <view class=\"search-wrapper\">\r\n      <input\r\n        v-model=\"searchText\"\r\n        placeholder=\"请输入搜索内容\"\r\n        class=\"search-input\"\r\n      />\r\n    </view>\r\n\r\n    <!-- 选项容器 -->\r\n    <view class=\"container-select\">\r\n      <view\r\n        v-for=\"item in options\"\r\n        :key=\"item.key\"\r\n        class=\"select-item\"\r\n        :class=\"{active: isActive(item.key)}\"\r\n        @click=\"onOptionClick(item.key)\">\r\n        <view class=\"select-item-content\" :class=\"{active: isActive(item.key)}\">\r\n          <text class=\"label-text\" :class=\"{active: isActive(item.key)}\">{{ item.label }}</text>\r\n          <text v-if=\"filterSummary[item.key]\" class=\"selected-text\">{{ filterSummary[item.key] }}</text>\r\n        </view>\r\n        <image\r\n          :src=\"'/static/image/arrow/arrow_down.svg'\"\r\n          class=\"arrow-icon\"\r\n          :class=\"{'arrow-icon-rotate': currentOption === item.key}\"\r\n        />\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 筛选弹层 -->\r\n    <view v-if=\"showPopup\" class=\"filter-mask\" @click.stop=\"onPopupClose\">\r\n\r\n      <!-- 学校筛选弹层 -->\r\n      <view \r\n        v-if=\"currentOption === 'school'\" \r\n        class=\"filter-popup\"\r\n        @click.stop\r\n      >\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">学校</text>\r\n        </view>\r\n        <view class=\"popup-content\">\r\n          <view class=\"form-row\">\r\n            <view class=\"input-wrapper\">\r\n              <input\r\n                v-model=\"schoolInput\"\r\n                placeholder=\"请输入学校名称\"\r\n                class=\"search-input\"\r\n                @input=\"onSchoolInput\"\r\n                @click.stop\r\n              />\r\n              <view v-if=\"schoolInput\" class=\"clear-icon\" @click.stop=\"resetSchoolFilter\">×</view>\r\n            </view>\r\n          </view>\r\n          <view class=\"scroll-container\">\r\n            <scroll-view class=\"result-list\" scroll-y=\"true\" @scrolltolower=\"loadMoreSchools\">\r\n              <view\r\n                v-for=\"(school, idx) in schoolOptions\"\r\n                :key=\"school.id\"\r\n                class=\"result-item\"\r\n                :class=\"{active: school.id === selectedSchoolId}\"\r\n                @click=\"selectSchoolTemp(school)\"\r\n              >\r\n                {{ school.name }}\r\n              </view>\r\n              <view v-if=\"schoolLoading\" class=\"loading-item\">加载中...</view>\r\n            </scroll-view>\r\n          </view>\r\n          <view class=\"save-button-container\">\r\n            <button class=\"save-button\" @click.stop=\"confirmSchoolFilter\">\r\n              <image class=\"save-button-image\" src=\"../static/match/submit.png\" mode=\"aspectFill\" alt=\"确定图标\"></image>\r\n              <text class=\"save-button-text\">确定</text>\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 专业课筛选弹层 -->\r\n      <view \r\n        v-if=\"currentOption === 'professional'\" \r\n        class=\"filter-popup\"\r\n        @click.stop\r\n      >\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">专业课</text>\r\n        </view>\r\n        <view class=\"popup-content\">\r\n          <view class=\"form-row\">\r\n            <view class=\"input-wrapper\">\r\n              <input\r\n                v-model=\"majorInput\"\r\n                :placeholder=\"selectedSchoolId ? '请输入专业名称' : '请先选择学校'\"\r\n                class=\"search-input\"\r\n                :disabled=\"!selectedSchoolId\"\r\n                @input=\"onMajorInput\"\r\n                @click.stop\r\n              />\r\n              <view v-if=\"majorInput\" class=\"clear-icon\" @click.stop=\"resetProfessionalFilter\">×</view>\r\n            </view>\r\n          </view>\r\n          <view class=\"scroll-container\">\r\n            <scroll-view class=\"result-list\" scroll-y=\"true\">\r\n              <view\r\n                v-for=\"(major, idx) in majorOptions\"\r\n                :key=\"major.id\"\r\n                class=\"result-item\"\r\n                :class=\"{active: major.id === selectedMajorId}\"\r\n                @click=\"selectMajorTemp(major)\"\r\n              >\r\n                {{ major.name }}\r\n              </view>\r\n            </scroll-view>\r\n          </view>\r\n          <view class=\"save-button-container\">\r\n            <button class=\"save-button\" @click.stop=\"confirmProfessionalFilter\">\r\n              <image class=\"save-button-image\" src=\"../static/match/submit.png\" mode=\"aspectFill\" alt=\"确定图标\"></image>\r\n              <text class=\"save-button-text\">确定</text>\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 非专业课筛选弹层 -->\r\n      <view \r\n        v-if=\"currentOption === 'nonProfessional'\" \r\n        class=\"filter-popup non-professional-popup\" \r\n        @click.stop\r\n      >\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">非专业课</text>\r\n        </view>\r\n        <view class=\"popup-content\">\r\n          <!-- 水平排列四个选项 -->\r\n          <view class=\"nonpro-tabs\">\r\n            <view\r\n              v-for=\"tab in nonProTabs\"\r\n              :key=\"tab.key\"\r\n              :class=\"['tab-item', activeNonProTab === tab.key ? 'active' : '']\"\r\n              @click.stop=\"selectNonProTab(tab.key)\"\r\n            >\r\n              {{ tab.label }}\r\n            </view>\r\n          </view>\r\n\r\n          <!-- 选中的内容区域 -->\r\n          <view class=\"filter-section\">\r\n              <text class=\"filter-label\">{{ tabLabelMap[activeNonProTab] }}</text>\r\n              <view class=\"option-buttons\">\r\n                <view \r\n                  v-for=\"(option, index) in nonProOptions\" \r\n                  :key=\"option.id\"\r\n                  class=\"option-button\"\r\n                  :class=\"{'option-button-active': option.id === selectedNonProId}\"\r\n                  @click.stop=\"selectNonProOption(option)\"\r\n                >\r\n                  {{ option.name }}\r\n                </view>\r\n              </view>\r\n          </view>\r\n          \r\n          <view class=\"save-button-container\">\r\n            <button class=\"save-button\" @click.stop=\"confirmNonProfessionalFilter\">\r\n              <image class=\"save-button-image\" src=\"../static/match/submit.png\" mode=\"aspectFill\" alt=\"确定图标\"></image>\r\n              <text class=\"save-button-text\">确定</text>\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 排序方式筛选弹层 -->\r\n      <view \r\n        v-if=\"currentOption === 'sort'\" \r\n        class=\"filter-popup sort-popup\"\r\n        @click.stop\r\n      >\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">排序方式</text>\r\n        </view>\r\n        <view class=\"popup-content\">\r\n          <view class=\"filter-section\">\r\n            <text class=\"filter-label\">选择排序方式</text>\r\n            <view class=\"option-buttons\">\r\n              <view \r\n                v-for=\"(option, index) in sortOptions\" \r\n                :key=\"option.id\"\r\n                class=\"option-button\"\r\n                :class=\"{'option-button-active': option.id === selectedSortId}\"\r\n                @click.stop=\"selectSortOption(option)\"\r\n              >\r\n                {{ option.name }}\r\n              </view>\r\n            </view>\r\n          </view>\r\n          \r\n          <view class=\"save-button-container\">\r\n            <button class=\"save-button\" @click.stop=\"confirmSortFilter\">\r\n              <image class=\"save-button-image\" src=\"../static/match/submit.png\" mode=\"aspectFill\" alt=\"确定图标\"></image>\r\n              <text class=\"save-button-text\">确定</text>\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 内容区 -->\r\n    <view class=\"container-match\">\r\n      <!-- 老师卡片列表 -->\r\n      <scroll-view class=\"card-list\" scroll-y=\"true\" id=\"step2\" @scrolltolower=\"loadMoreTeachers\">\r\n        <view class=\"teacher-card\" v-for=\"(teacher, index) in matchTeachers\" :key=\"teacher.id || index\">\r\n          <view class=\"teacher-card-outer\">\r\n            <view class=\"teacher-card-outer-gradient\">\r\n              <view class=\"teacher-card-inner\">\r\n                <view class=\"card-left\">\r\n                  <image class=\"teacher-avatar\" :src=\"teacher.avatar || '/static/image/defaultAvatar/teacher-man.png'\" mode=\"aspectFill\" @tap=\"viewTeacherDetail(teacher.id)\"></image>\r\n                </view>\r\n                <view class=\"card-middle\">\r\n                  <!-- 顶部：昵称和认证标签同一行 -->\r\n                  <view class=\"card-middle-top-row\">\r\n                    <view class=\"teacher-name\">{{ teacher.name }}</view>\r\n                    <view class=\"teacher-tags-inline\">\r\n                      <!--\r\n                        认证状态图标\r\n                        @已认证 static/image/certify/certified.png\r\n                        @未认证 static/image/certify/uncertified.png\r\n                      -->\r\n                      <image\r\n                        class=\"certify-icon\"\r\n                        :src=\"teacher.certificate ? '/static/image/certify/certified.png' : '/static/image/certify/uncertified.png'\"\r\n                        :alt=\"teacher.certificate ? '已认证' : '未认证'\"\r\n                      />\r\n                    </view>\r\n                  </view>\r\n                  <!-- 学校单独一行 -->\r\n                  <view class=\"teacher-info\">{{ teacher.school }}</view>\r\n                  <!-- 专业和评分同一行 -->\r\n                  <view class=\"teacher-major-score\">\r\n                    <view class=\"teacher-major\">{{ teacher.major }}</view>\r\n                  </view>\r\n                </view>\r\n                <view class=\"price-tag-container card-right-center\" v-if=\"teacher.hourPrice\">\r\n                  <view class=\"price-tag middle-text\">￥</view>\r\n                  <view class=\"price-tag\">{{ teacher.hourPrice }}元/小时</view>\r\n                  <view class=\"price-tag small-text\">起</view>\r\n                </view>\r\n                <view class=\"card-right\">\r\n                  <button class=\"communicate-btn\" @click.stop=\"handleCommunicate(teacher.id)\">\r\n                    <image class=\"communicate-icon\" src=\"/pages_AI_Login_Match/static/match/communicate.png\" mode=\"aspectFill\" alt=\"沟通图标\"></image>\r\n                    <text class=\"communicate-text\">马上沟通</text>\r\n                  </button>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"empty-state\" v-if=\"matchTeachers.length === 0 && !isLoading\">\r\n          <text>暂无匹配的老师信息</text>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\nimport { ref, reactive, computed, onMounted, watch, nextTick} from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { Navigator } from '@/router/Router.js'\r\nimport Header from '@/components/navigationTitleBar/header'\r\n\r\n// 初始化 store\r\nconst store = useStore()\r\n\r\n// 搜索文本\r\nconst searchText = ref('')\r\n\r\n// 选项列表\r\nconst options = [\r\n  { key: 'school', label: '学校' },\r\n  { key: 'professional', label: '专业课' },\r\n  { key: 'nonProfessional', label: '非专业课' },\r\n  { key: 'sort', label: '排序方式' }\r\n]\r\n\r\n// 当前激活的选项\r\nconst currentOption = ref('')\r\n// 弹层显示控制\r\nconst showPopup = ref(false)\r\n\r\n// 加载状态\r\nconst isLoading = ref(false)\r\n\r\n// 非专业课相关配置\r\nconst activeNonProTab = ref('math')\r\n\r\n/**\r\n * 非专业课四个tab选项\r\n * @type {Array}\r\n */\r\nconst nonProTabs = [\r\n  { key: 'math', label: '数学' },\r\n  { key: 'english', label: '英语' },\r\n  { key: 'politics', label: '政治' },\r\n  { key: 'other', label: '其他' }\r\n]\r\n\r\n/**\r\n * tab key到中文描述的映射\r\n * @type {Object}\r\n */\r\nconst tabLabelMap = {\r\n  math: '考研数学',\r\n  english: '考研英语',\r\n  politics: '考研政治',\r\n  other: '其他科目'\r\n}\r\n\r\n// 从store中获取匹配的老师列表\r\nconst matchTeachers = computed(() => {\r\n  return store.state.user.match.matchList || []\r\n})\r\n\r\n// 分页相关状态\r\nconst currentPage = computed(() => store.state.user.match.currentPage)\r\nconst hasMore = computed(() => store.state.user.match.hasMore)\r\n\r\n// 学校相关数据\r\nconst schoolInput = ref('')\r\nconst schoolOptions = computed(() => store.state.user.match.schoolList.options)\r\nconst schoolLoading = computed(() => store.state.user.match.schoolList.isLoading)\r\nconst schoolHasMore = computed(() => store.state.user.match.schoolList.hasMore)\r\nconst selectedSchoolId = ref(null)\r\nconst selectedSchoolName = ref('')\r\n\r\n// 专业相关数据\r\nconst majorInput = ref('')\r\nconst majorOptions = computed(() => store.state.user.match.professionalList.options)\r\nconst selectedMajorId = ref(null)\r\nconst selectedMajorName = ref('')\r\n\r\n// 非专业课相关数据\r\nconst nonProOptions = ref([])\r\nconst selectedNonProId = ref(null)\r\nconst selectedNonProName = ref('')\r\nconst selectedNonProType = ref('')\r\n\r\n// 排序相关数据\r\nconst sortOptions = computed(() => store.state.user.match.sortMode.options)\r\nconst selectedSortId = ref(null)\r\nconst selectedSortName = ref('')\r\n\r\n// 防抖定时器\r\nlet searchTimer = null\r\n\r\n/**\r\n * 判断选项是否处于活跃状态\r\n * @param {String} key - 选项键名\r\n * @returns {Boolean} 是否处于活跃状态\r\n */\r\nconst isActive = (key) => {\r\n  if (key === 'school') {\r\n    return !!store.state.user.match.schoolList.selectedSchool\r\n  }\r\n  \r\n  if (key === 'professional') {\r\n    return !!store.state.user.match.professionalList.selectedMajor\r\n  }\r\n  \r\n  if (key === 'nonProfessional') {\r\n    const nonProfList = store.state.user.match.nonProfessionalList\r\n    return !!(nonProfList.math.selected || nonProfList.english.selected || \r\n              nonProfList.politics.selected || nonProfList.other.selected)\r\n  }\r\n  \r\n  if (key === 'sort') {\r\n    return !!store.state.user.match.sortMode.selected\r\n  }\r\n  \r\n  return currentOption.value === key\r\n}\r\n\r\n/**\r\n * 点击选项\r\n * @param {String} key - 选项键名\r\n */\r\nconst onOptionClick = (key) => {\r\n  if (currentOption.value === key && showPopup.value) {\r\n    showPopup.value = false\r\n    currentOption.value = ''\r\n    return\r\n  }\r\n  \r\n  currentOption.value = key\r\n  showPopup.value = true\r\n  \r\n  // 初始化对应的筛选数据\r\n  initFilterData(key)\r\n}\r\n\r\n/**\r\n * 初始化筛选数据\r\n * @param {String} key - 筛选项键名\r\n */\r\nconst initFilterData = async (key) => {\r\n  if (key === 'school') {\r\n    // 同步当前选中的学校\r\n    const schoolState = store.state.user.match.schoolList\r\n    selectedSchoolId.value = schoolState.selectedSchoolId\r\n    selectedSchoolName.value = schoolState.selectedSchool\r\n    schoolInput.value = schoolState.searchKeyword || ''\r\n    \r\n    // 如果没有选项，触发搜索\r\n    if (schoolOptions.value.length === 0) {\r\n      searchSchools('')\r\n    }\r\n  }\r\n  \r\n  if (key === 'professional') {\r\n    // 同步当前选中的专业\r\n    const professionalState = store.state.user.match.professionalList\r\n    selectedMajorId.value = professionalState.selectedMajorId\r\n    selectedMajorName.value = professionalState.selectedMajor\r\n    majorInput.value = professionalState.searchKeyword || ''\r\n    \r\n    // 检查是否已选择学校\r\n    if (!store.state.user.match.schoolList.selectedSchoolId) {\r\n      majorInput.value = ''\r\n      return\r\n    }\r\n    \r\n    // 如果没有选项，触发搜索\r\n    if (majorOptions.value.length === 0) {\r\n      searchMajors('')\r\n    }\r\n  }\r\n  \r\n  if (key === 'nonProfessional') {\r\n    // 初始化非专业课选项\r\n    await loadNonProfessionalOptions(activeNonProTab.value)\r\n    \r\n    // 同步当前选中的非专业课\r\n    const nonProfState = store.state.user.match.nonProfessionalList\r\n    const currentTab = activeNonProTab.value\r\n    if (nonProfState[currentTab] && nonProfState[currentTab].selected) {\r\n      selectedNonProId.value = nonProfState[currentTab].selectedId\r\n      selectedNonProName.value = nonProfState[currentTab].selected\r\n      selectedNonProType.value = currentTab\r\n    }\r\n  }\r\n  \r\n  if (key === 'sort') {\r\n    // 加载排序选项\r\n    await store.dispatch('user/match/fetchSortModeOptions')\r\n    \r\n    // 同步当前选中的排序方式\r\n    const sortState = store.state.user.match.sortMode\r\n    selectedSortId.value = sortState.selectedId\r\n    selectedSortName.value = sortState.selected\r\n  }\r\n}\r\n\r\n/**\r\n * 关闭弹层\r\n */\r\nconst onPopupClose = () => {\r\n  showPopup.value = false\r\n  currentOption.value = ''\r\n}\r\n\r\n/**\r\n * 学校输入处理（防抖）\r\n * @param {Event} e\r\n */\r\nconst onSchoolInput = (e) => {\r\n  const keyword = e.detail.value || schoolInput.value\r\n  \r\n  // 清除之前的定时器\r\n  if (searchTimer) {\r\n    clearTimeout(searchTimer)\r\n  }\r\n  \r\n  // 设置新的定时器\r\n  searchTimer = setTimeout(() => {\r\n    searchSchools(keyword)\r\n  }, 500) // 500ms防抖\r\n}\r\n\r\n/**\r\n * 专业输入处理（防抖）\r\n * @param {Event} e\r\n */\r\nconst onMajorInput = (e) => {\r\n  const keyword = e.detail.value || majorInput.value\r\n  \r\n  if (!selectedSchoolId.value) return\r\n  \r\n  // 清除之前的定时器\r\n  if (searchTimer) {\r\n    clearTimeout(searchTimer)\r\n  }\r\n  \r\n  // 设置新的定时器\r\n  searchTimer = setTimeout(() => {\r\n    searchMajors(keyword)\r\n  }, 500) // 500ms防抖\r\n}\r\n\r\n/**\r\n * 搜索学校\r\n * @param {String} keyword - 搜索关键词\r\n * @param {Boolean} loadMore - 是否加载更多\r\n */\r\nconst searchSchools = async (keyword, loadMore = false) => {\r\n  try {\r\n    await store.dispatch('user/match/searchSchools', { keyword, loadMore })\r\n  } catch (error) {\r\n    uni.__f__('error','at pages_AI_Login_Match/match/match.vue:532','搜索学校失败:', error)\r\n    uni.showToast({\r\n      title: '搜索学校失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * 搜索专业\r\n * @param {String} keyword - 搜索关键词\r\n */\r\nconst searchMajors = async (keyword) => {\r\n  try {\r\n    await store.dispatch('user/match/searchMajors', { keyword })\r\n  } catch (error) {\r\n    uni.__f__('error','at pages_AI_Login_Match/match/match.vue:548','搜索专业失败:', error)\r\n    uni.showToast({\r\n      title: '搜索专业失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * 加载更多学校\r\n */\r\nconst loadMoreSchools = () => {\r\n  if (!schoolLoading.value && schoolHasMore.value) {\r\n    searchSchools(schoolInput.value, true)\r\n  }\r\n}\r\n\r\n/**\r\n * 加载非专业课选项\r\n * @param {String} type - 非专业课类型\r\n */\r\nconst loadNonProfessionalOptions = async (type) => {\r\n  try {\r\n    const response = await store.dispatch('user/match/fetchNonProfessionalOptions', { type })\r\n    if (response && response.data) {\r\n      nonProOptions.value = response.data\r\n    }\r\n  } catch (error) {\r\n    uni.__f__('error','at pages_AI_Login_Match/match/match.vue:576','加载非专业课选项失败:', error)\r\n    nonProOptions.value = []\r\n  }\r\n}\r\n\r\n/**\r\n * 选择学校（临时）\r\n * @param {Object} school - 学校对象\r\n */\r\nconst selectSchoolTemp = (school) => {\r\n  selectedSchoolId.value = school.id\r\n  selectedSchoolName.value = school.name\r\n  schoolInput.value = school.name\r\n}\r\n\r\n/**\r\n * 选择专业（临时）\r\n * @param {Object} major - 专业对象\r\n */\r\nconst selectMajorTemp = (major) => {\r\n  selectedMajorId.value = major.id\r\n  selectedMajorName.value = major.name\r\n  majorInput.value = major.name\r\n}\r\n\r\n/**\r\n * 选择非专业课选项\r\n * @param {Object} option - 选项对象\r\n */\r\nconst selectNonProOption = (option) => {\r\n  // 如果点击的是已选中的选项，则取消选择\r\n  if (selectedNonProId.value === option.id) {\r\n    selectedNonProId.value = null\r\n    selectedNonProName.value = ''\r\n    selectedNonProType.value = ''\r\n  } else {\r\n    selectedNonProId.value = option.id\r\n    selectedNonProName.value = option.name\r\n    selectedNonProType.value = activeNonProTab.value\r\n  }\r\n}\r\n\r\n/**\r\n * 选择排序选项\r\n * @param {Object} option - 排序选项对象\r\n */\r\nconst selectSortOption = (option) => {\r\n  // 如果点击的是已选中的选项，则取消选择\r\n  if (selectedSortId.value === option.id) {\r\n    selectedSortId.value = null\r\n    selectedSortName.value = ''\r\n  } else {\r\n    selectedSortId.value = option.id\r\n    selectedSortName.value = option.name\r\n  }\r\n}\r\n\r\n/**\r\n * 确认学校筛选\r\n */\r\nconst confirmSchoolFilter = async () => {\r\n  if (selectedSchoolId.value && selectedSchoolName.value) {\r\n    await store.dispatch('user/match/selectSchool', {\r\n      id: selectedSchoolId.value,\r\n      name: selectedSchoolName.value\r\n    })\r\n  } else {\r\n    // 清空选择\r\n    await store.dispatch('user/match/selectSchool', {\r\n      id: null,\r\n      name: ''\r\n    })\r\n  }\r\n  \r\n  applyFilters()\r\n  showPopup.value = false\r\n  currentOption.value = ''\r\n}\r\n\r\n/**\r\n * 确认专业筛选\r\n */\r\nconst confirmProfessionalFilter = async () => {\r\n  if (selectedMajorId.value && selectedMajorName.value) {\r\n    await store.dispatch('user/match/selectMajor', {\r\n      id: selectedMajorId.value,\r\n      name: selectedMajorName.value\r\n    })\r\n  } else {\r\n    // 清空选择\r\n    await store.dispatch('user/match/selectMajor', {\r\n      id: null,\r\n      name: ''\r\n    })\r\n  }\r\n  \r\n  applyFilters()\r\n  showPopup.value = false\r\n  currentOption.value = ''\r\n}\r\n\r\n/**\r\n * 确认非专业课筛选\r\n */\r\nconst confirmNonProfessionalFilter = async () => {\r\n  if (selectedNonProId.value && selectedNonProName.value && selectedNonProType.value) {\r\n    await store.dispatch('user/match/selectNonProfessional', {\r\n      type: selectedNonProType.value,\r\n      id: selectedNonProId.value,\r\n      name: selectedNonProName.value\r\n    })\r\n  } else {\r\n    // 清空选择\r\n    store.commit('user/match/CLEAR_NON_PROFESSIONAL_SELECTION')\r\n  }\r\n  \r\n  applyFilters()\r\n  showPopup.value = false\r\n  currentOption.value = ''\r\n}\r\n\r\n/**\r\n * 确认排序方式筛选\r\n */\r\nconst confirmSortFilter = async () => {\r\n  if (selectedSortId.value && selectedSortName.value) {\r\n    await store.dispatch('user/match/selectSortMode', {\r\n      id: selectedSortId.value,\r\n      name: selectedSortName.value\r\n    })\r\n  } else {\r\n    // 清空选择\r\n    await store.dispatch('user/match/selectSortMode', {\r\n      id: null,\r\n      name: ''\r\n    })\r\n  }\r\n  \r\n  applyFilters()\r\n  showPopup.value = false\r\n  currentOption.value = ''\r\n}\r\n\r\n/**\r\n * 查看老师详情\r\n */\r\nconst viewTeacherDetail = (teacherId) => {\r\n  Navigator.toTeacher(teacherId)\r\n}\r\n\r\n/**\r\n * 处理沟通按钮点击\r\n */\r\nconst handleCommunicate = (teacherId) => {\r\n  Navigator.toChat(teacherId)\r\n}\r\n\r\n/**\r\n * 加载更多老师数据\r\n */\r\nconst loadMoreTeachers = () => {\r\n  if (isLoading.value || !hasMore.value) return\r\n  \r\n  isLoading.value = true\r\n  \r\n  store.dispatch('user/match/fetchMatchTeacherList', { loadMore: true })\r\n    .then(() => {\r\n      isLoading.value = false\r\n    })\r\n    .catch(error => {\r\n      uni.__f__('error','at pages_AI_Login_Match/match/match.vue:746','加载更多老师失败:', error)\r\n      isLoading.value = false\r\n    })\r\n}\r\n\r\n/**\r\n * 选择非专业课Tab\r\n */\r\nconst selectNonProTab = async (key) => {\r\n  activeNonProTab.value = key\r\n  await loadNonProfessionalOptions(key)\r\n  \r\n  // 同步当前tab的选中状态\r\n  const nonProfState = store.state.user.match.nonProfessionalList\r\n  if (nonProfState[key] && nonProfState[key].selected) {\r\n    selectedNonProId.value = nonProfState[key].selectedId\r\n    selectedNonProName.value = nonProfState[key].selected\r\n    selectedNonProType.value = key\r\n  } else {\r\n    selectedNonProId.value = null\r\n    selectedNonProName.value = ''\r\n    selectedNonProType.value = ''\r\n  }\r\n}\r\n\r\n/**\r\n * 应用所有筛选条件\r\n */\r\nconst applyFilters = () => {\r\n  isLoading.value = true\r\n  \r\n  store.dispatch('user/match/fetchMatchTeacherList')\r\n    .then(() => {\r\n      isLoading.value = false\r\n    })\r\n    .catch(error => {\r\n      uni.__f__('error','at pages_AI_Login_Match/match/match.vue:782','应用筛选失败:', error)\r\n      isLoading.value = false\r\n    })\r\n}\r\n\r\n// 筛选条件摘要\r\nconst filterSummary = computed(() => {\r\n  const summary = {}\r\n  \r\n  summary.school = store.state.user.match.schoolList.selectedSchool || ''\r\n  summary.professional = store.state.user.match.professionalList.selectedMajor || ''\r\n  \r\n  const nonProfList = store.state.user.match.nonProfessionalList\r\n  const nonProfItems = []\r\n  if (nonProfList.math.selected) nonProfItems.push(nonProfList.math.selected)\r\n  if (nonProfList.english.selected) nonProfItems.push(nonProfList.english.selected)\r\n  if (nonProfList.politics.selected) nonProfItems.push(nonProfList.politics.selected)\r\n  if (nonProfList.other.selected) nonProfItems.push(nonProfList.other.selected)\r\n  summary.nonProfessional = nonProfItems.join(', ')\r\n  \r\n  summary.sort = store.state.user.match.sortMode.selected || ''\r\n  \r\n  return summary\r\n})\r\n\r\n/**\r\n * 重置学校筛选\r\n */\r\nconst resetSchoolFilter = () => {\r\n  schoolInput.value = ''\r\n  selectedSchoolId.value = null\r\n  selectedSchoolName.value = ''\r\n  searchSchools('')\r\n}\r\n\r\n/**\r\n * 重置专业课筛选\r\n */\r\nconst resetProfessionalFilter = () => {\r\n  majorInput.value = ''\r\n  selectedMajorId.value = null\r\n  selectedMajorName.value = ''\r\n  searchMajors('')\r\n}\r\n\r\nconst handleBack = () => {\r\n  Navigator.toIndex()\r\n}\r\n\r\n// 初始化\r\nonMounted(async () => {\r\n  // 初始加载排序选项\r\n  try {\r\n    await store.dispatch('user/match/fetchSortModeOptions')\r\n  } catch (error) {\r\n    uni.__f__('error','at pages_AI_Login_Match/match/match.vue:837','初始化排序选项失败:', error)\r\n  }\r\n  \r\n  // 模拟初始数据加载\r\n  isLoading.value = true\r\n  try {\r\n    await store.dispatch('user/match/fetchMatchTeacherList')\r\n    isLoading.value = false\r\n  } catch (error) {\r\n    uni.__f__('error','at pages_AI_Login_Match/match/match.vue:846','初始化匹配列表失败:', error)\r\n    isLoading.value = false\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.background-image {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 0;\r\n  pointer-events: none;\r\n}\r\n.background-image-img {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n.page {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n.search-wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 80rpx;\r\n  margin-left: 20rpx;\r\n  margin-right: 20rpx;\r\n  border-radius: 8rpx;\r\n  padding: 10px;\r\n  background: #fff;\r\n}\r\n\r\n.input-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  height: 36px;\r\n  padding: 0 30px 0 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.clear-icon {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 16px;\r\n  color: #999;\r\n  height: 20px;\r\n  width: 20px;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  z-index: 2;\r\n}\r\n\r\n.container-select {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid #eee;\r\n  background: #fff;\r\n  width: 100%;\r\n  flex-wrap: nowrap;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.select-item {\r\n  flex: 1;\r\n  min-width: 0;\r\n  padding: 12px 0px;\r\n  position: relative;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  flex-direction: row; /* 水平排列 */\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.select-item-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.label-text {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  text-align: center;\r\n  margin-bottom: 2px;\r\n  color: rgba(0,0,0,0.5);\r\n}\r\n\r\n.select-item.active .select-item-content .label-text {\r\n  color: rgba(95, 38, 247, 1);\r\n}\r\n\r\n\r\n.arrow-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  flex-shrink: 0;\r\n  transition: transform 0.3s ease;\r\n  margin-left: 10rpx;\r\n}\r\n.arrow-icon.active {\r\n  color: rgba(95, 38, 247, 1);\r\n}\r\n.arrow-icon-rotate {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.container-match {\r\n  flex: 1;\r\n  background: #f5f5f5;\r\n  overflow-y: auto;\r\n  background-color: transparent;\r\n}\r\n\r\n.popup-content {\r\n  background-color: #fff;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  padding: 15rpx 30rpx;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n.filter-section{\r\n  min-height: 400rpx;\r\n}\r\n/* 顶部标题栏 */\r\n.popup-header {\r\n  position: relative;\r\n  height: 100rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.popup-title {\r\n  font-family: 'PingFang SC', sans-serif;\r\n  font-size: 32rpx;\r\n  line-height: 70rpx;\r\n  letter-spacing: -1.1rpx;\r\n  font-weight: 600;\r\n  color: rgba(0, 0, 0, 1);\r\n}\r\n\r\n.popup-close {\r\n  color: #007AFF;\r\n  font-size: 28rpx;\r\n  position: absolute;\r\n  right: 32rpx;\r\n  top: 28rpx;\r\n}\r\n\r\n/* 状态提示栏 */\r\n.popup-status-bar {\r\n  text-align: center;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.popup-status {\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n/* 选项列表区域 */\r\n.popup-scroll {\r\n  flex: 1;\r\n  height: calc(100% - 80px);\r\n}\r\n\r\n/* 列表项样式 */\r\n.popup-item {\r\n  width: 100%;\r\n  padding: 15px 16px;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  font-size: 15px;\r\n  color: #333;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.popup-item-active {\r\n  color: #007AFF;\r\n}\r\n\r\n.filter-label {\r\n  font-size: 15px;\r\n  color: #333;\r\n\r\n  display: block;\r\n}\r\n\r\n\r\n\r\n.option-buttons {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-top: 10rpx;\r\n}\r\n\r\n.option-button {\r\n  padding: 8px 15px;\r\n  margin-right: 15px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  color: #666;\r\n  transition: all 0.3s ease;\r\n  margin-bottom: 10rpx;\r\n  margin-top: 10rpx;\r\n}\r\n\r\n.option-button-active {\r\n  background-color: #e6f2ff;\r\n  color: #007AFF;\r\n  border: 1px solid #007AFF;\r\n}\r\n\r\n/* 老师卡片样式 */\r\n.card-list {\r\n  flex: 1;\r\n  padding: 10px 15px;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.teacher-card {\r\n  display: flex;\r\n  flex-direction: row;\r\n  background-color: #ffffff;\r\n  border-radius: 16px;\r\n\r\n  margin-bottom: 15px;\r\n  box-shadow: 0 4px 12px rgba(30, 144, 255, 0.1);\r\n  position: relative;\r\n  min-height: 110px;\r\n}\r\n\r\n.teacher-card-outer {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 16px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: stretch;\r\n  justify-content: stretch;\r\n  background: transparent;\r\n}\r\n\r\n.teacher-card-outer-gradient {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 40rpx;\r\n  padding: 2rpx;\r\n  box-sizing: border-box;\r\n  background: linear-gradient(180deg, rgba(228, 241, 255, 1) 0%, rgba(34, 136, 249, 1) 100%);\r\n}\r\n\r\n.teacher-card-inner {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 40rpx;\r\n  background: #fff;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  position: relative;\r\n}\r\n\r\n/**\r\n * 老师卡内容渐变遮罩\r\n * 参考login页面同学卡内容渐变遮罩\r\n */\r\n.teacher-card-inner::after {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 40rpx;\r\n  pointer-events: none;\r\n  background: linear-gradient(180deg, rgba(194, 221, 250, 0.2) 11.54%, rgba(34, 136, 249, 0.2) 111.54%);\r\n  z-index: 1;\r\n}\r\n\r\n.card-left {\r\n  align-self: flex-start;\r\n  position: relative;\r\n  z-index: 10;\r\n  margin-bottom: -20rpx;\r\n}\r\n\r\n.teacher-avatar {\r\n\r\n  width: 230rpx;\r\n  height: 230rpx;\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.card-middle {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  min-height: 70px;\r\n  width: calc(100% - 85px);\r\n  box-sizing: border-box;\r\n}\r\n\r\n\r\n.card-middle-top-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  gap: 8rpx;\r\n  min-height: 60rpx;\r\n}\r\n\r\n.teacher-name {\r\n  /**\r\n   * 老师名字字体样式\r\n   * @font PingFang SC, 400, 16px, 100%, -0.55px\r\n   */\r\n  font-family: 'PingFang SC', sans-serif;\r\n  font-weight: 600;\r\n  font-size: 32rpx;\r\n  line-height: 100%;\r\n  letter-spacing: -0.55px;\r\n  color: rgba(0, 0, 0, 1);\r\n  margin-bottom: 20rpx;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.teacher-info {\r\n  /**\r\n   * 学校信息字体样式\r\n   * @font PingFang SC, 400, 12px, 100%, -0.55px, 颜色rgba(70, 78, 248, 1)\r\n   */\r\n  font-family: 'PingFang SC', sans-serif;\r\n  font-weight: 400;\r\n  font-size: 24rpx;\r\n  line-height: 100%;\r\n  letter-spacing: -0.55px;\r\n  color: rgba(70, 78, 248, 1);\r\n  margin-bottom: 4rpx;\r\n}\r\n.teacher-major-score {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap:10rpx;\r\n  margin-top:4rpx\r\n}\r\n.teacher-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.teacher-tags-inline {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-left: 8rpx;\r\n}\r\n\r\n\r\n.price-tag-container {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  right: 36rpx;\r\n  z-index: 1;\r\n  padding: 8rpx 10rpx;\r\n  border-radius: 8rpx;\r\n  text-align: right;\r\n}\r\n\r\n.price-tag {\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  font-size: 26rpx;\r\n  line-height: 100%;\r\n  letter-spacing: -1.1rpx;\r\n  color: rgba(70, 78, 248, 1);\r\n\r\n}\r\n.middle-text {\r\n  font-size: 20rpx;\r\n  margin-top:6rpx;\r\n}\r\n.small-text {\r\n  font-size: 16rpx;\r\n  margin-top:10rpx;\r\n  padding-right: 2rpx;\r\n}\r\n\r\n.card-right {\r\n  position: relative;\r\n  right: 36rpx;\r\n  z-index: 2;\r\n  margin-top:140rpx;\r\n}\r\n\r\n.card-right-center {\r\n  position: absolute;\r\n  top: 55%;\r\n  transform: translateY(-50%);\r\n  z-index: 2;\r\n}\r\n\r\n.communicate-btn {\r\n  flex-direction: row;\r\n  /**\r\n   * 马上沟通按钮样式\r\n   * 渐变背景，圆角，白色文字，指定文字样式\r\n   */\r\n  background: linear-gradient(180deg, #A5A9F7 0%, rgba(70, 78, 248, 0.9) 100%);\r\n  min-height: 52rpx;\r\n  padding: 0 28rpx;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n}\r\n.communicate-icon {\r\n  width: 28rpx;\r\n  height: 28rpx;\r\n  margin-right: 20rpx;\r\n}\r\n.communicate-text {\r\n  font-family: 'PingFang SC', sans-serif;\r\n  font-weight: 400;\r\n  font-size: 24rpx;\r\n  line-height: 100%;\r\n  letter-spacing: -1.36rpx;\r\n  text-align: center;\r\n  color: rgba(255, 255, 255, 1);\r\n}\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 30px 0;\r\n  color: #999;\r\n}\r\n\r\n.loading-item {\r\n  text-align: center;\r\n  padding: 10px 0;\r\n  color: #999;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 弹出层蒙版 */\r\n.filter-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 998;\r\n}\r\n\r\n/* 弹出层容器 */\r\n.filter-popup {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #fff;\r\n  z-index: 999;\r\n  border-radius: 20rpx 20rpx 0 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height:600rpx;\r\n}\r\n.filter-popup.sort-popup {\r\n  height: 38vh;\r\n}\r\n.filter-popup.non-professional-popup {\r\n  height: 46vh;\r\n}\r\n\r\n/* 筛选弹窗内容区 */\r\n.popup-content {\r\n  background-color: #fff;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  padding: 15rpx 30rpx;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 滚动区域容器 */\r\n.scroll-container {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  position: relative;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n/* 结果列表样式 */\r\n.result-list {\r\n  height: 300rpx; /* 固定高度 */\r\n  overflow-y: auto;\r\n}\r\n\r\n/* 按钮容器 */\r\n.button-container {\r\n  position: relative;\r\n\tpadding: 10rpx 20rpx 10rpx;\r\n\r\n}\r\n\r\n/* 底部按钮样式 */\r\n.popup-button {\r\n\twidth: 100%;\r\n\theight: 76rpx;\r\n\tbackground: linear-gradient(180deg, #A5A9F7 0%, rgba(70, 78, 248, 0.9) 100%);\r\n\tcolor: #ffffff;\r\n\tborder-radius: 45rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tfont-size: 32rpx;\r\n\tborder-radius: 20rpx;\r\n\tflex-direction: row;\r\n\tmargin-top: 10rpx;\r\n\r\n}\r\n\r\n\r\n/* 表单行样式 */\r\n.form-row {\r\n  margin-bottom: 25rpx;\r\n  width: 100%;\r\n}\r\n\r\n.selected-text {\r\n  font-size: 20rpx;\r\n  color: #007AFF;\r\n  margin-top: 2px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 140rpx;\r\n  text-align: left;\r\n}\r\n\r\n/* 非专业课选项卡样式 */\r\n.nonpro-tabs {\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.nonpro-tabs .tab-item {\r\n  flex: 1;\r\n  text-align: center;\r\n  padding: 10px 0;\r\n  font-size: 14px;\r\n  color: #666;\r\n  position: relative;\r\n}\r\n\r\n.nonpro-tabs .tab-item.active {\r\n  color: #007AFF;\r\n  font-weight: 500;\r\n}\r\n\r\n.nonpro-tabs .tab-item.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  left: 25%;\r\n  bottom: -10px;\r\n  width: 50%;\r\n  height: 3px;\r\n  background-color: #007AFF;\r\n  border-radius: 3px;\r\n}\r\n\r\n.result-item {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  font-size: 15px;\r\n  color: #333;\r\n  cursor: pointer;\r\n}\r\n.result-item.active {\r\n  color: #007AFF;\r\n  background: #f0f8ff;\r\n}\r\n\r\n\r\n\r\n/* 固定在选项卡下方的按钮容器 */\r\n.fixed-button-container {\r\n  position: absolute;\r\n  bottom: 15px;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 20rpx 30rpx;\r\n  background-color: #fff;\r\n  z-index: 5;\r\n}\r\n\r\n/* 针对每个弹窗标题的绝对定位样式 */\r\n.popup-title-school {\r\n  position: absolute;\r\n  width: 32px;\r\n  height: 35px;\r\n  top: 160px;\r\n  left: 21px;\r\n}\r\n.popup-title-professional {\r\n  position: absolute;\r\n  width: 47px;\r\n  height: 35px;\r\n  top: 160px;\r\n  left: 110px;\r\n}\r\n.popup-title-nonpro {\r\n  position: absolute;\r\n  width: 63px;\r\n  height: 35px;\r\n  top: 160px;\r\n  left: 212px;\r\n}\r\n.popup-title-sort {\r\n  position: absolute;\r\n  width: 63px;\r\n  height: 35px;\r\n  top: 160px;\r\n  left: 332px;\r\n}\r\n\r\n\r\n\r\n.teacher-major {\r\n  /**\r\n   * 专业和评分字体样式\r\n   * @font PingFang SC, 400, 12px, 100%, -0.55px\r\n   */\r\n  font-family: 'PingFang SC';\r\n  font-weight: 400;\r\n  font-size: 24rpx;\r\n  line-height: 100%;\r\n  letter-spacing: -0.55px;\r\n  color: #666666;\r\n}\r\n\r\n.certify-icon {\r\n  /**\r\n   * 认证状态图标样式\r\n   * @size 16x16px\r\n   * @align 与昵称垂直居中\r\n   */\r\n  width: 94rpx;\r\n  height: 40rpx;\r\n  margin-left: 4rpx;\r\n  display: inline-block;\r\n  z-index: 10;\r\n}\r\n\r\n/* 非专业课弹窗确认按钮下移 */\r\n.filter-popup.non-professional-popup .button-container {\r\n  margin-top: auto; /* 自动推到底部 */\r\n  padding-bottom: 25rpx; /* 比默认多20rpx，可根据实际调整 */\r\n}\r\n\r\n/* 排序方式弹窗确认按钮下移 */\r\n.filter-popup.sort-popup .button-container {\r\n  margin-top: auto;\r\n  padding-bottom: 25rpx;\r\n}\r\n\r\n.save-button-container {\r\n  padding-left: 10rpx;\r\n  padding-right: 10rpx;\r\n}\r\n\r\n.save-button {\r\n  width: 100%;\r\n  height: 76rpx;\r\n  background: linear-gradient(180deg, #A5A9F7 0%, rgba(70, 78, 248, 0.9) 100%);\r\n  color: #ffffff;\r\n  border-radius: 45rpx;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 32rpx;\r\n  border-radius: 20rpx;\r\n  flex-direction: row;\r\n  margin-top: 10rpx;\r\n\r\n}\r\n\r\n\r\n.save-button-image {\r\n  width: 36rpx;\r\n  height: 36rpx;\r\n  margin-right: 30rpx;\r\n}\r\n.save-button-text {\r\n  font-size: 32rpx;\r\n  color: rgba(255, 255, 255, 1);\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  line-height: 100%;\r\n  letter-spacing: -0.68px;\r\n  text-align: center;\r\n}\r\n\r\n</style>\r\n","import MiniProgramPage from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pages_AI_Login_Match/match/match.vue'\nwx.createPage(MiniProgramPage)"],"names":["Header","store","useStore","searchText","ref","options","currentOption","showPopup","isLoading","activeNonProTab","nonProTabs","tabLabelMap","matchTeachers","computed","hasMore","schoolInput","schoolOptions","schoolLoading","schoolHasMore","selectedSchoolId","selectedSchoolName","majorInput","majorOptions","selectedMajorId","selectedMajorName","nonProOptions","selectedNonProId","selectedNonProName","selectedNonProType","sortOptions","selectedSortId","selectedSortName","searchTimer","isActive","key","nonProfList","onOptionClick","initFilterData","__awaiter","schoolState","searchSchools","professionalState","searchMajors","loadNonProfessionalOptions","nonProfState","currentTab","sortState","onPopupClose","onSchoolInput","e","keyword","onMajorInput","loadMore","error","uni","loadMoreSchools","type","response","selectSchoolTemp","school","selectMajorTemp","major","selectNonProOption","option","selectSortOption","confirmSchoolFilter","applyFilters","confirmProfessionalFilter","confirmNonProfessionalFilter","confirmSortFilter","viewTeacherDetail","teacherId","Navigator","handleCommunicate","loadMoreTeachers","selectNonProTab","filterSummary","summary","nonProfItems","resetSchoolFilter","resetProfessionalFilter","handleBack","onMounted","MiniProgramPage"],"mappings":"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"}