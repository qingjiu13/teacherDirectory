{"version":3,"file":"MessageItem.js","sources":["pages_AI_Login_Match/AI/ai-chat/MessageItem.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov56CU5biI5b2V5LiO5YW25LuW5Lq65YWx5Lqr5paH5Lu2L3RlYWNoZXJEaXJlY3RvcnkvdnVl5a6e546wTG90dGll5Yqo55S75Luj56CBL3BhZ2VzX0FJX0xvZ2luX01hdGNoL0FJL2FpLWNoYXQvTWVzc2FnZUl0ZW0udnVl"],"sourcesContent":["<template>\r\n\t<view class=\"message-item\" :class=\"[messageType, {'streaming': streaming}]\">\r\n\t\t<view class=\"message-header\" v-if=\"messageType === 'ai'\">\r\n\t\t\t<text class=\"ai-title\">{{aiTitle}}</text>\r\n\t\t</view>\r\n\t\t<view class=\"message-content\">\r\n\t\t\t<text>{{content}}</text>\r\n\t\t</view>\r\n\t\t<view class=\"message-status\" v-if=\"status === 'sending'\">\r\n\t\t\t<text class=\"sending-dots\">...</text>\r\n\t\t</view>\r\n\t\t<view class=\"message-status\" v-if=\"status === 'error'\">\r\n\t\t\t<text class=\"error-text\">发送失败</text>\r\n\t\t\t<view class=\"retry-btn\" @click=\"onRetry\">\r\n\t\t\t\t<text class=\"retry-btn-text\">重试</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * @description 消息项组件\r\n\t * @property {String} role - 消息角色，可能的值：user(用户), AI(人工智能), system(系统)\r\n\t * @property {String} content - 消息内容\r\n\t * @property {String} status - 消息状态，可能的值：sending(发送中), sent(已发送), error(错误)\r\n\t * @property {Boolean} streaming - 是否正在流式接收\r\n\t * @property {String} aiTitle - AI消息的标题\r\n\t * @event {Function} retry - 重试发送消息\r\n\t */\r\n\texport default {\r\n\t\tname: \"MessageItem\",\r\n\t\tprops: {\r\n\t\t\trole: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'user',\r\n\t\t\t\tvalidator: (value) => ['user', 'AI', 'system'].includes(value)\r\n\t\t\t},\r\n\t\t\tcontent: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tstatus: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'sent',\r\n\t\t\t\tvalidator: (value) => ['sending', 'sent', 'error'].includes(value)\r\n\t\t\t},\r\n\t\t\tstreaming: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\taiTitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '研师录AI'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t/**\r\n\t\t\t * @description 获取消息类型（小写），用于CSS类名\r\n\t\t\t * @returns {String} 消息类型\r\n\t\t\t */\r\n\t\t\tmessageType() {\r\n\t\t\t\t// 将AI角色转换为小写ai用于CSS类名\r\n\t\t\t\treturn this.role === 'AI' ? 'ai' : this.role;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description 重试发送消息\r\n\t\t\t */\r\n\t\t\tonRetry() {\r\n\t\t\t\tthis.$emit('retry');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.message-item {\r\n\t\tmax-width: 90%;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tposition: relative;\r\n\t\tanimation: fadeIn 0.3s ease-in-out;\r\n\t}\r\n\t\r\n\t@keyframes fadeIn {\r\n\t\tfrom { opacity: 0; transform: translateY(10rpx); }\r\n\t\tto { opacity: 1; transform: translateY(0); }\r\n\t}\r\n\t\r\n\t.message-item.user {\r\n\t\talign-self: flex-end;\r\n\t}\r\n\t\r\n\t.message-item.ai {\r\n\t\talign-self: flex-start;\r\n\t}\r\n\t\r\n\t.message-item.system {\r\n\t\talign-self: center;\r\n\t\tmax-width: 70%;\r\n\t\tmargin: 10rpx 0 30rpx;\r\n\t}\r\n\t\r\n\t.message-content {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 1.5;\r\n\t\tword-break: break-word;\r\n\t}\r\n\t\r\n\t.message-item.user .message-content {\r\n\t\tbackground-color: #1E90FF;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 16rpx 0 16rpx 16rpx;\r\n\t}\r\n\t\r\n\t.message-item.ai .message-content {\r\n\t\tbackground-color: #f0f0f0;\r\n\t\tcolor: #333;\r\n\t\tborder-radius: 0 16rpx 16rpx 16rpx;\r\n\t}\r\n\t\r\n\t.message-item.system .message-content {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\r\n\t\tcolor: #666;\r\n\t\tborder-radius: 30rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t\r\n\t.message-header {\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.ai-title {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t\tpadding-left: 10rpx;\r\n\t}\r\n\t\r\n\t.message-status {\r\n\t\tmargin-top: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.sending-dots {\r\n\t\tanimation: dotsAnimation 1.5s infinite;\r\n\t}\r\n\t\r\n\t@keyframes dotsAnimation {\r\n\t\t0% { opacity: 0.3; }\r\n\t\t50% { opacity: 1; }\r\n\t\t100% { opacity: 0.3; }\r\n\t}\r\n\t\r\n\t.error-text {\r\n\t\tcolor: #ff4d4f;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t\r\n\t.retry-btn {\r\n\t\tpadding: 5rpx 15rpx;\r\n\t\tbackground-color: #f0f0f0;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\t\r\n\t.retry-btn-text {\r\n\t\tcolor: #1E90FF;\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\t\r\n\t.message-item.streaming .message-content {\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.message-item.streaming .message-content::after {\r\n\t\tcontent: \"|\";\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #1E90FF;\r\n\t\tanimation: blink 1s step-end infinite;\r\n\t\tmargin-left: 2rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t@keyframes blink {\r\n\t\t0%, 100% { opacity: 1; }\r\n\t\t50% { opacity: 0; }\r\n\t}\r\n</style> ","import Component from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pages_AI_Login_Match/AI/ai-chat/MessageItem.vue'\nwx.createComponent(Component)"],"names":["_sfc_main","defineComponent","value","Component"],"mappings":"0DA8BCA,EAAeC,kBAAA,CACd,KAAM,cACN,MAAO,CACN,KAAM,CACL,KAAM,OACN,QAAS,OACT,UAAW,CAACC,SAAU,CAAC,OAAQ,KAAM,QAAQ,EAAE,SAASA,CAAK,CAC7D,EACD,QAAS,CACR,KAAM,OACN,QAAS,EACT,EACD,OAAQ,CACP,KAAM,OACN,QAAS,OACT,UAAW,CAACA,SAAU,CAAC,UAAW,OAAQ,OAAO,EAAE,SAASA,CAAK,CACjE,EACD,UAAW,CACV,KAAM,QACN,QAAS,EACT,EACD,QAAS,CACR,KAAM,OACN,QAAS,OACV,CACA,EACD,SAAU,CAKT,aAAW,CAEV,OAAO,KAAK,OAAS,KAAO,KAAO,KAAK,IACzC,CACA,EACD,QAAS,CAIR,SAAO,CACN,KAAK,MAAM,OAAO,CACnB,CACD,EACD,kYCzED,GAAG,gBAAgBC,CAAS"}