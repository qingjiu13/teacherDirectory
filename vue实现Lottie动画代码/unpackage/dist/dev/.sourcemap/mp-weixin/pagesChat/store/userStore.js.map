{"version":3,"file":"userStore.js","sources":["pagesChat/store/userStore.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport http from '../common/request'\n\nexport default defineStore('userStore', {\n\tstate: () => {\n\t\treturn {\n\t\t\tuserInfo: {}\n\t\t}\n\t},\n\tactions: {\n\t\tsetUserInfo(userInfo) {\n\t\t\tthis.userInfo = userInfo;\n\t\t},\n\t\tclear() {\n\t\t\tthis.userInfo = {};\n\t\t},\n\t\tloadUser() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\thttp({\n\t\t\t\t\turl: '/user/self',\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).then((userInfo) => {\n\t\t\t\t\tthis.setUserInfo(userInfo);\n\t\t\t\t\tresolve();\n\t\t\t\t}).catch((res) => {\n\t\t\t\t\treject(res);\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t}\n})"],"names":["defineStore","userInfo","resolve","reject","http","res"],"mappings":"yFAGeA,EAAAA,EAAAA,YAAY,YAAa,CACvC,MAAO,KACC,CACN,SAAU,CAAE,CACZ,GAEF,QAAS,CACR,YAAYC,EAAU,CACrB,KAAK,SAAWA,CAChB,EACD,OAAQ,CACP,KAAK,SAAW,EAChB,EACD,UAAW,CACV,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACvCC,UAAK,CACJ,IAAK,aACL,OAAQ,KACb,CAAK,EAAE,KAAMH,GAAa,CACrB,KAAK,YAAYA,CAAQ,EACzBC,GACL,CAAK,EAAE,MAAOG,GAAQ,CACjBF,EAAOE,CAAG,CACf,CAAK,CACL,CAAI,CACD,CACD,CACF,CAAC"}