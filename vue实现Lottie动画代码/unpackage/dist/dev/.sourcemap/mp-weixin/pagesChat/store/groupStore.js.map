{"version":3,"file":"groupStore.js","sources":["pagesChat/store/groupStore.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport default defineStore('groupStore', {\r\n\tstate: () => {\r\n\t\treturn {\r\n\t\t\tgroups: []\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tloadGroup() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'groups',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.groups = res.data || [];\r\n\t\t\t\t\t\tresolve(this.groups);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tthis.groups = [];\r\n\t\t\t\t\t\tresolve([]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\taddGroup(group) {\r\n\t\t\tif (!this.findGroup(group.id)) {\r\n\t\t\t\tthis.groups.push(group);\r\n\t\t\t\tthis.saveToStorage();\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveGroup(groupId) {\r\n\t\t\tthis.groups = this.groups.filter(group => group.id !== groupId);\r\n\t\t\tthis.saveToStorage();\r\n\t\t},\r\n\t\tsaveToStorage() {\r\n\t\t\tuni.setStorage({\r\n\t\t\t\tkey: 'groups',\r\n\t\t\t\tdata: this.groups\r\n\t\t\t});\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\tthis.groups = [];\r\n\t\t\tuni.removeStorage({\r\n\t\t\t\tkey: 'groups'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tgetters: {\r\n\t\tfindGroup: (state) => (id) => {\r\n\t\t\treturn state.groups.find(group => group.id === id);\r\n\t\t}\r\n\t}\r\n}); "],"names":["defineStore","resolve","reject","uni","res","group","groupId","state","id"],"mappings":"uDAEeA,EAAAA,EAAAA,YAAY,aAAc,CACxC,MAAO,KACC,CACN,OAAQ,CAAE,CACV,GAEF,QAAS,CACR,WAAY,CACX,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACvCC,EAAAA,MAAI,WAAW,CACd,IAAK,SACL,QAAUC,GAAQ,CACjB,KAAK,OAASA,EAAI,MAAQ,CAAA,EAC1BH,EAAQ,KAAK,MAAM,CACnB,EACD,KAAM,IAAM,CACX,KAAK,OAAS,GACdA,EAAQ,CAAE,CAAA,CACV,CACN,CAAK,CACL,CAAI,CACD,EACD,SAASI,EAAO,CACV,KAAK,UAAUA,EAAM,EAAE,IAC3B,KAAK,OAAO,KAAKA,CAAK,EACtB,KAAK,cAAa,EAEnB,EACD,YAAYC,EAAS,CACpB,KAAK,OAAS,KAAK,OAAO,OAAOD,GAASA,EAAM,KAAOC,CAAO,EAC9D,KAAK,cAAa,CAClB,EACD,eAAgB,CACfH,EAAAA,MAAI,WAAW,CACd,IAAK,SACL,KAAM,KAAK,MACf,CAAI,CACD,EACD,OAAQ,CACP,KAAK,OAAS,GACdA,EAAAA,MAAI,cAAc,CACjB,IAAK,QACT,CAAI,CACD,CACD,EACD,QAAS,CACR,UAAYI,GAAWC,GACfD,EAAM,OAAO,KAAKF,GAASA,EAAM,KAAOG,CAAE,CAElD,CACF,CAAC"}