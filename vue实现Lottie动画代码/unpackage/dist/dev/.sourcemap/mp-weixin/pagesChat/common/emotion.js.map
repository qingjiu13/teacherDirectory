{"version":3,"file":"emotion.js","sources":["pagesChat/common/emotion.js"],"sourcesContent":["import UNI_APP from '/pagesChat/env.js'\n\n\nconst emoTextList = ['憨笑', '媚眼', '开心', '坏笑', '可怜', '爱心', '笑哭', '拍手', '惊喜', '打气',\n\t'大哭', '流泪', '饥饿', '难受', '健身', '示爱', '色色', '眨眼', '暴怒', '惊恐',\n\t'思考', '头晕', '大吐', '酷笑', '翻滚', '享受', '鼻涕', '快乐', '雀跃', '微笑',\n\t'贪婪', '红心', '粉心', '星星', '大火', '眼睛', '音符', \"叹号\", \"问号\", \"绿叶\",\n\t\"燃烧\", \"喇叭\", \"警告\", \"信封\", \"房子\", \"礼物\", \"点赞\", \"举手\", \"拍手\", \"点头\",\n\t\"摇头\", \"偷瞄\", \"庆祝\", \"疾跑\", \"打滚\", \"惊吓\", \"起跳\"\n];\n\nconst regex = /\\#[\\u4E00-\\u9FA5]{1,3}\\;/gi;\n\nlet containEmoji = (content) => {\n\treturn regex.test(content)\n}\n\nlet transform = (content, extClass) => {\n\treturn content.replace(regex, (emoText)=>{\n\t\t// 将匹配结果替换表情图片\n\t\tlet word = emoText.replace(/\\#|\\;/gi, '');\n\t\tlet idx = emoTextList.indexOf(word);\n\t\tif (idx == -1) {\n\t\t\treturn emoText;\n\t\t}\n\t\tlet path = textToPath(emoText);\n\t\tlet img = `<img src=\"${path}\" class=\"${extClass}\"/>`;\n\t\treturn img;\n\t});\n}\n\nlet textToPath = (emoText) => {\n\tlet word = emoText.replace(/\\#|\\;/gi, '');\n\tlet idx = emoTextList.indexOf(word);\n\treturn UNI_APP.EMO_URL + idx + \".gif\";\n}\n\nexport default {\n\tcontainEmoji,\n\temoTextList,\n\ttransform,\n\ttextToPath\n}"],"names":["emoTextList","regex","containEmoji","content","transform","extClass","emoText","word","textToPath","idx","UNI_APP","emoUtil"],"mappings":"0CAGMA,EAAc,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC1E,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IACrC,EAEMC,EAAQ,6BAEd,IAAIC,EAAgBC,GACZF,EAAM,KAAKE,CAAO,EAGtBC,EAAY,CAACD,EAASE,IAClBF,EAAQ,QAAQF,EAAQK,GAAU,CAExC,IAAIC,EAAOD,EAAQ,QAAQ,UAAW,EAAE,EAExC,OADUN,EAAY,QAAQO,CAAI,GACvB,GACHD,EAGE,aADCE,EAAWF,CAAO,CACF,YAAYD,CAAQ,KAEjD,CAAE,EAGEG,EAAcF,GAAY,CAC7B,IAAIC,EAAOD,EAAQ,QAAQ,UAAW,EAAE,EACpCG,EAAMT,EAAY,QAAQO,CAAI,EAClC,OAAOG,UAAQ,QAAUD,EAAM,MAChC,EAEA,MAAeE,EAAA,CACd,aAAAT,EACA,YAAAF,EACA,UAAAI,EACA,WAAAI,CACD"}