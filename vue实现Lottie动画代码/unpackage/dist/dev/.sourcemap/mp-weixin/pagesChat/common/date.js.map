{"version":3,"file":"date.js","sources":["pagesChat/common/date.js"],"sourcesContent":["let toTimeText = (timeStamp, simple) => {\n\tvar dateTime = new Date(timeStamp)\n\tvar currentTime = Date.parse(new Date()); //当前时间\n\tvar timeDiff = currentTime - dateTime; //与当前时间误差\n\tvar timeText = '';\n\tif (timeDiff <= 60000) { //一分钟内\n\t\ttimeText = '刚刚';\n\t} else if (timeDiff > 60000 && timeDiff < 3600000) {\n\t\t//1小时内\n\t\ttimeText = Math.floor(timeDiff / 60000) + '分钟前';\n\t} else if (timeDiff >= 3600000 && timeDiff < 86400000 && !isYestday(dateTime)) {\n\t\t//今日\n\t\ttimeText = formatDateTime(dateTime).substr(11, 5);\n\t} else if (isYestday(dateTime)) {\n\t\t//昨天\n\t\ttimeText = '昨天' + formatDateTime(dateTime).substr(11, 5);\n\t} else if (isYear(dateTime)) {\n\t\t//今年\n\t\ttimeText = formatDateTime(dateTime).substr(5, simple ? 5 : 14);\n\t} else {\n\t\t//不属于今年\n\t\ttimeText = formatDateTime(dateTime);\n\t\tif (simple) {\n\t\t\ttimeText = timeText.substr(2, 8);\n\t\t}\n\t}\n\treturn timeText;\n}\n\nlet isYestday = (date) => {\n\tvar yesterday = new Date(new Date() - 1000 * 60 * 60 * 24);\n\treturn yesterday.getYear() === date.getYear() &&\n\t\tyesterday.getMonth() === date.getMonth() &&\n\t\tyesterday.getDate() === date.getDate();\n}\n\nlet isYear = (date) => {\n\treturn date.getYear() === new Date().getYear();\n}\n\nlet formatDateTime = (date) => {\n\tif (date === '' || !date) {\n\t\treturn ''\n\t}\n\tvar dateObject = new Date(date)\n\tvar y = dateObject.getFullYear()\n\tvar m = dateObject.getMonth() + 1\n\tm = m < 10 ? ('0' + m) : m\n\tvar d = dateObject.getDate()\n\td = d < 10 ? ('0' + d) : d\n\tvar h = dateObject.getHours()\n\th = h < 10 ? ('0' + h) : h\n\tvar minute = dateObject.getMinutes()\n\tminute = minute < 10 ? ('0' + minute) : minute\n\tvar second = dateObject.getSeconds()\n\tsecond = second < 10 ? ('0' + second) : second\n\treturn y + '/' + m + '/' + d + ' ' + h + ':' + minute + ':' + second\n}\n\n\nexport {\n\ttoTimeText,\n\tisYestday,\n\tisYear,\n\tformatDateTime\n}"],"names":["toTimeText","timeStamp","simple","dateTime","currentTime","timeDiff","timeText","isYestday","formatDateTime","isYear","date","yesterday","dateObject","y","m","d","h","minute","second"],"mappings":"aAAG,IAACA,EAAa,CAACC,EAAWC,IAAW,CACvC,IAAIC,EAAW,IAAI,KAAKF,CAAS,EAC7BG,EAAc,KAAK,MAAM,IAAI,IAAM,EACnCC,EAAWD,EAAcD,EACzBG,EAAW,GACf,OAAID,GAAY,IACfC,EAAW,KACDD,EAAW,KAASA,EAAW,KAEzCC,EAAW,KAAK,MAAMD,EAAW,GAAK,EAAI,MAChCA,GAAY,MAAWA,EAAW,OAAY,CAACE,EAAUJ,CAAQ,EAE3EG,EAAWE,EAAeL,CAAQ,EAAE,OAAO,GAAI,CAAC,EACtCI,EAAUJ,CAAQ,EAE5BG,EAAW,KAAOE,EAAeL,CAAQ,EAAE,OAAO,GAAI,CAAC,EAC7CM,EAAON,CAAQ,EAEzBG,EAAWE,EAAeL,CAAQ,EAAE,OAAO,EAAGD,EAAS,EAAI,EAAE,GAG7DI,EAAWE,EAAeL,CAAQ,EAC9BD,IACHI,EAAWA,EAAS,OAAO,EAAG,CAAC,IAG1BA,CACR,EAEIC,EAAaG,GAAS,CACzB,IAAIC,EAAY,IAAI,KAAK,IAAI,KAAS,KAAmB,EACzD,OAAOA,EAAU,YAAcD,EAAK,QAAS,GAC5CC,EAAU,SAAQ,IAAOD,EAAK,SAAU,GACxCC,EAAU,QAAO,IAAOD,EAAK,QAAO,CACtC,EAEID,EAAUC,GACNA,EAAK,QAAS,IAAK,IAAI,KAAM,EAAC,QAAO,EAGzCF,EAAkBE,GAAS,CAC9B,GAAIA,IAAS,IAAM,CAACA,EACnB,MAAO,GAER,IAAIE,EAAa,IAAI,KAAKF,CAAI,EAC1BG,EAAID,EAAW,YAAa,EAC5BE,EAAIF,EAAW,SAAQ,EAAK,EAChCE,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIC,EAAIH,EAAW,QAAS,EAC5BG,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIC,EAAIJ,EAAW,SAAU,EAC7BI,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIC,EAASL,EAAW,WAAY,EACpCK,EAASA,EAAS,GAAM,IAAMA,EAAUA,EACxC,IAAIC,EAASN,EAAW,WAAY,EACpC,OAAAM,EAASA,EAAS,GAAM,IAAMA,EAAUA,EACjCL,EAAI,IAAMC,EAAI,IAAMC,EAAI,IAAMC,EAAI,IAAMC,EAAS,IAAMC,CAC/D"}