{"version":3,"file":"group-member-selector.js","sources":["pagesChat/components/group-member-selector/group-member-selector.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov56CU5biI5b2V5LiO5YW25LuW5Lq65YWx5Lqr5paH5Lu2L3RlYWNoZXJEaXJlY3RvcnkvdnVl5a6e546wTG90dGll5Yqo55S75Luj56CBL3BhZ2VzQ2hhdC9jb21wb25lbnRzL2dyb3VwLW1lbWJlci1zZWxlY3Rvci9ncm91cC1tZW1iZXItc2VsZWN0b3IudnVl"],"sourcesContent":["<template>\n\t<uni-popup ref=\"popup\" type=\"bottom\">\n\t\t<view class=\"group-member-selector\">\n\t\t\t<view class=\"top-bar\">\n\t\t\t\t<view class=\"top-tip\">选择成员</view>\n\t\t\t\t<button class=\"top-btn\" type=\"warn\" size=\"mini\" @click=\"onClean()\">清空 </button>\n\t\t\t\t<button class=\"top-btn\" type=\"primary\" size=\"mini\" @click=\"onOk()\">确定({{ checkedIds.length }})\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t\t<scroll-view v-show=\"checkedIds.length > 0\" scroll-x=\"true\" scroll-left=\"120\">\n\t\t\t\t<view class=\"checked-users\">\n\t\t\t\t\t<view v-for=\"m in checkedMembers\" class=\"user-item\" :key=\"m.userId\">\n\t\t\t\t\t\t<head-image :name=\"m.showNickName\" :url=\"m.headImage\" :size=\"60\"></head-image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t<view class=\"search-bar\">\n\t\t\t\t<uni-search-bar v-model=\"searchText\" cancelButton=\"none\" placeholder=\"搜索\"></uni-search-bar>\n\t\t\t</view>\n\t\t\t<view class=\"member-items\">\n\t\t\t\t<virtual-scroller :items=\"showMembers\">\n\t\t\t\t\t<template v-slot=\"{ item }\">\n\t\t\t\t\t\t<view class=\"member-item\" @click=\"onSwitchChecked(item)\">\n\t\t\t\t\t\t\t<head-image :name=\"item.showNickName\" :online=\"item.online\" :url=\"item.headImage\"\n\t\t\t\t\t\t\t\t:size=\"90\"></head-image>\n\t\t\t\t\t\t\t<view class=\"member-name\">{{ item.showNickName }}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"member-checked\">\n\t\t\t\t\t\t\t\t<radio :checked=\"item.checked\" :disabled=\"item.locked\"\n\t\t\t\t\t\t\t\t\t@click.stop=\"onSwitchChecked(item)\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</virtual-scroller>\n\t\t\t</view>\n\t\t</view>\n\t</uni-popup>\n</template>\n\n\n<script lang=\"uts\">\nexport default {\n\tname: \"group-member-selector\",\n\tprops: {\n\t\tgroup: {\n\t\t\ttype: Object\n\t\t},\n\t\tmembers: {\n\t\t\ttype: Array\n\t\t},\n\t\tmaxSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 50\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchText: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tinit(checkedIds, lockedIds, hideIds) {\n\t\t\tthis.members.forEach((m) => {\n\t\t\t\tm.checked = checkedIds.indexOf(m.userId) >= 0;\n\t\t\t\tm.locked = lockedIds.indexOf(m.userId) >= 0;\n\t\t\t\tm.hide = hideIds.indexOf(m.userId) >= 0;\n\t\t\t});\n\t\t},\n\t\topen() {\n\t\t\tthis.$refs.popup.open();\n\t\t},\n\t\tonSwitchChecked(m) {\n\t\t\tif (!m.locked) {\n\t\t\t\tm.checked = !m.checked;\n\t\t\t}\n\t\t\t// 达到选择上限\n\t\t\tif (this.maxSize > 0 && this.checkedIds.length > this.maxSize) {\n\t\t\t\tm.checked = false;\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `最多选择${this.maxSize}位用户`,\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonClean() {\n\t\t\tthis.members.forEach((m) => {\n\t\t\t\tif (!m.locked && m.checked) {\n\t\t\t\t\tm.checked = false;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonOk() {\n\t\t\tthis.$refs.popup.close();\n\t\t\tthis.$emit(\"complete\", this.checkedIds)\n\t\t}\n\t},\n\tcomputed: {\n\t\tcheckedIds() {\n\t\t\treturn this.checkedMembers.map(m => m.userId)\n\t\t},\n\t\tcheckedMembers() {\n\t\t\treturn this.members.filter((m) => !m.quit && !m.hide && m.checked);\n\t\t},\n\t\tshowMembers() {\n\t\t\treturn this.members.filter(m => !m.quit && !m.hide && m.showNickName.includes(this.searchText))\n\t\t}\n\t}\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.group-member-selector {\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: white;\n\tpadding: 10rpx;\n\tborder-radius: 15rpx 15rpx 0 0;\n\toverflow: hidden;\n\n\t.top-bar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 70rpx;\n\t\tpadding: 10rpx 30rpx;\n\n\t\t.top-tip {\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.top-btn {\n\t\t\tmargin-left: 10rpx;\n\t\t}\n\t}\n\n\t.checked-users {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 90rpx;\n\t\tpadding: 0 30rpx;\n\n\t\t.user-item {\n\t\t\tpadding: 3rpx;\n\t\t}\n\t}\n\n\t.member-items {\n\t\tposition: relative;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\n\t\t.member-item {\n\t\t\theight: 120rpx;\n\t\t\tdisplay: flex;\n\t\t\tposition: relative;\n\t\t\tpadding: 0 30rpx;\n\t\t\talign-items: center;\n\t\t\tbackground-color: white;\n\t\t\twhite-space: nowrap;\n\n\t\t\t.member-name {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tflex: 1;\n\t\t\t\tpadding-left: 20rpx;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tline-height: 60rpx;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t.uni-tag {\n\t\t\t\t\tmargin-left: 5rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>","import Component from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/group-member-selector/group-member-selector.vue'\nwx.createComponent(Component)"],"names":["_sfc_main","defineComponent","checkedIds","lockedIds","hideIds","m","uni","Component"],"mappings":"0DAyCAA,EAAeC,kBAAA,CACd,KAAM,wBACN,MAAO,CACN,MAAO,CACN,KAAM,MACN,EACD,QAAS,CACR,KAAM,KACN,EACD,QAAS,CACR,KAAM,OACN,QAAS,EACV,CACA,EACD,MAAI,CACH,MAAO,CACN,WAAY,GAEb,EACD,QAAS,CACR,KAAKC,EAAU,KAAEC,EAAS,KAAEC,EAAO,KAAA,CAClC,KAAK,QAAQ,QAAQ,CAACC,EAAC,OAAA,CACtBA,EAAE,QAAUH,EAAW,QAAQG,EAAE,MAAM,GAAK,EAC5CA,EAAE,OAASF,EAAU,QAAQE,EAAE,MAAM,GAAK,EAC1CA,EAAE,KAAOD,EAAQ,QAAQC,EAAE,MAAM,GAAK,CACvC,CAAC,CACD,EACD,MAAI,CACH,KAAK,MAAM,MAAM,MACjB,EACD,gBAAgBA,EAAC,KAAA,CACXA,EAAE,SACNA,EAAE,QAAU,CAACA,EAAE,SAGZ,KAAK,QAAU,GAAK,KAAK,WAAW,OAAS,KAAK,UACrDA,EAAE,QAAU,GACZC,EAAAA,MAAI,UAAU,CACb,MAAO,OAAO,KAAK,OAAO,MAC1B,KAAM,MACN,CAAA,EAEF,EACD,SAAO,CACN,KAAK,QAAQ,QAAQ,CAACD,EAAC,OAAA,CAClB,CAACA,EAAE,QAAUA,EAAE,UAClBA,EAAE,QAAU,GAEd,CAAC,CACD,EACD,MAAI,CACH,KAAK,MAAM,MAAM,QACjB,KAAK,MAAM,WAAY,KAAK,UAAU,CACvC,CACA,EACD,SAAU,CACT,YAAU,CACT,OAAO,KAAK,eAAe,IAAI,CAAAA,EAAA,OAAKA,EAAE,MAAM,CAC5C,EACD,gBAAc,CACb,OAAO,KAAK,QAAQ,OAAO,CAACA,EAAC,OAAK,CAACA,EAAE,MAAQ,CAACA,EAAE,MAAQA,EAAE,OAAO,CACjE,EACD,aAAW,CACV,OAAO,KAAK,QAAQ,OAAO,CAAAA,SAAK,CAACA,EAAE,MAAQ,CAACA,EAAE,MAAQA,EAAE,aAAa,SAAS,KAAK,UAAU,CAAC,CAC/F,CACD,EACD,oqCC1GA,GAAG,gBAAgBE,CAAS"}