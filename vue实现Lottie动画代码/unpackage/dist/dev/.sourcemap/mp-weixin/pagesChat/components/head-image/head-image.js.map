{"version":3,"file":"head-image.js","sources":["pagesChat/components/head-image/head-image.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov56CU5biI5b2V5LiO5YW25LuW5Lq65YWx5Lqr5paH5Lu2L3RlYWNoZXJEaXJlY3RvcnkvdnVl5a6e546wTG90dGll5Yqo55S75Luj56CBL3BhZ2VzQ2hhdC9jb21wb25lbnRzL2hlYWQtaW1hZ2UvaGVhZC1pbWFnZS52dWU"],"sourcesContent":["<template>\n\t<view class=\"head-image\" @click=\"showUserInfo($event)\" :title=\"name\">\n\t\t<image class=\"avatar-image\" v-if=\"url\" :src=\"processImageUrl(url)\" :style=\"avatarImageStyle\" lazy-load=\"true\"\n\t\t\tmode=\"aspectFill\" />\n\t\t<view class=\"avatar-text\" v-if=\"!url\" :style=\"avatarTextStyle\">\n\t\t\t{{ name?.substring(0, 1).toUpperCase() }}\n\t\t</view>\n\t\t<view v-if=\"online\" class=\"online\" title=\"用户当前在线\">\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n\tname: \"head-image\",\n\tdata() {\n\t\treturn {\n\t\t\tcolors: [\"#5daa31\", \"#c7515a\", \"#e03697\", \"#85029b\",\n\t\t\t\t\"#c9b455\", \"#326eb6\"]\n\t\t}\n\t},\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number\n\t\t},\n\t\tsize: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 'default'\n\t\t},\n\t\turl: {\n\t\t\ttype: String\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\tonline: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t},\n\tmethods: {\n\t\tshowUserInfo(e) {\n\t\t\tif (this.id && this.id > 0) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/common/user-info?id=\" + this.id\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 处理图片URL，确保路径正确\n\t\t * @param {string} url - 图片URL\n\t\t * @returns {string} 处理后的URL\n\t\t */\n\t\tprocessImageUrl(url) {\n\t\t\tif (!url) return '';\n\t\t\t// 如果是以/开头的本地路径，直接返回\n\t\t\tif (url.startsWith('/')) {\n\t\t\t\treturn url;\n\t\t\t}\n\t\t\t// 如果是以@/开头的路径，转换为/开头的本地路径\n\t\t\tif (url.startsWith('@/')) {\n\t\t\t\treturn url.replace('@/', '/');\n\t\t\t}\n\t\t\t// 其他情况直接返回原始URL\n\t\t\treturn url;\n\t\t}\n\t},\n\tcomputed: {\n\t\t_size() {\n\t\t\tif (typeof this.size === 'number') {\n\t\t\t\treturn this.size;\n\t\t\t} else if (typeof this.size === 'string') {\n\t\t\t\treturn {\n\t\t\t\t\t'default': 96,\n\t\t\t\t\t'small': 84,\n\t\t\t\t\t'smaller': 72,\n\t\t\t\t\t'mini': 60,\n\t\t\t\t\t'minier': 48,\n\t\t\t\t\t'lage': 108,\n\t\t\t\t\t'lager': 120,\n\t\t\t\t}[this.size]\n\t\t\t}\n\t\t},\n\t\tavatarImageStyle() {\n\t\t\treturn `width:${this._size}rpx;\n\t\t\t\t\theight:${this._size}rpx;`\n\t\t},\n\t\tavatarTextStyle() {\n\t\t\treturn `width: ${this._size}rpx;\n\t\t\t\t\theight:${this._size}rpx;\n\t\t\t\t\tbackground-color:${this.name ? this.textColor : '#fff'};\n\t\t\t\t\tfont-size:${this._size * 0.5}rpx;\n\t\t\t\t\t`\n\t\t},\n\t\ttextColor() {\n\t\t\tlet hash = 0;\n\t\t\tfor (var i = 0; i < this.name.length; i++) {\n\t\t\t\thash += this.name.charCodeAt(i);\n\t\t\t}\n\t\t\treturn this.colors[hash % this.colors.length];\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n.head-image {\n\tposition: relative;\n\tcursor: pointer;\n\n\t.avatar-image {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\tborder-radius: 50%;\n\t\tvertical-align: bottom;\n\t}\n\n\t.avatar-text {\n\t\tcolor: white;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.online {\n\t\tposition: absolute;\n\t\tright: -10%;\n\t\tbottom: 0;\n\t\twidth: 24rpx;\n\t\theight: 24rpx;\n\t\tbackground: limegreen;\n\t\tborder-radius: 50%;\n\t\tborder: 6rpx solid white;\n\t}\n}\n</style>","import Component from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/components/head-image/head-image.vue'\nwx.createComponent(Component)"],"names":["_sfc_main","defineComponent","uni","url","hash","Component"],"mappings":"0DAaAA,EAAeC,kBAAA,CACd,KAAM,aACN,MAAI,CACH,MAAO,CACN,OAAQ,CAAC,UAAW,UAAW,UAAW,UACzC,UAAW,SAAS,EAEtB,EACD,MAAO,CACN,GAAI,CACH,KAAM,MACN,EACD,KAAM,CACL,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,SACT,EACD,IAAK,CACJ,KAAM,MACN,EACD,KAAM,CACL,KAAM,OACN,QAAS,IACT,EACD,OAAQ,CACP,KAAM,QACN,QAAS,EACT,CACD,EACD,QAAS,CACR,aAAa,EAAC,KAAA,CACT,KAAK,IAAM,KAAK,GAAK,GACxBC,EAAAA,MAAI,WAAW,CACd,IAAK,8BAAgC,KAAK,EAC1C,CAAA,CAEF,EAMD,gBAAgBC,EAAG,KAAA,CAClB,OAAKA,EAEDA,EAAI,WAAW,GAAG,EACdA,EAGJA,EAAI,WAAW,IAAI,EACfA,EAAI,QAAQ,KAAM,GAAG,EAGtBA,EAVU,EAWlB,CACA,EACD,SAAU,CACT,OAAK,CACJ,GAAI,OAAO,KAAK,MAAS,SACxB,OAAO,KAAK,KACN,GAAI,OAAO,KAAK,MAAS,SAC/B,OAAO,IAAA,cAAA,CACN,QAAW,GACX,MAAS,GACT,QAAW,GACX,KAAQ,GACR,OAAU,GACV,KAAQ,IACR,MAAS,GACT,CAAA,EAAC,KAAK,IAAI,CAEZ,EACD,kBAAgB,CACf,MAAO,SAAS,KAAK,KAAK;AAAA,cACf,KAAK,KAAK,MACrB,EACD,iBAAe,CACd,MAAO,UAAU,KAAK,KAAK;AAAA,cAChB,KAAK,KAAK;AAAA,wBACA,KAAK,KAAO,KAAK,UAAY,MAAM;AAAA,iBAC1C,KAAK,MAAQ,EAAG;AAAA,MAE9B,EACD,WAAS,CACR,IAAIC,EAAO,EACX,QAAS,EAAI,EAAG,EAAI,KAAK,KAAK,OAAQ,IACrCA,GAAQ,KAAK,KAAK,WAAW,CAAC,EAE/B,OAAO,KAAK,OAAOA,EAAO,KAAK,OAAO,MAAM,CAC7C,CACD,EACD,0YCtGA,GAAG,gBAAgBC,CAAS"}