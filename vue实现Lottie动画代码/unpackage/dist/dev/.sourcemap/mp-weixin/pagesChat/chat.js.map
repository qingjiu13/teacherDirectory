{"version":3,"file":"chat.js","sources":["pagesChat/chat.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNDaGF0XGNoYXQudnVl"],"sourcesContent":["<template>\n\t<view class=\"background-image\">\n      <!--\n        @file ./images/background1.png\n        @description 登录页背景图1，分包页面通过相对路径./images/background1.png按需加载\n      -->\n      <image\n        src=\"/static/image/bgPicture/background1.png\"\n        mode=\"aspectFill\" alt=\"背景图\"\n      />\n    </view>\n    <view class=\"background-image\">\n      <!--\n        @file ./images/background.png\n        @description 登录页背景图2，分包页面通过相对路径./images/background.png按需加载\n      -->\n      <image\n        src=\"/static/image/bgPicture/background.png\"\n        mode=\"aspectFill\" alt=\"背景图\"\n      />\n    </view>\n  <view class=\"container\"></view>\n\t<view class=\"tab-page\">\n\t\t<!-- 搜索栏 -->\n\t\t<view class=\"nav-search\">\n\t\t\t<uni-search-bar :focus=\"false\" radius=\"100\" v-model=\"searchText\" cancelButton=\"none\"\n\t\t\t\tplaceholder=\"搜索\" @input=\"onSearchInput\"></uni-search-bar>\n\t\t</view>\n\t\t<view v-if=\"loading\" class=\"chat-loading\">\n\t\t\t<Loading :size=\"50\" :mask=\"false\">\n\t\t\t\t<view>消息接收中...</view>\n\t\t\t</Loading>\n\t\t</view>\n\t\t<view class=\"chat-tip\" v-if=\"!loading && chats.length == 0\">\n\t\t\t温馨提示：您现在还没有任何聊天消息，快去精确匹配寻找老师吧~\n\t\t</view>\n\t\t<scroll-view class=\"scroll-bar\" v-if=\"!loading && chats.length > 0\" scroll-with-animation=\"true\" scroll-y=\"true\" @scrolltolower=\"loadMoreChats\">\n\t\t\t<view v-for=\"(chat, index) in showChats\" :key=\"index\">\n\t\t\t\t<LongPressMenu v-if=\"isShowChat(chat)\" :items=\"menu.items\" @select=\"onSelectMenu($event, index)\">\n\t\t\t\t\t<ChatItem :chat=\"chat\" :index=\"index\" :active=\"menu.chatIdx == index\" :chatStore=\"chatStore\"></ChatItem>\n\t\t\t\t</LongPressMenu>\n\t\t\t</view>\n\t\t\t<view v-if=\"showChats.length === 0 && searchText\" class=\"no-search-result\">\n\t\t\t\t没有找到匹配\"{{searchText}}\"的聊天记录\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t<tab-bar pageName=\"message\"></tab-bar>\n\t</view>\n</template>\n\n<script lang=\"uts\">\n// 引入模拟数据和服务\nimport mockChatService from './common/mockChatService.js';\nimport { initMockChatData, mockChats } from './common/mockData.js';\n// 引入自定义的底部导航栏组件\nimport TabBar from '@/components/tab-bar/tab-bar.vue';\n// 引入聊天项组件\nimport ChatItem from '@/pagesChat/components/chat-item/chat-item.vue';\n// 引入长按菜单组件\nimport LongPressMenu from '@/pagesChat/components/long-press-menu/long-press-menu.vue';\n// 引入加载组件\nimport Loading from '@/pagesChat/components/loading/loading.vue';\n// 直接引入store获取函数\nimport { getChatStore } from './main.js';\n\nexport default {\n\tcomponents: {\n\t\tChatItem, // 注册聊天项组件\n\t\tTabBar, // 注册自定义底部导航栏组件\n\t\tLongPressMenu, // 注册长按菜单组件\n\t\tLoading // 注册加载组件\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchText: \"\",\n\t\t\tmenu: {\n\t\t\t\tshow: false,\n\t\t\t\tstyle: \"\",\n\t\t\t\tchatIdx: -1,\n\t\t\t\tisTouchMove: false,\n\t\t\t\titems: [{\n\t\t\t\t\t\tkey: 'DELETE',\n\t\t\t\t\t\tname: '删除该聊天',\n\t\t\t\t\t\ticon: 'trash',\n\t\t\t\t\t\tcolor: '#e64e4e'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'TOP',\n\t\t\t\t\t\tname: '置顶该聊天',\n\t\t\t\t\t\ticon: 'arrow-up'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tchats: [],\n\t\t\tchatStore: null,\n\t\t\t// 是否使用模拟数据\n\t\t\tuseMockData: true,\n\t\t\tisLoading: false,\n\t\t\thasError: false,\n\t\t\terrorMessage: ''\n\t\t}\n\t},\n\tcreated() {\n\t\t// 直接使用导入的getChatStore函数获取chatStore\n\t\ttry {\n\t\t\tthis.chatStore = getChatStore();\n\t\t\t\n\t\t\t// 如果仍然无法获取，则尝试从globalProperties中获取\n\t\t\tif (!this.chatStore && this.$) {\n\t\t\t\tthis.chatStore = this.$chatStore;\n\t\t\t}\n\t\t\t\n\t\t\tuni.__f__('log','at pagesChat/chat.vue:113','获取chatStore成功:', !!this.chatStore);\n\t\t} catch (error) {\n\t\t\tuni.__f__('error','at pagesChat/chat.vue:115','获取chatStore失败:', error);\n\t\t\t// 创建一个简单的替代对象\n\t\t\tthis.chatStore = {\n\t\t\t\tchats: [],\n\t\t\t\tremoveChat: this.mockRemoveChat.bind(this),\n\t\t\t\tmoveTop: this.mockMoveToTop.bind(this),\n\t\t\t\tisLoading: () => this.isLoading\n\t\t\t};\n\t\t}\n\t},\n\tonLoad() {\n\t\t// 设置应用初始化状态\n\t\tif (getApp().$vm) {\n\t\t\tgetApp().$vm.isInit = true;\n\t\t}\n\t\t\n\t\t// 加载聊天数据\n\t\tthis.loadChats();\n\t\t\n\t\t// 打印日志，帮助调试\n\t\tuni.__f__('log','at pagesChat/chat.vue:135','Chat页面已加载，chats数据长度：', this.chats.length);\n\t},\n\tmethods: {\n\t\t/**\n\t\t * 加载聊天数据\n\t\t */\n\t\tloadChats() {\n\t\t\tthis.isLoading = true;\n\t\t\tuni.__f__('log','at pagesChat/chat.vue:143','chat.vue: 开始加载聊天数据');\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 直接从mockChats加载数据\n\t\t\t\tthis.chats = JSON.parse(JSON.stringify(mockChats));\n\t\t\t\tuni.__f__('log','at pagesChat/chat.vue:148','chat.vue: 直接从mockChats加载数据，共', this.chats.length, '条会话');\n\t\t\t\t\n\t\t\t\t// 将数据加载到chatStore中\n\t\t\t\tif (this.chatStore && this.chatStore.initChats) {\n\t\t\t\t\tthis.chatStore.initChats({\n\t\t\t\t\t\tchats: this.chats,\n\t\t\t\t\t\tprivateMsgMaxId: 5000,\n\t\t\t\t\t\tgroupMsgMaxId: 6000\n\t\t\t\t\t});\n\t\t\t\t\tuni.__f__('log','at pagesChat/chat.vue:157','chat.vue: 数据已加载到chatStore');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 设置聊天数据存储\n\t\t\t\tif (!this.chatStore) {\n\t\t\t\t\tthis.chatStore = {\n\t\t\t\t\t\tchats: this.chats,\n\t\t\t\t\t\tremoveChat: this.mockRemoveChat.bind(this),\n\t\t\t\t\t\tmoveTop: this.mockMoveToTop.bind(this),\n\t\t\t\t\t\tisLoading: () => this.isLoading\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.__f__('log','at pagesChat/chat.vue:170','chat.vue: 聊天数据加载完成，共加载', this.chats.length, '条聊天记录');\n\t\t\t} catch (error) {\n\t\t\t\tuni.__f__('error','at pagesChat/chat.vue:172','chat.vue: 加载聊天数据失败', error);\n\t\t\t\tthis.handleError(error, '加载聊天数据失败');\n\t\t\t\t// 创建默认数据以避免页面空白\n\t\t\t\tthis.createDefaultMockData();\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tuni.__f__('log','at pagesChat/chat.vue:178','chat.vue: 数据加载状态已更新 isLoading =', this.isLoading);\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 创建默认模拟数据（当所有获取数据的方法都失败时使用）\n\t\t */\n\t\tcreateDefaultMockData() {\n\t\t\tconst now = new Date().getTime();\n\t\t\t\n\t\t\tthis.chats = [\n\t\t\t\t{\n\t\t\t\t\ttargetId: 1,\n\t\t\t\t\ttype: 'PRIVATE',\n\t\t\t\t\tshowName: '张老师',\n\t\t\t\t\theadImage: '/static/image/defaultAvatar/student-man.png',\n\t\t\t\t\tlastContent: '你好，有什么问题需要咨询吗？',\n\t\t\t\t\tlastSendTime: now - 10 * 60 * 1000, // 10分钟前\n\t\t\t\t\tunreadCount: 0,\n\t\t\t\t\tmessages: [],\n\t\t\t\t\tatMe: false,\n\t\t\t\t\tatAll: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttargetId: 2,\n\t\t\t\t\ttype: 'PRIVATE',\n\t\t\t\t\tshowName: '李同学',\n\t\t\t\t\theadImage: '/static/image/defaultAvatar/student-woman.png',\n\t\t\t\t\tlastContent: '老师，我已完成作业',\n\t\t\t\t\tlastSendTime: now - 30 * 60 * 1000, // 30分钟前\n\t\t\t\t\tunreadCount: 1,\n\t\t\t\t\tmessages: [],\n\t\t\t\t\tatMe: false,\n\t\t\t\t\tatAll: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttargetId: 101,\n\t\t\t\t\ttype: 'GROUP',\n\t\t\t\t\tshowName: '高三一班班级群',\n\t\t\t\t\theadImage: '/static/image/defaultAvatar/teacher-man.png',\n\t\t\t\t\tlastContent: '请同学们注意查看群公告',\n\t\t\t\t\tlastSendTime: now - 2 * 60 * 60 * 1000, // 2小时前\n\t\t\t\t\tunreadCount: 3,\n\t\t\t\t\tmessages: [],\n\t\t\t\t\tatMe: true,\n\t\t\t\t\tatAll: false\n\t\t\t\t}\n\t\t\t];\n\t\t\t\n\t\t\t// 如果有chatStore，将数据加载到chatStore中\n\t\t\tif (this.chatStore && this.chatStore.initChats) {\n\t\t\t\tthis.chatStore.initChats({\n\t\t\t\t\tchats: this.chats,\n\t\t\t\t\tprivateMsgMaxId: 1000,\n\t\t\t\t\tgroupMsgMaxId: 2000\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 模拟删除会话\n\t\t * @param {number} chatIdx - 会话索引\n\t\t */\n\t\tmockRemoveChat(chatIdx) {\n\t\t\tif (chatIdx >= 0 && chatIdx < this.chats.length) {\n\t\t\t\tconst chat = this.chats[chatIdx];\n\t\t\t\t\n\t\t\t\t// 尝试使用mockChatService的deleteChat方法\n\t\t\t\ttry {\n\t\t\t\t\tmockChatService.deleteChat({\n\t\t\t\t\t\ttype: chat.type,\n\t\t\t\t\t\ttargetId: chat.targetId\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tuni.__f__('log','at pagesChat/chat.vue:252','删除会话时出错，直接从本地数组移除', e);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 从数组中移除\n\t\t\t\tthis.chats.splice(chatIdx, 1);\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 模拟将会话置顶\n\t\t * @param {number} chatIdx - 会话索引\n\t\t */\n\t\tmockMoveToTop(chatIdx) {\n\t\t\tif (chatIdx > 0 && chatIdx < this.chats.length) {\n\t\t\t\tconst chat = this.chats[chatIdx];\n\t\t\t\t\n\t\t\t\t// 直接在本地数组中移动位置\n\t\t\t\tthis.chats.splice(chatIdx, 1);\n\t\t\t\tthis.chats.unshift(chat);\n\t\t\t\t\n\t\t\t\tuni.__f__('log','at pagesChat/chat.vue:272','会话已置顶');\n\t\t\t}\n\t\t},\n\t\t\n\t\tonSelectMenu(item, chatIdx) {\n\t\t\tswitch (item.key) {\n\t\t\t\tcase 'DELETE':\n\t\t\t\t\tthis.removeChat(chatIdx);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'TOP':\n\t\t\t\t\tthis.moveToTop(chatIdx);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.menu.show = false;\n\t\t},\n\t\t\n\t\tremoveChat(chatIdx) {\n\t\t\tif (this.chatStore && this.chatStore.removeChat) {\n\t\t\t\tthis.chatStore.removeChat(chatIdx);\n\t\t\t} else {\n\t\t\t\tthis.mockRemoveChat(chatIdx);\n\t\t\t}\n\t\t},\n\t\t\n\t\tmoveToTop(chatIdx) {\n\t\t\tif (this.chatStore && this.chatStore.moveTop) {\n\t\t\t\tthis.chatStore.moveTop(chatIdx);\n\t\t\t} else {\n\t\t\t\tthis.mockMoveToTop(chatIdx);\n\t\t\t}\n\t\t},\n\t\t\n\t\tisShowChat(chat) {\n\t\t\tif (chat.delete) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !this.searchText || chat.showName.includes(this.searchText)\n\t\t},\n\t\t\n\t\t/**\n\t\t * 搜索输入变化时触发\n\t\t */\n\t\tonSearchInput() {\n\t\t\t// 实时搜索\n\t\t\tuni.__f__('log','at pagesChat/chat.vue:318','搜索关键词:', this.searchText);\n\t\t},\n\t\t\n\t\t/**\n\t\t * 加载更多聊天记录（下拉时触发）\n\t\t */\n\t\tloadMoreChats() {\n\t\t\tuni.__f__('log','at pagesChat/chat.vue:325','加载更多聊天记录');\n\t\t\t// 模拟数据中无需实际加载更多\n\t\t},\n\t\t\n\t\t/**\n\t\t * 处理错误\n\t\t * @param {Error} error - 错误对象\n\t\t * @param {string} message - 错误信息\n\t\t */\n\t\thandleError(error, message) {\n\t\t\tthis.hasError = true;\n\t\t\tthis.errorMessage = message || '操作失败';\n\t\t\tuni.__f__('error','at pagesChat/chat.vue:337',message, error);\n\t\t\t\n\t\t\t// 显示错误提示\n\t\t\tuni.showToast({\n\t\t\t\ttitle: this.errorMessage,\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\tloading() {\n\t\t\treturn this.isLoading;\n\t\t},\n\t\tinitializing() {\n\t\t\t// 使用模拟数据时不显示初始化状态\n\t\t\treturn false;\n\t\t},\n\t\tshowChats() {\n\t\t\tif (!this.searchText) {\n\t\t\t\treturn this.chats.filter(chat => !chat.delete);\n\t\t\t}\n\t\t\t\n\t\t\t// 搜索逻辑：匹配聊天名称或最后一条消息内容\n\t\t\treturn this.chats.filter(chat => {\n\t\t\t\tif (chat.delete) return false;\n\t\t\t\t\n\t\t\t\t// 匹配聊天名称\n\t\t\t\tconst nameMatch = chat.showName && chat.showName.toLowerCase().includes(this.searchText.toLowerCase());\n\t\t\t\t\n\t\t\t\t// 匹配最后一条消息内容\n\t\t\t\tconst contentMatch = chat.lastContent && chat.lastContent.toLowerCase().includes(this.searchText.toLowerCase());\n\t\t\t\t\n\t\t\t\treturn nameMatch || contentMatch;\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.background-image {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  z-index: 0;\n  pointer-events: none;\n}\n\n.background-image image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.tab-page {\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-bottom: 120rpx; /* 为底部的 TabBar 留出空间 */\n\theight: 100vh;\n\tbackground-color: transparent;\n\n\t.nav-search {\n\t\tpadding: 20rpx;\n\t\tbackground-color: transparent;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.1);\n\t\tmargin-top: 100rpx;\n\t}\n\n\t.chat-tip {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tpadding: 50rpx;\n\t\tline-height: 50rpx;\n\t\ttext-align: center;\n\t\tcolor: #999;\n\t\twidth: 80%;\n\t}\n\n\t.no-search-result {\n\t\tpadding: 40rpx;\n\t\ttext-align: center;\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t}\n\n\t.chat-loading {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\theight: 120rpx;\n\t\tbackground: white;\n\t\tcolor: #999;\n\n\t\t.loading-box {\n\t\t\tposition: relative;\n\t\t}\n\t}\n\n\t.scroll-bar {\n\t\tflex: 1;\n\t\theight: calc(100vh - 180rpx);\n\t\tbackground-color:transparent;\n\t}\n}\n</style>","import MiniProgramPage from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesChat/chat.vue'\nwx.createPage(MiniProgramPage)"],"names":["TabBar","ChatItem","LongPressMenu","Loading","_sfc_main","defineComponent","getChatStore","uni","error","mockChats","now","chatIdx","chat","mockChatService","e","item","message","nameMatch","contentMatch","MiniProgramPage"],"mappings":"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"}