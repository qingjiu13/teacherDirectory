{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <text class=\"title\">你的身份是：</text>\r\n\r\n    <view class=\"card\" @click=\"selectIdentity('student')\">\r\n      <view class=\"card-content\">\r\n        <image class=\"card-image\" src=\"/static/image/tab-bar/default_avatar.png\" mode=\"aspectFit\" />\r\n        <text class=\"card-text\">我是同学~</text>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"card\" @click=\"selectIdentity('teacher')\">\r\n      <view class=\"card-content\">\r\n        <image class=\"card-image\" src=\"/static/image/tab-bar/default_avatar.png\" mode=\"aspectFit\" />\r\n        <text class=\"card-text\">我是老师~</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\nimport { Navigator } from '../../router/Router';\r\nimport store from '../../store' \r\n\r\nexport default {\r\n  methods: {\r\n    /**\r\n     * 选择用户身份并更新到Vuex中\r\n     * @param {string} identity - 用户身份类型 ('student'或'teacher')\r\n     */\r\n    selectIdentity(identity) {\r\n      uni.__f__('log','at pages/login/login.vue:32',\"选中的身份是:\", identity);\r\n      \r\n      try {\r\n        // 直接使用导入的store实例调用mutation\r\n        // 传递英文的角色代码，让mutation内部处理角色名称转换\r\n        store.commit('user/baseInfo/updateRole', identity);\r\n        \r\n        // 导航到下一页\r\n        Navigator.toLoginDetail();\r\n      } catch (error) {\r\n        uni.__f__('error','at pages/login/login.vue:42','选择身份时出错:', error);\r\n        uni.showToast({\r\n          title: '系统错误，请重试',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding: 40rpx;\r\n}\r\n\r\n.title {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 60rpx;\r\n}\r\n\r\n.card {\r\n  border: 1px solid #ccc;\r\n  border-radius: 20rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 40rpx;\r\n  background-color: #fff;\r\n  box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.card-content {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.card-image {\r\n  width: 140rpx;\r\n  height: 140rpx;\r\n  background-color: #f0f0f0;\r\n  border-radius: 10rpx;\r\n  margin-right: 30rpx;\r\n}\r\n\r\n.card-text {\r\n  font-size: 32rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","store","Navigator"],"mappings":";;;;;AAwBA,MAAA,YAAeA,8BAAA;AAAA,EACb,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAKP,eAAe,WAAQ,MAAA;AACrBC,oBAAG,MAAC,MAAM,OAAM,+BAA8B,WAAW,QAAQ;AAEjE,UAAI;AAGFC,oBAAAA,MAAM,OAAO,4BAA4B,QAAQ;AAGjDC,sBAAS,UAAC,cAAa;AAAA,MACvB,SAAO,OAAO;AACdF,sBAAG,MAAC,MAAM,SAAQ,+BAA8B,YAAY,KAAK;AACjEA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAA;AAAA,MACH;AAAA,IACF;AAAA,EACF;CACF;;;;;;;;;;;AChDA,GAAG,WAAW,eAAe;"}