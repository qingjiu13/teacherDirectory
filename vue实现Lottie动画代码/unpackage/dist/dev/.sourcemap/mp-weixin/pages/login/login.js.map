{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\n    <view class=\"background-image\">\n      <image\n        src=\"/static/image/login/background1.png\"\n        mode=\"aspectFill\" alt=\"背景图\"\n      />\n    </view>\n    <view class=\"background-image\">\n      <image\n        src=\"/static/image/login/background.png\"\n        mode=\"aspectFill\" alt=\"背景图\"\n      />\n    </view>\n  <view class=\"container\">\n\n    <!-- 返回按钮 -->\n    <image\n      class=\"nav-back\"\n      src=\"/static/image/navBack.png\"\n      mode=\"aspectFit\"\n      @click=\"goBack\"\n    />\n    <text class=\"title\">您的身份是：</text>\n\n    <!-- 同学卡片上方的图片 -->\n    <image\n      class=\"student-image\"\n      src=\"/static/image/login/student.png\"\n      mode=\"aspectFit\"\n    />\n    <view class=\"card student-card\" @click=\"selectIdentity('student')\">\n      <view class=\"card-outer student-card-outer\">\n        <view class=\"card-outer-gradient student-card-outer-gradient\">\n          <view class=\"card-inner student-card-inner\">\n            <view class=\"card-content\">\n              <text class=\"card-text\">同学</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 老师卡片上方的图片 -->\n    <image\n      class=\"teacher-image\"\n      src=\"/static/image/login/teacher.png\"\n      mode=\"aspectFit\"\n    />\n    <view class=\"card teacher-card\" @click=\"selectIdentity('teacher')\">\n      <view class=\"card-outer teacher-card-outer\">\n        <view class=\"card-outer-gradient teacher-card-outer-gradient\">\n          <view class=\"card-inner teacher-card-inner\">\n            <view class=\"card-content\">\n              <text class=\"card-text\">老师</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nimport { Navigator } from '../../router/Router';\nimport store from '../../store' \n\nexport default {\n  methods: {\n    /**\n     * 选择用户身份并更新到Vuex中\n     * @param {string} identity - 用户身份类型 ('student'或'teacher')\n     */\n    selectIdentity(identity) {\n      uni.__f__('log','at pages/login/login.vue:74',\"选中的身份是:\", identity);\n      \n      try {\n        // 直接使用导入的store实例调用mutation\n        // 传递英文的角色代码，让mutation内部处理角色名称转换\n        store.commit('user/baseInfo/updateRole', identity);\n        \n        // 导航到下一页\n        Navigator.toLoginDetail();\n      } catch (error) {\n        uni.__f__('error','at pages/login/login.vue:84','选择身份时出错:', error);\n        uni.showToast({\n          title: '系统错误，请重试',\n          icon: 'none'\n        });\n      }\n    },\n    /**\n     * 返回到微信登录页面\n     * @returns {void}\n     */\n    goBack() {\n      Navigator.reLaunch('/pages/login/wechat_login');\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  position: relative;\n  padding: 40rpx;\n  min-height: 100vh;\n  height: 100vh;\n  background: transparent;\n  z-index: 1;\n}\n\n/* 返回按钮样式 */\n.nav-back {\n  position: absolute;\n  top: 134rpx;\n  left: 40rpx;\n  width: 72rpx;\n  height: 62rpx;\n  z-index: 100;\n}\n\n.title {\n  position: absolute;\n  width: 284rpx;\n  top: 248rpx;\n  left: 106rpx;\n  font-family: PingFang SC;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 28px;\n  z-index: 50;\n}\n\n.card {\n  position: absolute;\n  width: 648rpx;\n  height: 200rpx;\n  left: 50%;\n  transform: translateX(-50%);\n  background: transparent;\n  z-index: 10;\n}\n\n/* 外层：模拟边框 */\n.card-outer {\n  width: 100%;\n  height: 100%;\n  border-radius: 40rpx;\n  padding: 2rpx; /* 边框宽度 */\n  box-sizing: border-box;\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch;\n  background: transparent;\n}\n\n.card-outer-gradient {\n  width: 100%;\n  height: 100%;\n  border-radius: 40rpx;\n  padding: 2rpx;\n  box-sizing: border-box;\n  background: transparent;\n}\n\n/* 学生卡片外层渐变 */\n.student-card-outer-gradient {\n  background: linear-gradient(180deg, rgba(228, 241, 255, 1) 0%, rgba(34, 136, 249, 1) 100%);\n}\n\n/* 老师卡片外层渐变 */\n.teacher-card-outer-gradient {\n  background: linear-gradient(180deg, rgba(233, 234, 255, 1) 0%, rgba(95, 38, 247, 1) 100%);\n}\n\n.card-content {\n  position: absolute;\n  top: 110rpx;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n}\n\n.card-text {\n  font-family: PingFang SC, sans-serif;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 35px;\n  letter-spacing: 2px;\n  color: #2F2F2F;\n  text-align: center;\n  width: 100%;\n}\n\n/**\n * \"我是同学~\"按钮样式\n */\n.student-card {\n  position: absolute;\n  width: 648rpx;\n  height: 200rpx;\n  left: 50%;\n  top: 560rpx;\n  transform: translateX(-50%);\n  background: transparent;\n}\n\n/**\n * \"我是老师~\"按钮样式\n */\n.teacher-card {\n  position: absolute;\n  width: 648rpx;\n  height: 200rpx;\n  left: 50%;\n  top: 1090rpx;\n  transform: translateX(-50%);\n  background: transparent;\n}\n\n/* 内层：内容区 */\n.card-inner {\n  width: 100%;\n  height: 100%;\n  border-radius: 40rpx;\n  background: #fff;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  position: relative;\n}\n\n/* 学生卡内容渐变遮罩 */\n.student-card-inner::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 40rpx;\n  pointer-events: none;\n  background: linear-gradient(180deg, rgba(194, 221, 250, 0.2) 11.54%, rgba(34, 136, 249, 0.2) 111.54%);\n  z-index: 1;\n}\n\n/* 老师卡内容渐变遮罩 */\n.teacher-card-inner::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 40rpx;\n  pointer-events: none;\n  background: linear-gradient(180deg, rgba(224, 212, 255, 0.2) 11.54%, rgba(95, 38, 247, 0.2) 111.54%);\n  z-index: 1;\n}\n\n/**\n * 同学图片，距离同学按钮上方40rpx\n */\n.student-image {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 972rpx;\n  height: 300rpx;\n  z-index: 20;\n  pointer-events: none;\n  top: 370rpx; /* 684rpx - 150rpx - 40rpx */\n}\n\n/**\n * 老师图片，距离老师按钮上方40rpx\n */\n.teacher-image {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 972rpx;\n  height: 375rpx;\n  z-index: 20;\n  pointer-events: none;\n  top: 800rpx; /* 1020rpx - 220rpx */\n}\n\n.background-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n  pointer-events: none;\n}\n</style>\n\n<style>\n/**\n * 保证背景图全屏显示\n */\nhtml, body, #app, .container {\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n/* 只保留一份背景图样式，建议用 fixed */\n.background-image {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n  pointer-events: none; /* 保证背景图不影响交互 */\n}\n</style>\n","import MiniProgramPage from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","store","Navigator"],"mappings":";;;;;AAkEA,MAAA,YAAeA,8BAAA;AAAA,EACb,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAKP,eAAe,WAAQ,MAAA;AACrBC,oBAAG,MAAC,MAAM,OAAM,+BAA8B,WAAW,QAAQ;AAEjE,UAAI;AAGFC,oBAAAA,MAAM,OAAO,4BAA4B,QAAQ;AAGjDC,sBAAS,UAAC,cAAa;AAAA,MACvB,SAAO,OAAO;AACdF,sBAAG,MAAC,MAAM,SAAQ,+BAA8B,YAAY,KAAK;AACjEA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAA;AAAA,MACH;AAAA,IACD;AAAA;AAAA;AAAA;AAAA;AAAA,IAKD,SAAM;AACJE,8BAAU,SAAS,2BAA2B;AAAA,IAChD;AAAA,EACF;CACF;;;;;;;;;;;;;;ACjGA,GAAG,WAAW,eAAe;"}