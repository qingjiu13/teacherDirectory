<<<<<<< HEAD
{"version":3,"file":"order.js","sources":["pages/mine/order.vue","../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9vcmRlci52dWU"],"sourcesContent":["<template>\r\n  <view class=\"order-container\">\r\n    <!-- 水平Tab栏 -->\r\n    <scroll-view \r\n      class=\"tab-bar\" \r\n      scroll-x \r\n      :scroll-into-view=\"'tab-' + currentTab\"\r\n      :scroll-with-animation=\"true\"\r\n    >\r\n      <view \r\n        v-for=\"(tab, index) in tabs\" \r\n        :key=\"index\"\r\n        :id=\"'tab-' + index\"\r\n        class=\"tab-item\"\r\n        :class=\"{ active: currentTab === index }\"\r\n        @click=\"switchTab(index)\"\r\n      >\r\n        {{ tab.name }}\r\n      </view>\r\n    </scroll-view>\r\n\r\n    <!-- 订单列表 -->\r\n    <scroll-view \r\n      class=\"order-list\"\r\n      scroll-y\r\n      @scrolltolower=\"loadMore\"\r\n    >\r\n      <view \r\n        v-for=\"(order, index) in orderList\" \r\n        :key=\"index\"\r\n        class=\"order-item\"\r\n      >\r\n        <view class=\"order-header\">\r\n          <text class=\"order-id\">订单号：{{ order.orderId }}</text>\r\n          <text class=\"order-status\">{{ order.status }}</text>\r\n        </view>\r\n        \r\n        <view class=\"order-content\">\r\n          <image \r\n            class=\"order-image\" \r\n            :src=\"order.image\" \r\n            mode=\"aspectFill\"\r\n          ></image>\r\n          <view class=\"order-info\">\r\n            <text class=\"order-title\">{{ order.title }}</text>\r\n            <text class=\"order-price\">¥{{ order.price }}</text>\r\n            <text class=\"order-time\">{{ order.createTime }}</text>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"order-footer\">\r\n          <button \r\n            v-if=\"order.status === '待支付'\"\r\n            class=\"pay-btn\"\r\n            @click=\"handlePay(order)\"\r\n          >立即支付</button>\r\n          <button \r\n            v-if=\"order.status === '已完成'\"\r\n            class=\"review-btn\"\r\n            @click=\"handleReview(order)\"\r\n          >评价</button>\r\n          <button \r\n            v-if=\"order.status === '待支付'\"\r\n            class=\"cancel-btn\"\r\n            @click=\"handleCancel(order)\"\r\n          >取消订单</button>\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n// 导入路由管理器\r\nimport { Navigator, MineRoutes } from '@/router/Router.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tabs: [\r\n        { name: '待支付', status: 'pending' },\r\n        { name: '已完成', status: 'completed' },\r\n        { name: '已取消', status: 'cancelled' }\r\n      ],\r\n      currentTab: 0,\r\n      orderList: [],\r\n      page: 1,\r\n      pageSize: 10\r\n    }\r\n  },\r\n  \r\n  onLoad() {\r\n    this.loadOrders();\r\n  },\r\n  \r\n  methods: {\r\n    // 切换Tab\r\n    switchTab(index) {\r\n      this.currentTab = index;\r\n      this.page = 1;\r\n      this.orderList = [];\r\n      this.loadOrders();\r\n    },\r\n    \r\n    // 加载订单列表\r\n    loadOrders() {\r\n      // 模拟数据\r\n      const mockOrders = this.generateMockOrders();\r\n      this.orderList = [...this.orderList, ...mockOrders];\r\n    },\r\n    \r\n    // 加载更多\r\n    loadMore() {\r\n      this.page++;\r\n      this.loadOrders();\r\n    },\r\n    \r\n    // 生成模拟订单数据\r\n    generateMockOrders() {\r\n      const statusMap = {\r\n        0: '待支付',\r\n        1: '已完成',\r\n        2: '已取消'\r\n      };\r\n      \r\n      const orders = [];\r\n      for (let i = 0; i < this.pageSize; i++) {\r\n        orders.push({\r\n          orderId: `ORDER${Date.now()}${i}`,\r\n          title: `课程${i + 1}`,\r\n          price: (Math.random() * 1000).toFixed(2),\r\n          image: '/static/image/default_course.png',\r\n          createTime: new Date().toLocaleString(),\r\n          status: statusMap[this.currentTab]\r\n        });\r\n      }\r\n      return orders;\r\n    },\r\n    \r\n    // 处理支付\r\n    handlePay(order) {\r\n      uni.showModal({\r\n        title: '确认支付',\r\n        content: `是否确认支付订单 ${order.orderId}？`,\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            uni.showLoading({\r\n              title: '支付中...'\r\n            });\r\n            // 模拟支付过程\r\n            setTimeout(() => {\r\n              uni.hideLoading();\r\n              uni.showToast({\r\n                title: '支付成功',\r\n                icon: 'success'\r\n              });\r\n              this.loadOrders();\r\n            }, 1500);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    \r\n    // 处理评价\r\n    handleReview(order) {\r\n      Navigator.toAppraise(order.orderId);\r\n    },\r\n    \r\n    // 处理取消\r\n    handleCancel(order) {\r\n      uni.showModal({\r\n        title: '确认取消',\r\n        content: `是否确认取消订单 ${order.orderId}？`,\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            uni.showLoading({\r\n              title: '处理中...'\r\n            });\r\n            // 模拟取消过程\r\n            setTimeout(() => {\r\n              uni.hideLoading();\r\n              uni.showToast({\r\n                title: '已取消',\r\n                icon: 'success'\r\n              });\r\n              this.loadOrders();\r\n            }, 1000);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.order-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.tab-bar {\r\n  display: flex;\r\n  flex-direction: row;\r\n  background-color: #ffffff;\r\n  padding: 20rpx 0;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n}\r\n\r\n.tab-item {\r\n  display: inline-block;\r\n  padding: 0 30rpx;\r\n  text-align: center;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  position: relative;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.tab-item.active {\r\n  color: #007AFF;\r\n  font-weight: bold;\r\n}\r\n\r\n.tab-item.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -20rpx;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 40rpx;\r\n  height: 4rpx;\r\n  background-color: #007AFF;\r\n}\r\n\r\n.order-list {\r\n  flex: 1;\r\n  padding: 20rpx;\r\n}\r\n\r\n.order-item {\r\n  background-color: #ffffff;\r\n  border-radius: 12rpx;\r\n  margin-bottom: 20rpx;\r\n  padding: 20rpx;\r\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.order-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.order-id {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.order-status {\r\n  font-size: 24rpx;\r\n  color: #007AFF;\r\n}\r\n\r\n.order-content {\r\n  display: flex;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.order-image {\r\n  width: 160rpx;\r\n  height: 160rpx;\r\n  border-radius: 8rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.order-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n.order-title {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.order-price {\r\n  font-size: 32rpx;\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.order-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.order-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 20rpx;\r\n}\r\n\r\n.pay-btn,\r\n.review-btn,\r\n.cancel-btn {\r\n  padding: 10rpx 30rpx;\r\n  font-size: 24rpx;\r\n  border-radius: 30rpx;\r\n}\r\n\r\n.pay-btn {\r\n  background-color: #007AFF;\r\n  color: #ffffff;\r\n}\r\n\r\n.review-btn {\r\n  background-color: #ffffff;\r\n  color: #007AFF;\r\n  border: 1rpx solid #007AFF;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #ffffff;\r\n  color: #999;\r\n  border: 1rpx solid #999;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/github/teacherDirectory/vue实现Lottie动画代码/pages/mine/order.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","Navigator"],"mappings":";;;AA4EA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,IAAA,cAAA,EAAE,MAAM,OAAO,QAAQ,UAAQ,CAAG;AAAA,QAClC,IAAA,cAAA,EAAE,MAAM,OAAO,QAAQ,aAAa;AAAA,QACpC,IAAA,cAAA,EAAE,MAAM,OAAO,QAAQ,YAAY,CAAA;AAAA,MACpC;AAAA,MACD,YAAY;AAAA,MACZ,WAAW,CAAE;AAAA,MACb,MAAM;AAAA,MACN,UAAU;AAAA;EAEb;AAAA,EAED,SAAM;AACJ,SAAK,WAAU;AAAA,EAChB;AAAA,EAED,SAAS;AAAA;AAAA,IAEP,UAAU,QAAK,MAAA;AACb,WAAK,aAAa;AAClB,WAAK,OAAO;AACZ,WAAK,YAAY;AACjB,WAAK,WAAU;AAAA,IAChB;AAAA;AAAA,IAGD,aAAU;AAER,YAAM,aAAa,KAAK;AACxB,WAAK,YAAY,CAAC,GAAG,KAAK,WAAW,GAAG,UAAU;AAAA,IACnD;AAAA;AAAA,IAGD,WAAQ;AACN,WAAK;AACL,WAAK,WAAU;AAAA,IAChB;AAAA;AAAA,IAGD,qBAAkB;AAChB,YAAM,YAAY,IAAA,cAAA;AAAA,QAChB,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MACJ,CAAA;AAED,YAAM,SAAS,CAAA;AACf,eAAS,IAAI,GAAG,IAAI,KAAK,UAAU,KAAK;AACtC,eAAO,KAAK;AAAA,UACV,SAAS,QAAQ,KAAK,IAAK,CAAA,GAAG,CAAC;AAAA,UAC/B,OAAO,KAAK,IAAI,CAAC;AAAA,UACjB,QAAQ,KAAK,OAAO,IAAI,KAAM,QAAQ,CAAC;AAAA,UACvC,OAAO;AAAA,UACP,aAAY,oBAAI,KAAM,GAAC,eAAgB;AAAA,UACvC,QAAQ,UAAU,KAAK,UAAU;AAAA,QAClC,CAAA;AAAA,MACH;AACA,aAAO;AAAA,IACR;AAAA;AAAA,IAGD,UAAU,QAAK,MAAA;AACbC,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS,YAAY,MAAM,OAAO;AAAA,QAClC,SAAS,CAAC,QAAG;AACX,cAAI,IAAI,SAAS;AACfA,0BAAAA,MAAI,YAAY;AAAA,cACd,OAAO;AAAA,YACR,CAAA;AAED,uBAAW,MAAA;AACTA,4BAAG,MAAC,YAAW;AACfA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cACP,CAAA;AACD,mBAAK,WAAU;AAAA,YAChB,GAAE,IAAI;AAAA,UACT;AAAA,QACF;AAAA,MACD,CAAA;AAAA,IACF;AAAA;AAAA,IAGD,aAAa,QAAK,MAAA;AAChBC,oBAAAA,UAAU,WAAW,MAAM,OAAO;AAAA,IACnC;AAAA;AAAA,IAGD,aAAa,QAAK,MAAA;AAChBD,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS,YAAY,MAAM,OAAO;AAAA,QAClC,SAAS,CAAC,QAAG;AACX,cAAI,IAAI,SAAS;AACfA,0BAAAA,MAAI,YAAY;AAAA,cACd,OAAO;AAAA,YACR,CAAA;AAED,uBAAW,MAAA;AACTA,4BAAG,MAAC,YAAW;AACfA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cACP,CAAA;AACD,mBAAK,WAAU;AAAA,YAChB,GAAE,GAAI;AAAA,UACT;AAAA,QACF;AAAA,MACD,CAAA;AAAA,IACH;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/LA,GAAG,WAAW,eAAe;"}
=======
{"version":3,"file":"order.js","sources":["../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9vcmRlci52dWU"],"sourcesContent":["import MiniProgramPage from 'E:/yanshilu重新来过/vue实现Lottie动画代码/pages/mine/order.vue'\nwx.createPage(MiniProgramPage)"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,GAAG,WAAW,eAAe;"}
>>>>>>> a2bf9657a39810a133593f8de99b785a81f8875d
