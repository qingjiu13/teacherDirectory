{"version":3,"file":"mine_common.js","sources":["pages/mine/mine/mine_common.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9taW5lL21pbmVfY29tbW9uLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- 用户信息区 -->\r\n    <view class=\"user-info\">\r\n      <view class=\"user-info-row\">\r\n        <image class=\"avatar\" :src=\"userData.avatar || storeAvatar || '/static/image/tab-bar/default_avatar.png'\" mode=\"aspectFill\" @click=\"handleClick\"></image>\r\n        <view class=\"user-info-content\">\r\n          <view class=\"nickname-row\">\r\n            <text class=\"login-text\" @click=\"handleClick\">{{ userData.name || storeName || '登录' }}</text>\r\n          </view>\r\n          <!-- 是否认证 -->\r\n          <view class=\"certification-row\" v-if=\"storeRole === '老师'\">\r\n            <text class=\"tag\">{{ storeCertificate === 1 ? '已认证' : '未认证' }}</text>\r\n            <text class=\"tag\" v-if=\"storeCampusAmbassador\">{{'校园大使'}}</text>\r\n          </view>\r\n          <!--学校专业-->\r\n          <view class=\"school-major-row\">\r\n            <view v-if=\"storeSchool\">\r\n              <text class=\"tag\">{{ storeSchool }}</text>\r\n            </view>\r\n            <view v-if=\"storeMajor\">\r\n              <text class=\"tag\">{{ storeMajor }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 菜单列表 -->\r\n    <view class=\"menu-list\">\r\n      <!-- 老师特有功能菜单 -->\r\n      <view v-if=\"storeRole === '老师'\" class=\"menu-item\" @click=\"toService\">\r\n        <view class=\"icon-circle info\">\r\n          <text class=\"icon-text\">⏱</text>\r\n        </view>\r\n        <text class=\"menu-text\">我的服务</text>\r\n      </view>\r\n      \r\n      <!-- 共有菜单项：我的订单 -->\r\n      <view class=\"menu-item\" @click=\"toOrderCommon\">\r\n        <view class=\"icon-circle success\">\r\n          <text class=\"icon-text\">✓</text>\r\n        </view>\r\n        <text class=\"menu-text\">我的订单</text>\r\n      </view>\r\n      \r\n      <!-- 共有菜单项：我的课程 -->\r\n      <view class=\"menu-item\" @click=\"toCourse\">\r\n        <view class=\"icon-circle info\">\r\n          <text class=\"icon-text\">📚</text>\r\n        </view>\r\n        <text class=\"menu-text\">我的课程</text>\r\n      </view>\r\n      \r\n      <!-- 老师特有菜单项：资质认证 -->\r\n      <view v-if=\"storeRole === '老师'\" class=\"menu-item\" @click=\"toQualification\">\r\n        <view class=\"icon-circle info\">\r\n          <text class=\"icon-text\">📃</text>\r\n        </view>\r\n        <text class=\"menu-text\">资质认证</text>\r\n      </view>\r\n      \r\n      <!-- 老师特有菜单项：我的钱包 -->\r\n      <view v-if=\"storeRole === '老师'\" class=\"menu-item\" @click=\"toWallet\">\r\n        <view class=\"icon-circle warning\">\r\n          <text class=\"icon-text\">💰</text>\r\n        </view>\r\n        <text class=\"menu-text\">我的钱包</text>\r\n      </view>\r\n      \r\n      <!-- 共有菜单项：关注公众号 -->\r\n      <view class=\"menu-item\" @click=\"toSubscribe\">\r\n        <view class=\"icon-circle info\">\r\n          <text class=\"icon-text\">📢</text>\r\n        </view>\r\n        <text class=\"menu-text\">关注公众号</text>\r\n      </view>\r\n      \r\n      <!-- 共有菜单项：设置 -->\r\n      <view class=\"menu-item\" @click=\"toSettings\">\r\n        <view class=\"icon-circle info\">\r\n          <text class=\"icon-text\">⚙️</text>\r\n        </view>\r\n        <text class=\"menu-text\">设置</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 添加自定义底部导航栏 -->\r\n    <TabBar pageName=\"mine\" />\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n/**\r\n * @description 我的页面（通用）\r\n */\r\nimport { Navigator} from '@/router/Router.js';\r\nimport TabBar from '../../../components/tab-bar/tab-bar.vue';\r\nimport store from '@/store/index.js';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  components: {\r\n    TabBar\r\n  },\r\n  data() {\r\n    return {\r\n      userData: {},\r\n      isLoggedIn: store.getters['user/baseInfo/id'] !== '',\r\n      isLoading: false,\r\n      isDebug: true  // 显示调试信息\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    // 直接使用mapState获取state中的数据\r\n    ...mapState('user/baseInfo', {\r\n      storeId: state => state.id,\r\n      storeAvatar: state => state.avatar,\r\n      storeName: state => state.name,\r\n      storeGender: state => state.gender,\r\n      storeRole: state => state.userInfo?.role || '学生',\r\n      storeCertificate: state => state.certificate,\r\n      storeSchool: state => state.userInfo?.school || '',\r\n      storeMajor: state => state.userInfo?.major || '',\r\n      storeCampusAmbassador: state => state.campusAmbassador\r\n    })\r\n  },\r\n  \r\n  async onLoad() {\r\n    uni.__f__('log','at pages/mine/mine/mine_common.vue:131','mine_common.vue onLoad开始执行');\r\n    try {\r\n      // 确保Vuex store已经初始化并注入到Vue实例中\r\n      await this.$nextTick();\r\n      \r\n      // 直接从store获取数据\r\n      this.initFromStore();\r\n      \r\n      // 加载数据\r\n      await this.loadUserData();\r\n      \r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:142','mine_common.vue onLoad执行完成，userData:', JSON.stringify(this.userData));\r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:143','store中的name值:', this.storeName);\r\n    } catch (error) {\r\n      uni.__f__('error','at pages/mine/mine/mine_common.vue:145','onLoad错误:', error);\r\n    }\r\n  },\r\n  \r\n  async onShow() {\r\n    uni.__f__('log','at pages/mine/mine/mine_common.vue:150','mine_common.vue onShow开始执行');\r\n    try {\r\n      // 确保Vuex store已经初始化\r\n      await this.$nextTick();\r\n      \r\n      // 检查store中是否有数据\r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:156','onShow检查store数据:', {\r\n        storeName: this.storeName,\r\n        storeAvatar: this.storeAvatar\r\n      });\r\n      \r\n      // 从store初始化\r\n      this.initFromStore();\r\n      \r\n      // 获取角色\r\n      const storedUserRole = uni.getStorageSync('userRole');\r\n      if (storedUserRole) {\r\n        await this.updateUserRole(storedUserRole);\r\n      }\r\n      \r\n      // 检查是否需要加载数据\r\n      if (!this.userData.name && !this.storeName) {\r\n        uni.__f__('log','at pages/mine/mine/mine_common.vue:172','用户数据为空，尝试重新加载');\r\n        await this.loadUserData();\r\n      }\r\n      \r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:176','mine_common.vue onShow执行完成，userData:', JSON.stringify(this.userData));\r\n    } catch (error) {\r\n      uni.__f__('error','at pages/mine/mine/mine_common.vue:178','onShow错误:', error);\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    /**\r\n     * @description 从store初始化数据\r\n     */\r\n    initFromStore() {\r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:187','initFromStore - 从store直接获取数据');\r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:188','store中的数据:', {\r\n        id: this.storeId,\r\n        name: this.storeName,\r\n        avatar: this.storeAvatar,\r\n        role: this.storeRole\r\n      });\r\n      \r\n      // 如果store有数据，直接使用\r\n      if (this.storeName) {\r\n        this.userData = {\r\n          id: this.storeId,\r\n          avatar: this.storeAvatar,\r\n          name: this.storeName,\r\n          gender: this.storeGender\r\n        };\r\n        this.isLoggedIn = true;\r\n        uni.__f__('log','at pages/mine/mine/mine_common.vue:204','从store初始化userData成功:', this.userData);\r\n      } else {\r\n        uni.__f__('log','at pages/mine/mine/mine_common.vue:206','store中没有用户数据');\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 更新用户角色\r\n     * @param {string} role - 用户角色\r\n     */\r\n    async updateUserRole(role) {\r\n      try {\r\n        uni.__f__('log','at pages/mine/mine/mine_common.vue:216','更新用户角色:', role);\r\n        // 直接使用store.dispatch\r\n        if (this.$store) {\r\n          await this.$store.dispatch('user/baseInfo/updateRole', role);\r\n          uni.__f__('log','at pages/mine/mine/mine_common.vue:220','角色更新成功, 新角色:', this.storeRole);\r\n        } else {\r\n          uni.__f__('warn','at pages/mine/mine/mine_common.vue:222','$store不可用，直接使用本地存储');\r\n          uni.setStorageSync('userRole', role);\r\n        }\r\n      } catch (error) {\r\n        uni.__f__('error','at pages/mine/mine/mine_common.vue:226','更新用户角色失败', error);\r\n        // 本地存储作为备份\r\n        uni.setStorageSync('userRole', role);\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 加载用户数据\r\n     */\r\n    async loadUserData() {\r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:236','loadUserData 开始执行');\r\n      this.isLoading = true;\r\n      \r\n      try {\r\n        if (this.$store) {\r\n          uni.__f__('log','at pages/mine/mine/mine_common.vue:241','使用Vuex获取用户数据');\r\n          // 直接使用store.dispatch\r\n          const result = await this.$store.dispatch('user/baseInfo/getUserInfo');\r\n          \r\n          uni.__f__('log','at pages/mine/mine/mine_common.vue:245','getUserInfo返回结果:', result);\r\n          \r\n          // 检查store中的数据是否更新\r\n          uni.__f__('log','at pages/mine/mine/mine_common.vue:248','store中的数据是否更新:', {\r\n            storeName: this.storeName\r\n          });\r\n          \r\n          // 无论API返回什么，都再次从store初始化\r\n          this.initFromStore();\r\n          \r\n          // 如果store仍然没有数据，使用API返回的结果\r\n          if (!this.userData.name && result) {\r\n            uni.__f__('log','at pages/mine/mine/mine_common.vue:257','使用API返回的结果更新userData');\r\n            this.userData = {\r\n              id: result.id || '',\r\n              avatar: result.avatar || '',\r\n              name: result.name || result.nickname || '',\r\n              gender: result.gender || ''\r\n            };\r\n            this.isLoggedIn = !!this.userData.name;\r\n            \r\n            // 备份到本地存储\r\n            uni.setStorageSync('userData', JSON.stringify(this.userData));\r\n            uni.__f__('log','at pages/mine/mine/mine_common.vue:268','更新userData成功:', this.userData);\r\n          } else if (!this.userData.name) {\r\n            uni.__f__('log','at pages/mine/mine/mine_common.vue:270','尝试从本地存储恢复数据');\r\n            this.recoverFromLocalStorage();\r\n          }\r\n        } else {\r\n          uni.__f__('warn','at pages/mine/mine/mine_common.vue:274','$store不可用，从本地存储加载');\r\n          this.recoverFromLocalStorage();\r\n        }\r\n      } catch (error) {\r\n        uni.__f__('error','at pages/mine/mine/mine_common.vue:278','加载用户数据失败', error);\r\n        this.recoverFromLocalStorage();\r\n      } finally {\r\n        this.isLoading = false;\r\n        uni.__f__('log','at pages/mine/mine/mine_common.vue:282','loadUserData 执行完成, userData:', this.userData);\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 从本地存储恢复数据\r\n     */\r\n    recoverFromLocalStorage() {\r\n      uni.__f__('log','at pages/mine/mine/mine_common.vue:290','从本地存储恢复数据');\r\n      const localUserData = uni.getStorageSync('userData');\r\n      if (localUserData) {\r\n        try {\r\n          const parsedData = JSON.parse(localUserData);\r\n          this.userData = {\r\n            id: parsedData.id || '',\r\n            avatar: parsedData.avatar || '',\r\n            name: parsedData.name || '',\r\n            gender: parsedData.gender || ''\r\n          };\r\n          this.isLoggedIn = !!this.userData.name;\r\n          uni.__f__('log','at pages/mine/mine/mine_common.vue:302','从userData恢复成功:', this.userData);\r\n        } catch (e) {\r\n          uni.__f__('error','at pages/mine/mine/mine_common.vue:304','解析本地用户数据失败', e);\r\n        }\r\n      }\r\n      \r\n      // 如果本地存储没有数据，尝试从userBaseInfo恢复\r\n      if (!this.userData.name) {\r\n        const baseInfo = uni.getStorageSync('userBaseInfo');\r\n        if (baseInfo) {\r\n          try {\r\n            const parsedInfo = JSON.parse(baseInfo);\r\n            this.userData = { \r\n              id: parsedInfo.id || '',\r\n              avatar: parsedInfo.avatar || '',\r\n              name: parsedInfo.name || '',\r\n              gender: parsedInfo.gender || ''\r\n            };\r\n            this.isLoggedIn = !!this.userData.name;\r\n            uni.__f__('log','at pages/mine/mine/mine_common.vue:321','从userBaseInfo恢复成功:', this.userData);\r\n          } catch (e) {\r\n            uni.__f__('error','at pages/mine/mine/mine_common.vue:323','解析userBaseInfo失败', e);\r\n          }\r\n        } else {\r\n          uni.__f__('log','at pages/mine/mine/mine_common.vue:326','本地存储中没有用户数据');\r\n        }\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 处理头像点击\r\n     */\r\n    handleClick() {\r\n      if (this.isLoggedIn) {\r\n        Navigator.toModify();\r\n      } else {\r\n        // 未登录时导航到登录页\r\n        Navigator.toWechatLogin();\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 页面跳转方法\r\n     * @param {string} url - 目标页面路径\r\n     */\r\n    navigateTo(url) {\r\n      Navigator.navigateTo(url);\r\n    },\r\n    \r\n    /**\r\n     * @description 跳转到订单列表页面\r\n     */\r\n    toOrderCommon() {\r\n      Navigator.toOrderCommon();\r\n    },\r\n    \r\n    /**\r\n     * @description 跳转到课程列表页面\r\n     */\r\n    toCourse() {\r\n      Navigator.toCourse();\r\n    },\r\n    \r\n    /**\r\n     * @description 跳转到资质认证页面\r\n     */\r\n    toQualification() {\r\n      Navigator.toQualification();\r\n    },\r\n    \r\n    /**\r\n     * @description 跳转到钱包页面\r\n     */\r\n    toWallet() {\r\n      Navigator.toWallet();\r\n    },\r\n    \r\n    /**\r\n     * @description 跳转到设置页面\r\n     */\r\n    toSettings() {\r\n      Navigator.toSettings();\r\n    },\r\n    \r\n    /**\r\n     * @description 跳转到关注公众号页面\r\n     */\r\n    toSubscribe() {\r\n      Navigator.toSubscribe();\r\n    },\r\n    toService() {\r\n      Navigator.toService();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100%;\r\n  padding-bottom: 55px; /* 为自定义tabBar留出空间 */\r\n  background-color: #ffffff;\r\n}\r\n\r\n/* 用户信息区样式 */\r\n.user-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 30rpx;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.user-info-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.avatar {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  border-radius: 50%;\r\n  margin-right: 20rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-info-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.nickname-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.login-text {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n/* 调试信息 */\r\n.debug-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10rpx;\r\n  border: 1px dashed #ccc;\r\n  padding: 5rpx;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.debug-text {\r\n  color: #666;\r\n  margin-bottom: 4rpx;\r\n}\r\n\r\n/* 修改个人信息链接样式 */\r\n.edit-profile-link {\r\n  font-size: 28rpx;\r\n  color: #2196F3;\r\n  text-decoration: underline;\r\n  margin-bottom: 15rpx;\r\n}\r\n\r\n/* 菜单列表 */\r\n.menu-list {\r\n  width: 100%;\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  padding: 30rpx 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.icon-circle {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 0 30rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.success {\r\n  background-color: rgba(76, 175, 80, 0.1);\r\n}\r\n\r\n.warning {\r\n  background-color: rgba(255, 82, 82, 0.1);\r\n}\r\n\r\n.info {\r\n  background-color: rgba(33, 150, 243, 0.1);\r\n}\r\n\r\n.icon-text {\r\n  font-size: 30rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.success .icon-text {\r\n  color: #4CAF50;\r\n}\r\n\r\n.warning .icon-text {\r\n  color: #FF5252;\r\n}\r\n\r\n.info .icon-text {\r\n  color: #2196F3;\r\n}\r\n\r\n.menu-text {\r\n  font-size: 30rpx;\r\n  color: #333;\r\n  text-align: left;\r\n}\r\n.certification-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n.tag {\r\n  font-size: 12px;\r\n  color: #1E90FF;\r\n  background-color: rgba(30, 144, 255, 0.1);\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  margin-right: 8px;\r\n  margin-bottom: 8px;\r\n  /* 新增以下属性 */\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  white-space: nowrap;\r\n  width: fit-content;\r\n  /* 或者可以使用 min-width: fit-content; */\r\n}\r\n\r\n.school-major-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  gap: 8px; /* 标签之间的间距 */\r\n}\r\n</style>","import MiniProgramPage from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pages/mine/mine/mine_common.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","store","mapState","uni","Navigator"],"mappings":"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"}