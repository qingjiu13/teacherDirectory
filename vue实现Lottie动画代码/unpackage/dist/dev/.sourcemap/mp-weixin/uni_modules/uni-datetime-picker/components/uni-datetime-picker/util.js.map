{"version":3,"file":"util.js","sources":["uni_modules/uni-datetime-picker/components/uni-datetime-picker/util.js"],"sourcesContent":["class Calendar {\r\n\tconstructor({\r\n\t\tselected,\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t\trange,\r\n\t} = {}) {\r\n\t\t// 当前日期\r\n\t\tthis.date = this.getDateObj(new Date()) // 当前初入日期\r\n\t\t// 打点信息\r\n\t\tthis.selected = selected || [];\r\n\t\t// 起始时间\r\n\t\tthis.startDate = startDate\r\n\t\t// 终止时间\r\n\t\tthis.endDate = endDate\r\n\t\t// 是否范围选择\r\n\t\tthis.range = range\r\n\t\t// 多选状态\r\n\t\tthis.cleanMultipleStatus()\r\n\t\t// 每周日期\r\n\t\tthis.weeks = {}\r\n\t\tthis.lastHover = false\r\n\t}\r\n\t/**\r\n\t * 设置日期\r\n\t * @param {Object} date\r\n\t */\r\n\tsetDate(date) {\r\n\t\tconst selectDate = this.getDateObj(date)\r\n\t\tthis.getWeeks(selectDate.fullDate)\r\n\t}\r\n\r\n\t/**\r\n\t * 清理多选状态\r\n\t */\r\n\tcleanMultipleStatus() {\r\n\t\tthis.multipleStatus = {\r\n\t\t\tbefore: '',\r\n\t\t\tafter: '',\r\n\t\t\tdata: []\r\n\t\t}\r\n\t}\r\n\r\n\tsetStartDate(startDate) {\r\n\t\tthis.startDate = startDate\r\n\t}\r\n\r\n\tsetEndDate(endDate) {\r\n\t\tthis.endDate = endDate\r\n\t}\r\n\r\n\tgetPreMonthObj(date) {\r\n\t\tdate = fixIosDateFormat(date)\r\n\t\tdate = new Date(date)\r\n\r\n\t\tconst oldMonth = date.getMonth()\r\n\t\tdate.setMonth(oldMonth - 1)\r\n\t\tconst newMonth = date.getMonth()\r\n\t\tif (oldMonth !== 0 && newMonth - oldMonth === 0) {\r\n\t\t\tdate.setMonth(newMonth - 1)\r\n\t\t}\r\n\t\treturn this.getDateObj(date)\r\n\t}\r\n\tgetNextMonthObj(date) {\r\n\t\tdate = fixIosDateFormat(date)\r\n\t\tdate = new Date(date)\r\n\r\n\t\tconst oldMonth = date.getMonth()\r\n\t\tdate.setMonth(oldMonth + 1)\r\n\t\tconst newMonth = date.getMonth()\r\n\t\tif (newMonth - oldMonth > 1) {\r\n\t\t\tdate.setMonth(newMonth - 1)\r\n\t\t}\r\n\t\treturn this.getDateObj(date)\r\n\t}\r\n\r\n\t/**\r\n\t * 获取指定格式Date对象\r\n\t */\r\n\tgetDateObj(date) {\r\n\t\tdate = fixIosDateFormat(date)\r\n\t\tdate = new Date(date)\r\n\r\n\t\treturn {\r\n\t\t\tfullDate: getDate(date),\r\n\t\t\tyear: date.getFullYear(),\r\n\t\t\tmonth: addZero(date.getMonth() + 1),\r\n\t\t\tdate: addZero(date.getDate()),\r\n\t\t\tday: date.getDay()\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 获取上一个月日期集合\r\n\t */\r\n\tgetPreMonthDays(amount, dateObj) {\r\n\t\tconst result = []\r\n\t\tfor (let i = amount - 1; i >= 0; i--) {\r\n\t\t\tconst month = dateObj.month - 1\r\n\t\t\tresult.push({\r\n\t\t\t\tdate: new Date(dateObj.year, month, -i).getDate(),\r\n\t\t\t\tmonth,\r\n\t\t\t\tdisable: true\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n\t/**\r\n\t * 获取本月日期集合\r\n\t */\r\n\tgetCurrentMonthDays(amount, dateObj) {\r\n\t\tconst result = []\r\n\t\tconst fullDate = this.date.fullDate\r\n\t\tfor (let i = 1; i <= amount; i++) {\r\n\t\t\tconst currentDate = `${dateObj.year}-${dateObj.month}-${addZero(i)}`\r\n\t\t\tconst isToday = fullDate === currentDate\r\n\t\t\t// 获取打点信息\r\n\t\t\tconst info = this.selected && this.selected.find((item) => {\r\n\t\t\t\tif (this.dateEqual(currentDate, item.date)) {\r\n\t\t\t\t\treturn item\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// 日期禁用\r\n\t\t\tlet disableBefore = true\r\n\t\t\tlet disableAfter = true\r\n\t\t\tif (this.startDate) {\r\n\t\t\t\tdisableBefore = dateCompare(this.startDate, currentDate)\r\n\t\t\t}\r\n\r\n\t\t\tif (this.endDate) {\r\n\t\t\t\tdisableAfter = dateCompare(currentDate, this.endDate)\r\n\t\t\t}\r\n\r\n\t\t\tlet multiples = this.multipleStatus.data\r\n\t\t\tlet multiplesStatus = -1\r\n\t\t\tif (this.range && multiples) {\r\n\t\t\t\tmultiplesStatus = multiples.findIndex((item) => {\r\n\t\t\t\t\treturn this.dateEqual(item, currentDate)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst checked = multiplesStatus !== -1\r\n\r\n\t\t\tresult.push({\r\n\t\t\t\tfullDate: currentDate,\r\n\t\t\t\tyear: dateObj.year,\r\n\t\t\t\tdate: i,\r\n\t\t\t\tmultiple: this.range ? checked : false,\r\n\t\t\t\tbeforeMultiple: this.isLogicBefore(currentDate, this.multipleStatus.before, this.multipleStatus.after),\r\n\t\t\t\tafterMultiple: this.isLogicAfter(currentDate, this.multipleStatus.before, this.multipleStatus.after),\r\n\t\t\t\tmonth: dateObj.month,\r\n\t\t\t\tdisable: (this.startDate && !dateCompare(this.startDate, currentDate)) || (this.endDate && !dateCompare(\r\n\t\t\t\t\tcurrentDate, this.endDate)),\r\n\t\t\t\tisToday,\r\n\t\t\t\tuserChecked: false,\r\n\t\t\t\textraInfo: info\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n\t/**\r\n\t * 获取下一个月日期集合\r\n\t */\r\n\t_getNextMonthDays(amount, dateObj) {\r\n\t\tconst result = []\r\n\t\tconst month = dateObj.month + 1\r\n\t\tfor (let i = 1; i <= amount; i++) {\r\n\t\t\tresult.push({\r\n\t\t\t\tdate: i,\r\n\t\t\t\tmonth,\r\n\t\t\t\tdisable: true\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n\r\n\t/**\r\n\t * 获取当前日期详情\r\n\t * @param {Object} date\r\n\t */\r\n\tgetInfo(date) {\r\n\t\tif (!date) {\r\n\t\t\tdate = new Date()\r\n\t\t}\r\n\t\tconst res = this.calendar.find(item => item.fullDate === this.getDateObj(date).fullDate)\r\n\t\treturn res ? res : this.getDateObj(date)\r\n\t}\r\n\r\n\t/**\r\n\t * 比较时间是否相等\r\n\t */\r\n\tdateEqual(before, after) {\r\n\t\tbefore = new Date(fixIosDateFormat(before))\r\n\t\tafter = new Date(fixIosDateFormat(after))\r\n\t\treturn before.valueOf() === after.valueOf()\r\n\t}\r\n\r\n\t/**\r\n\t *  比较真实起始日期\r\n\t */\r\n\r\n\tisLogicBefore(currentDate, before, after) {\r\n\t\tlet logicBefore = before\r\n\t\tif (before && after) {\r\n\t\t\tlogicBefore = dateCompare(before, after) ? before : after\r\n\t\t}\r\n\t\treturn this.dateEqual(logicBefore, currentDate)\r\n\t}\r\n\r\n\tisLogicAfter(currentDate, before, after) {\r\n\t\tlet logicAfter = after\r\n\t\tif (before && after) {\r\n\t\t\tlogicAfter = dateCompare(before, after) ? after : before\r\n\t\t}\r\n\t\treturn this.dateEqual(logicAfter, currentDate)\r\n\t}\r\n\r\n\t/**\r\n\t * 获取日期范围内所有日期\r\n\t * @param {Object} begin\r\n\t * @param {Object} end\r\n\t */\r\n\tgeDateAll(begin, end) {\r\n\t\tvar arr = []\r\n\t\tvar ab = begin.split('-')\r\n\t\tvar ae = end.split('-')\r\n\t\tvar db = new Date()\r\n\t\tdb.setFullYear(ab[0], ab[1] - 1, ab[2])\r\n\t\tvar de = new Date()\r\n\t\tde.setFullYear(ae[0], ae[1] - 1, ae[2])\r\n\t\tvar unixDb = db.getTime() - 24 * 60 * 60 * 1000\r\n\t\tvar unixDe = de.getTime() - 24 * 60 * 60 * 1000\r\n\t\tfor (var k = unixDb; k <= unixDe;) {\r\n\t\t\tk = k + 24 * 60 * 60 * 1000\r\n\t\t\tarr.push(this.getDateObj(new Date(parseInt(k))).fullDate)\r\n\t\t}\r\n\t\treturn arr\r\n\t}\r\n\r\n\t/**\r\n\t *  获取多选状态\r\n\t */\r\n\tsetMultiple(fullDate) {\r\n\t\tif (!this.range) return\r\n\r\n\t\tlet {\r\n\t\t\tbefore,\r\n\t\t\tafter\r\n\t\t} = this.multipleStatus\r\n\t\tif (before && after) {\r\n\t\t\tif (!this.lastHover) {\r\n\t\t\t\tthis.lastHover = true\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.multipleStatus.before = fullDate\r\n\t\t\tthis.multipleStatus.after = ''\r\n\t\t\tthis.multipleStatus.data = []\r\n\t\t\tthis.multipleStatus.fulldate = ''\r\n\t\t\tthis.lastHover = false\r\n\t\t} else {\r\n\t\t\tif (!before) {\r\n\t\t\t\tthis.multipleStatus.before = fullDate\r\n\t\t\t\tthis.multipleStatus.after = undefined;\r\n\t\t\t\tthis.lastHover = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.multipleStatus.after = fullDate\r\n\t\t\t\tif (dateCompare(this.multipleStatus.before, this.multipleStatus.after)) {\r\n\t\t\t\t\tthis.multipleStatus.data = this.geDateAll(this.multipleStatus.before, this.multipleStatus\r\n\t\t\t\t\t\t.after);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.multipleStatus.data = this.geDateAll(this.multipleStatus.after, this.multipleStatus\r\n\t\t\t\t\t\t.before);\r\n\t\t\t\t}\r\n\t\t\t\tthis.lastHover = true\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.getWeeks(fullDate)\r\n\t}\r\n\r\n\t/**\r\n\t *  鼠标 hover 更新多选状态\r\n\t */\r\n\tsetHoverMultiple(fullDate) {\r\n\t\t//抖音小程序点击会触发hover事件，需要避免一下\r\n\t\t// #ifndef MP-TOUTIAO\r\n\t\tif (!this.range || this.lastHover) return\r\n\t\tconst {\r\n\t\t\tbefore\r\n\t\t} = this.multipleStatus\r\n\r\n\t\tif (!before) {\r\n\t\t\tthis.multipleStatus.before = fullDate\r\n\t\t} else {\r\n\t\t\tthis.multipleStatus.after = fullDate\r\n\t\t\tif (dateCompare(this.multipleStatus.before, this.multipleStatus.after)) {\r\n\t\t\t\tthis.multipleStatus.data = this.geDateAll(this.multipleStatus.before, this.multipleStatus.after);\r\n\t\t\t} else {\r\n\t\t\t\tthis.multipleStatus.data = this.geDateAll(this.multipleStatus.after, this.multipleStatus.before);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.getWeeks(fullDate)\r\n\t\t// #endif\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * 更新默认值多选状态\r\n\t */\r\n\tsetDefaultMultiple(before, after) {\r\n\t\tthis.multipleStatus.before = before\r\n\t\tthis.multipleStatus.after = after\r\n\t\tif (before && after) {\r\n\t\t\tif (dateCompare(before, after)) {\r\n\t\t\t\tthis.multipleStatus.data = this.geDateAll(before, after);\r\n\t\t\t\tthis.getWeeks(after)\r\n\t\t\t} else {\r\n\t\t\t\tthis.multipleStatus.data = this.geDateAll(after, before);\r\n\t\t\t\tthis.getWeeks(before)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 获取每周数据\r\n\t * @param {Object} dateData\r\n\t */\r\n\tgetWeeks(dateData) {\r\n\t\tconst {\r\n\t\t\tyear,\r\n\t\t\tmonth,\r\n\t\t} = this.getDateObj(dateData)\r\n\r\n\t\tconst preMonthDayAmount = new Date(year, month - 1, 1).getDay()\r\n\t\tconst preMonthDays = this.getPreMonthDays(preMonthDayAmount, this.getDateObj(dateData))\r\n\r\n\t\tconst currentMonthDayAmount = new Date(year, month, 0).getDate()\r\n\t\tconst currentMonthDays = this.getCurrentMonthDays(currentMonthDayAmount, this.getDateObj(dateData))\r\n\r\n\t\tconst nextMonthDayAmount = 42 - preMonthDayAmount - currentMonthDayAmount\r\n\t\tconst nextMonthDays = this._getNextMonthDays(nextMonthDayAmount, this.getDateObj(dateData))\r\n\r\n\t\tconst calendarDays = [...preMonthDays, ...currentMonthDays, ...nextMonthDays]\r\n\r\n\t\tconst weeks = new Array(6)\r\n\t\tfor (let i = 0; i < calendarDays.length; i++) {\r\n\t\t\tconst index = Math.floor(i / 7)\r\n\t\t\tif (!weeks[index]) {\r\n\t\t\t\tweeks[index] = new Array(7)\r\n\t\t\t}\r\n\t\t\tweeks[index][i % 7] = calendarDays[i]\r\n\t\t}\r\n\r\n\t\tthis.calendar = calendarDays\r\n\t\tthis.weeks = weeks\r\n\t}\r\n}\r\n\r\nfunction getDateTime(date, hideSecond) {\r\n\treturn `${getDate(date)} ${getTime(date, hideSecond)}`\r\n}\r\n\r\nfunction getDate(date) {\r\n\tdate = fixIosDateFormat(date)\r\n\tdate = new Date(date)\r\n\tconst year = date.getFullYear()\r\n\tconst month = date.getMonth() + 1\r\n\tconst day = date.getDate()\r\n\treturn `${year}-${addZero(month)}-${addZero(day)}`\r\n}\r\n\r\nfunction getTime(date, hideSecond) {\r\n\tdate = fixIosDateFormat(date)\r\n\tdate = new Date(date)\r\n\tconst hour = date.getHours()\r\n\tconst minute = date.getMinutes()\r\n\tconst second = date.getSeconds()\r\n\treturn hideSecond ? `${addZero(hour)}:${addZero(minute)}` : `${addZero(hour)}:${addZero(minute)}:${addZero(second)}`\r\n}\r\n\r\nfunction addZero(num) {\r\n\tif (num < 10) {\r\n\t\tnum = `0${num}`\r\n\t}\r\n\treturn num\r\n}\r\n\r\nfunction getDefaultSecond(hideSecond) {\r\n\treturn hideSecond ? '00:00' : '00:00:00'\r\n}\r\n\r\nfunction dateCompare(startDate, endDate) {\r\n\tstartDate = new Date(fixIosDateFormat(startDate))\r\n\tendDate = new Date(fixIosDateFormat(endDate))\r\n\treturn startDate <= endDate\r\n}\r\n\r\nfunction checkDate(date) {\r\n\tconst dateReg = /((19|20)\\d{2})(-|\\/)\\d{1,2}(-|\\/)\\d{1,2}/g\r\n\treturn date.match(dateReg)\r\n}\r\n//ios低版本15及以下，无法匹配 没有 ’秒‘ 时的情况，所以需要在末尾 秒 加上 问号\r\nconst dateTimeReg = /^\\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])( [0-5]?[0-9]:[0-5]?[0-9](:[0-5]?[0-9])?)?$/;\r\n\r\nfunction fixIosDateFormat(value) {\r\n\tif (typeof value === 'string' && dateTimeReg.test(value)) {\r\n\t\tvalue = value.replace(/-/g, '/')\r\n\t}\r\n\treturn value\r\n}\r\n\r\nexport {\r\n\tCalendar,\r\n\tgetDateTime,\r\n\tgetDate,\r\n\tgetTime,\r\n\taddZero,\r\n\tgetDefaultSecond,\r\n\tdateCompare,\r\n\tcheckDate,\r\n\tfixIosDateFormat\r\n}\r\n"],"names":["Calendar","selected","startDate","endDate","range","date","selectDate","fixIosDateFormat","oldMonth","newMonth","getDate","addZero","amount","dateObj","result","i","month","fullDate","currentDate","isToday","info","item","dateCompare","multiples","multiplesStatus","checked","res","before","after","logicBefore","logicAfter","begin","end","arr","ab","ae","db","de","unixDb","unixDe","k","dateData","year","preMonthDayAmount","preMonthDays","currentMonthDayAmount","currentMonthDays","nextMonthDayAmount","nextMonthDays","calendarDays","weeks","index","getDateTime","hideSecond","getTime","day","hour","minute","second","num","getDefaultSecond","checkDate","dateReg","dateTimeReg","value"],"mappings":"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"}