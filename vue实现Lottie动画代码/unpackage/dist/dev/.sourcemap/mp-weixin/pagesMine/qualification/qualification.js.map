{"version":3,"file":"qualification.js","sources":["pagesMine/qualification/qualification.vue","../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNNaW5lXHF1YWxpZmljYXRpb25ccXVhbGlmaWNhdGlvbi52dWU"],"sourcesContent":["<template>\r\n    <view class=\"background-image\">\r\n    <image\r\n      class=\"background-image-img\"\r\n      src=\"/static/image/bgPicture/background1.png\"\r\n      mode=\"aspectFill\" alt=\"背景图\"\r\n    />\r\n  </view>\r\n  <view class=\"background-image\">\r\n    <image\r\n      class=\"background-image-img\"\r\n      src=\"/static/image/bgPicture/background.png\"\r\n      mode=\"aspectFill\" alt=\"背景图\"\r\n    />\r\n  </view>\r\n<view class=\"qualification-whole-container\">\r\n  <Header title=\"学历认证\"  @back=\"handleBack\"/>\r\n  <view class=\"qualification-container\">\r\n\r\n    <view class=\"qualification-header\">\r\n      <view class=\"qualification-desc\">\r\n        这里是海量高学历单身用户聚集地，完成学历认证，认识更多和你一样优秀的她~\r\n      </view>\r\n    </view>\r\n    <view class=\"qualification-form\">\r\n      <view class=\"qualification-method-title\">认证方式</view>\r\n      <view class=\"qualification-method-box\">\r\n        <view class=\"qualification-method-label\">学信网在线验证码</view>\r\n      </view>\r\n      <view class=\"qualification-code-title\">姓名</view>\r\n      <input\r\n        class=\"qualification-code-input\"\r\n        type=\"text\"\r\n        v-model=\"name\"\r\n        placeholder=\"请输入姓名\"\r\n      />\r\n      <view class=\"qualification-code-title\">在线验证码</view>\r\n      <input\r\n        class=\"qualification-code-input\"\r\n        type=\"text\"\r\n        v-model=\"code\"\r\n        maxlength=\"18\"\r\n        placeholder=\"请输入12-18位编号\"\r\n      />\r\n      <view class=\"qualification-tip\">\r\n        <text class=\"tip-link\" @click=\"goToLeading\">如何获取在线验证码</text>\r\n      </view>\r\n      <button\r\n        class=\"btn-auth\"\r\n        :disabled=\"!code || !name\"\r\n        :class=\"{ 'btn-auth-disabled': !code || !name }\"\r\n        @click=\"submitAuth\"\r\n      >立即认证</button>\r\n    </view>\r\n    <view class=\"qualification-footer\">\r\n      研师录承诺100%保障你的隐私信息安全\r\n    </view>\r\n  </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\nimport { Navigator, MineRoutes } from '@/router/Router.js';\r\nimport Header from '@/components/navigationTitleBar/header'\r\nimport { apiRequest,getCurrentToken } from '@/store/user/JWT.js';\r\nimport { useGlobalStore } from '@/store/global.js';\r\nconst getApiPrefix = () => {\r\n  const globalStore = useGlobalStore()\r\n  return globalStore.apiBaseUrl\r\n}\r\n\r\nexport default {\r\n  name: 'Qualification',\r\n  components: {\r\n    Header\r\n  },\r\n  data() {\r\n    return {\r\n      /**\r\n       * 学信网在线验证码\r\n       * @type {string}\r\n       */\r\n      code: '',\r\n      name: '',\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * 跳转到学信网验证码获取引导页\r\n     */\r\n    goToLeading() {\r\n      Navigator.toLeading();\r\n    },\r\n    /**\r\n     * 提交认证\r\n     */\r\n     submitAuth() {\r\n  if (this.code && this.name) {\r\n    uni.__f__('log','at pagesMine/qualification/qualification.vue:99',\"开始认证\")\r\n    const token = getCurrentToken()\r\n      return apiRequest(`${getApiPrefix()}/yanshilu/teacher/auth`,\r\n        'POST',\r\n        {\r\n          name: this.name,\r\n          authType: 0,\r\n          authCode: this.code\r\n        },{\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        })\r\n        .then((res2) => {\r\n          if (res2.data.result) {\r\n            uni.showToast({\r\n              title: '认证成功'\r\n            })\r\n          } else {\r\n            uni.showToast({\r\n              title: '认证失败'\r\n            })\r\n          }\r\n        }).catch((err) => {\r\n          uni.__f__('error','at pagesMine/qualification/qualification.vue:123',\"提交认证时出错：\", err)\r\n        })\r\n    }\r\n}\r\n\r\n    ,\r\n    /**\r\n     * @description 返回上一页\r\n     */\r\n    handleBack() {\r\n      Navigator.redirectTo(MineRoutes.WHY_QUALIFICATION);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.background-image {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 0;\r\n  pointer-events: none;\r\n}\r\n.background-image-img {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n.qualification-whole-container {\r\n  height:100%;\r\n}\r\n.qualification-container {\r\n  background: transparent;\r\n  height:100%;\r\n}\r\n.qualification-header {\r\n  margin-top: 20rpx;\r\n  margin-bottom: 20rpx;\r\n    padding: 20rpx;\r\n}\r\n.qualification-title {\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  color: #222;\r\n  margin-bottom: 12rpx;\r\n}\r\n.qualification-desc {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n}\r\n.qualification-form {\r\n  background:transparent;\r\n  border-radius: 24rpx;\r\n  padding: 32rpx;\r\n  margin-bottom: 32rpx;\r\n}\r\n\r\n.qualification-method-title {\r\n  font-size: 26rpx;\r\n  color: #888;\r\n  margin-bottom: 8rpx;\r\n}\r\n.qualification-method-box {\r\n  text-align: center;\r\n  width: 100%;\r\n  height: 80rpx;\r\n  border: 1rpx solid #e5e5e5;\r\n  border-radius: 12rpx;\r\n  padding: 0 24rpx;\r\n  font-size: 28rpx;\r\n  margin-bottom: 12rpx;\r\n  background: #f7fafd;\r\n}\r\n.qualification-method-label {\r\n  text-align: left;\r\n  font-size: 28rpx;\r\n  color: #222;\r\n  margin-top:26rpx;\r\n}\r\n.qualification-code-title {\r\n  font-size: 26rpx;\r\n  color: #888;\r\n  margin-bottom: 8rpx;\r\n}\r\n.qualification-code-input {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  border: 1rpx solid #e5e5e5;\r\n  border-radius: 12rpx;\r\n  padding: 0 24rpx;\r\n  font-size: 28rpx;\r\n  margin-bottom: 12rpx;\r\n  background: #f7fafd;\r\n}\r\n.qualification-tip {\r\n  margin-bottom: 24rpx;\r\n}\r\n.tip-link {\r\n  color: #5b8cff;\r\n  font-size: 24rpx;\r\n  text-decoration: underline;\r\n}\r\n.btn-auth {\r\n  width: 100%;\r\n  background: linear-gradient(90deg, #3edfcf, #5b8cff);\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 32rpx;\r\n  padding: 20rpx 0;\r\n  font-size: 30rpx;\r\n  margin-top: 12rpx;\r\n}\r\n.btn-auth-disabled {\r\n  background: #e5e5e5 !important;\r\n  color: #aaa !important;\r\n}\r\n.qualification-footer {\r\n  text-align: center;\r\n  color: #bbb;\r\n  font-size: 22rpx;\r\n  margin-top: 80rpx;\r\n}\r\n</style>","import MiniProgramPage from 'E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/pagesMine/qualification/qualification.vue'\nwx.createPage(MiniProgramPage)"],"names":["Header","getApiPrefix","useGlobalStore","_sfc_main","defineComponent","Navigator","uni","token","getCurrentToken","apiRequest","res2","err","MineRoutes","MiniProgramPage"],"mappings":"uMA+DOA,EAAY,IAAA,gDAGbC,EAAe,IACCC,EAAAA,iBACD,WAGrBC,EAAeC,kBAAA,CACb,KAAM,gBACN,WAAY,CACV,OAAAJ,CACD,EACD,MAAI,CACF,MAAO,CAKL,KAAM,GACN,KAAM,GAET,EACD,QAAS,CAIP,aAAW,CACTK,EAAS,UAAC,UAAS,CACpB,EAIA,YAAU,CACb,GAAI,KAAK,MAAQ,KAAK,KAAM,CAC1BC,EAAAA,MAAI,MAAM,MAAM,kDAAkD,MAAM,EACxE,MAAMC,EAAQC,EAAAA,kBACZ,OAAOC,EAAAA,WAAW,GAAGR,EAAY,CAAE,yBACjC,OACA,IAAA,cAAA,CACE,KAAM,KAAK,KACX,SAAU,EACV,SAAU,KAAK,KAChB,EAAC,IAAA,cAAA,CACA,QAAS,IAAA,cAAA,CACP,cAAiB,UAAUM,CAAK,GAClC,EACD,CAAA,EACA,KAAK,CAACG,EAAI,OAAA,CACLA,EAAK,KAAK,OACZJ,EAAAA,MAAI,UAAU,CACZ,MAAO,MACR,CAAA,EAEDA,EAAAA,MAAI,UAAU,CACZ,MAAO,MACR,CAAA,CAEJ,CAAA,EAAE,MAAM,CAACK,EAAG,OAAA,CACXL,EAAG,MAAC,MAAM,QAAQ,mDAAmD,WAAYK,CAAG,CACtF,CAAC,CACL,CACJ,EAMI,YAAU,CACRN,EAAAA,UAAU,WAAWO,aAAW,iBAAiB,CACnD,CACF,EACD,2bCtID,GAAG,WAAWC,CAAe"}