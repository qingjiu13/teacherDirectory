{"version":3,"file":"top-navbar.js","sources":["components/top-navbar/top-navbar.vue"],"sourcesContent":["<template>\r\n\t<view class=\"top-navbar\">\r\n\t\t<scroll-view \r\n\t\t\tclass=\"tab-bar\" \r\n\t\t\tscroll-x \r\n\t\t\t:scroll-into-view=\"'tab-' + currentTab\"\r\n\t\t\t:scroll-with-animation=\"true\"\r\n\t\t>\r\n\t\t\t<view \r\n\t\t\t\tv-for=\"(tab, index) in tabList\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t:id=\"'tab-' + index\"\r\n\t\t\t\tclass=\"tab-item\"\r\n\t\t\t\t:class=\"{ active: currentTab === index }\"\r\n\t\t\t\t@click=\"switchTab(index)\"\r\n\t\t\t>\r\n\t\t\t\t{{ tab.name }}\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\r\n\t\t<view class=\"content-container\">\r\n\t\t\t<view v-if=\"currentTab === 0\" class=\"tab-content\">\r\n\t\t\t\t<slot name=\"page1\"></slot>\r\n\t\t\t</view>\r\n\t\t\t<view v-else-if=\"currentTab === 1\" class=\"tab-content\">\r\n\t\t\t\t<slot name=\"page2\"></slot>\r\n\t\t\t</view>\r\n\t\t\t<view v-else-if=\"currentTab === 2\" class=\"tab-content\">\r\n\t\t\t\t<slot name=\"page3\"></slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\texport default {\r\n\t\tname:\"top-navbar\",\r\n\t\tprops: {\r\n\t\t\t// 用户角色\r\n\t\t\tuserRole: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'student'\r\n\t\t\t},\r\n\t\t\t// 导航栏高度\r\n\t\t\tnavHeight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 60\r\n\t\t\t},\r\n\t\t\t// 自定义标签页\r\n\t\t\tcustomTabs: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstudentTabs: [\r\n\t\t\t\t\t{ name: '待预约', id: 'tab1' },\r\n\t\t\t\t\t{ name: '待开始', id: 'tab2' },\r\n\t\t\t\t\t{ name: '已完成', id: 'tab3' }\r\n\t\t\t\t],\r\n\t\t\t\tteacherTabs: [\r\n\t\t\t\t\t{ name: '待接受', id: 'tab1' },\r\n\t\t\t\t\t{ name: '进行中', id: 'tab2' },\r\n\t\t\t\t\t{ name: '已完成', id: 'tab3' }\r\n\t\t\t\t],\r\n\t\t\t\tcurrentTab: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 根据角色或自定义标签返回显示的标签列表\r\n\t\t\ttabList() {\r\n\t\t\t\tif (this.customTabs) {\r\n\t\t\t\t\treturn this.customTabs;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn this.userRole === 'teacher' ? this.teacherTabs : this.studentTabs;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 切换Tab\r\n\t\t\tswitchTab(index) {\r\n\t\t\t\tthis.currentTab = index;\r\n\t\t\t\tthis.$emit('change', index);\r\n\t\t\t},\r\n\t\t\t// 重置Tab\r\n\t\t\tresetTab() {\r\n\t\t\t\tthis.currentTab = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 监听角色变化，重置标签页\r\n\t\t\tuserRole() {\r\n\t\t\t\tthis.resetTab();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.top-navbar {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n\tfont-family: \"PingFang SC\", \"Helvetica Neue\", Arial, sans-serif;\r\n}\r\n\r\n.tab-bar {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 5rpx 0 0 0;\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tz-index: 100;\r\n\twhite-space: nowrap;\r\n\twidth: 100%;\r\n\tborder-bottom: none;\r\n\tjustify-content: center;\r\n\tbox-shadow: none;\r\n\theight: 60rpx;\r\n}\r\n\r\n.tab-item {\r\n\tdisplay: inline-block;\r\n\tpadding: 4rpx 30rpx;\r\n\ttext-align: center;\r\n\tfont-size: 28rpx;\r\n\tcolor: #5d6b89;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tmargin: 0 25rpx;\r\n\tborder-radius: 30rpx;\r\n\ttransition: all 0.3s ease;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.tab-item.active {\r\n\tcolor: #3a86ff;\r\n\tfont-weight: bold;\r\n\tbackground-color: #f0f5ff;\r\n}\r\n\r\n.tab-item.active::after {\r\n\tdisplay: none;\r\n}\r\n\r\n.content-container {\r\n\tflex: 1;\r\n\twidth: 100%;\r\n\tmargin-top: 0;\r\n}\r\n\r\n.tab-content {\r\n\tpadding: 0;\r\n}\r\n</style>"],"names":["defineComponent"],"mappings":";;AAmCC,MAAA,YAAeA,8BAAA;AAAA,EACd,MAAK;AAAA,EACL,OAAO;AAAA;AAAA,IAEN,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,YAAY;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAI;AACH,WAAO;AAAA,MACN,aAAa;AAAA,QACZ,IAAA,cAAA,EAAE,MAAM,OAAO,IAAI,QAAQ;AAAA,QAC3B,IAAA,cAAA,EAAE,MAAM,OAAO,IAAI,QAAQ;AAAA,QAC3B,IAAA,cAAA,EAAE,MAAM,OAAO,IAAI,OAAO,CAAA;AAAA,MAC1B;AAAA,MACD,aAAa;AAAA,QACZ,IAAA,cAAA,EAAE,MAAM,OAAO,IAAI,QAAQ;AAAA,QAC3B,IAAA,cAAA,EAAE,MAAM,OAAO,IAAI,QAAQ;AAAA,QAC3B,IAAA,cAAA,EAAE,MAAM,OAAO,IAAI,OAAO,CAAA;AAAA,MAC1B;AAAA,MACD,YAAY;AAAA;EAEb;AAAA,EACD,UAAU;AAAA;AAAA,IAET,UAAO;AACN,UAAI,KAAK,YAAY;AACpB,eAAO,KAAK;AAAA,MACb;AAEA,aAAO,KAAK,aAAa,YAAY,KAAK,cAAc,KAAK;AAAA,IAC9D;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,UAAU,QAAK,MAAA;AACd,WAAK,aAAa;AAClB,WAAK,MAAM,UAAU,KAAK;AAAA,IAC1B;AAAA;AAAA,IAED,WAAQ;AACP,WAAK,aAAa;AAAA,IACnB;AAAA,EACA;AAAA,EACD,OAAO;AAAA;AAAA,IAEN,WAAQ;AACP,WAAK,SAAQ;AAAA,IACd;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;"}