"use strict";const e=require("../../common/vendor.js"),n=require("../../router/Router.js"),l=()=>"../../components/navigationTitleBar/header.js",o=e.defineComponent({components:{Header:l},data(){return{teacherId:null,activeTab:"services",isLoading:!1,showServiceDetail:!1,currentService:null}},computed:Object.assign(Object.assign({},e.mapState("user/match",["matchList"])),{teacherData(){return this.matchList.find((a=null)=>a.id===this.teacherId)||new UTSJSONObject({id:null,name:"",avatar:"/static/image/defaultAvatar/teacher-man.png",school:"",major:"",teacherScore:0,certificate:0,selfIntroduction:"暂无数据",service:[]})},services(){return this.teacherData&&Array.isArray(this.teacherData.service)?this.teacherData.service:[]}}),onLoad(i){if(this.teacherId=i.id||"",!this.teacherId)return e.index.showToast({title:"未获取到教师ID",icon:"none"}),null;this.isLoading=!0,(!this.teacherData||!this.teacherData.id)&&e.index.showToast({title:"未找到该教师信息",icon:"none"}),this.isLoading=!1},methods:{handleBack(){n.Navigator.redirectTo(n.MatchRoutes.MATCH)},switchTab(i=null){this.activeTab!==i&&(this.activeTab=i)},startConsultation(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,n.Navigator.toChat(this.teacherId)},800)},goToServiceDetail(i=null){const a=Array.isArray(this.services)?this.services:[],u=UTS.arrayFind(a,(s=null)=>s.id===i);u?(this.currentService=u,this.showServiceDetail=!0):e.index.showToast({title:"未找到服务信息",icon:"none"})},closeServiceDetail(){this.showServiceDetail=!1,this.currentService=null}}});Array||e.resolveComponent("Header")();function v(i,a,u,s,t,r){return e.e({a:e.o(r.handleBack),b:e.p({title:"导师详情"}),c:r.teacherData.avatar||"/static/image/defaultAvatar/teacher-man.png",d:e.t(r.teacherData.name),e:e.t(r.teacherData.school),f:e.t(r.teacherData.major),g:e.t(r.teacherData.teacherScore),h:e.t(r.teacherData.selfIntroduction||"这位老师很懒，还没有填写个人简介。"),i:t.activeTab==="services"?1:"",j:e.o(c=>r.switchTab("services")),k:t.activeTab==="services"},t.activeTab==="services"?e.e({l:r.teacherData.service.length>0},r.teacherData.service.length>0?{m:e.f(r.teacherData.service,(c,h,S)=>({a:c.image||"/static/image/services/default_service.png",b:e.t(c.name),c:e.t(c.price),d:e.t(c.description),e:h,f:e.o(D=>r.goToServiceDetail(c.id),h)})),n:e.o((...c)=>r.startConsultation&&r.startConsultation(...c))}:{}):{},{o:t.showServiceDetail},t.showServiceDetail?e.e({p:e.o((...c)=>r.closeServiceDetail&&r.closeServiceDetail(...c)),q:e.o((...c)=>r.closeServiceDetail&&r.closeServiceDetail(...c)),r:t.currentService.image,s:e.t(t.currentService.name),t:e.t(t.currentService.price),v:e.t(t.currentService.type.typename),w:t.currentService.type.typename==="一对一课程"||t.currentService.type.typename==="一对多课程"},t.currentService.type.typename==="一对一课程"||t.currentService.type.typename==="一对多课程"?{x:e.t(t.currentService.type.coursenum),y:e.t(t.currentService.type.fulllength.hours),z:e.t(t.currentService.type.fulllength.minutes)}:{},{A:t.currentService.type.typename==="一对多课程"},t.currentService.type.typename==="一对多课程"?{B:e.t(t.currentService.type.studentnum)}:{},{C:e.t(t.currentService.description)}):{})}const m=e._export_sfc(o,[["render",v]]);wx.createPage(m);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesMine/teacher/teacher.js.map
