"use strict";const e=require("../../common/vendor.js"),u=e.defineComponent({data(){return{overallRating:0,professionalRating:0,attitudeRating:0,comment:"",courseInfo:new UTSJSONObject({id:"",name:"",teacher:"",price:0})}},onLoad(r){r&&(this.courseInfo={id:r.courseId||"",name:r.courseName||"XXXX课程",teacher:r.teacherName||"XXXX老师",price:r.price||"100.00"})},methods:{setRating(r=null,n=null){switch(r){case"overall":this.overallRating=n;break;case"professional":this.professionalRating=n;break;case"attitude":this.attitudeRating=n;break}},submitAppraise(){if(this.overallRating===0||this.professionalRating===0||this.attitudeRating===0)return e.index.showToast({title:"请完成所有评分项",icon:"none"}),null;const r=new UTSJSONObject({courseId:this.courseInfo.id,courseName:this.courseInfo.name,teacher:this.courseInfo.teacher,ratings:new UTSJSONObject({overall:this.overallRating,professional:this.professionalRating,attitude:this.attitudeRating}),comment:this.comment,submitTime:new Date().toLocaleString()});e.index.__f__("log","at pagesMine/order/appraise.vue:166","提交评价:",r),e.index.showToast({title:"评价提交成功",icon:"success"}),setTimeout(()=>{e.index.navigateBack()},1500)},getCurrentDate(){return new Date().toLocaleString()}}});function l(r,n,m,f,a,s){return{a:e.t(a.courseInfo.teacher?a.courseInfo.teacher.substring(0,1):"讲"),b:e.t(a.courseInfo.teacher||"XXXX老师"),c:e.t(a.courseInfo.name||"XXXX课程"),d:e.t(s.getCurrentDate()),e:e.t(a.courseInfo.price),f:e.f(5,(i,t,o)=>({a:t,b:t<a.overallRating?1:"",c:e.o(c=>s.setRating("overall",t+1),t)})),g:e.f(5,(i,t,o)=>({a:t,b:t<a.professionalRating?1:"",c:e.o(c=>s.setRating("professional",t+1),t)})),h:e.f(5,(i,t,o)=>({a:t,b:t<a.attitudeRating?1:"",c:e.o(c=>s.setRating("attitude",t+1),t)})),i:a.comment,j:e.o(i=>a.comment=i.detail.value),k:e.t(a.comment.length),l:e.o((...i)=>s.submitAppraise&&s.submitAppraise(...i)),m:e.sei(e.gei(r,""),"view")}}const g=e._export_sfc(u,[["render",l]]);wx.createPage(g);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesMine/order/appraise.js.map
