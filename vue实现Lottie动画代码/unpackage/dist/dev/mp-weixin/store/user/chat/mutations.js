"use strict";const I={SET_CURRENT_SESSION(s,n){s.currentSession={...s.currentSession,...n}},ADD_OR_UPDATE_SESSION(s,n){s.sessions.byId[n.sessionId]||s.sessions.allIds.unshift(n.sessionId),s.sessions.byId[n.sessionId]={...s.sessions.byId[n.sessionId],...n}},REMOVE_SESSION(s,n){delete s.sessions.byId[n],s.sessions.allIds=s.sessions.allIds.filter(i=>i!==n)},UPDATE_SESSION_LAST_MESSAGE(s,{sessionId:n,message:i}){const e=s.sessions.byId[n];e&&(e.lastMessage=i,e.lastMessageTime=i.time)},ADD_MESSAGE(s,{sessionId:n,message:i}){s.messages.bySessionId[n]||(s.messages.bySessionId[n]={hasMore:!0,isLoading:!1,list:[]}),s.messages.bySessionId[n].list.push(i)},PREPEND_MESSAGES(s,{sessionId:n,messages:i}){s.messages.bySessionId[n]||(s.messages.bySessionId[n]={hasMore:!0,isLoading:!1,list:[]}),s.messages.bySessionId[n].list.unshift(...i)},UPDATE_MESSAGE_STATUS(s,{sessionId:n,messageId:i,status:e}){var S;const o=(S=s.messages.bySessionId[n])==null?void 0:S.list;if(o){const E=o.find(c=>c.id===i);E&&(E.status=e)}},UPDATE_USER_INFO(s,n){s.userInfos[n.userId]={...s.userInfos[n.userId],...n}},SET_CONNECTION_STATUS(s,{isConnected:n,isConnecting:i}){s.connection.isConnected=n,s.connection.isConnecting=i,n&&(s.connection.lastError=null,s.connection.reconnectCount=0)},SET_CONNECTION_ERROR(s,n){s.connection.lastError=n,s.connection.reconnectCount++}};exports.mutations=I;
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/store/user/chat/mutations.js.map
