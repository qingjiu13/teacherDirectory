"use strict";const o=require("../../../common/vendor.js"),g={updateRole(e,n){o.index.__f__("log","at store/user/baseInfo/mutations.js:13","updateRole mutation执行, 参数:",n),e.userInfo.role=n==="teacher"?"老师":"学生",o.index.setStorageSync("userBaseInfo",JSON.stringify({id:e.id,avatar:e.avatar,name:e.name,gender:e.gender,selfIntroduction:e.selfIntroduction,wechatNumber:e.wechatNumber,phoneNumber:e.phoneNumber,role:n})),o.index.setStorageSync("userRole",n),o.index.__f__("log","at store/user/baseInfo/mutations.js:31","角色更新完成, 新角色:",e.userInfo.role)},SET_USER_INFO(e,n){o.index.__f__("log","at store/user/baseInfo/mutations.js:40","SET_USER_INFO mutation执行, 入参:",n),o.index.__f__("log","at store/user/baseInfo/mutations.js:41","更新前state:",{id:e.id,name:e.name,avatar:e.avatar}),e.id=n.id||"",e.avatar=n.avatar||"",e.name=n.nickname||n.name||"",e.gender=n.gender||"",e.selfIntroduction=n.introduction||n.selfIntroduction||"",e.wechatNumber=n.wechat||n.wechatNumber||"",e.phoneNumber=n.phone||n.phoneNumber||"",e.password=n.password||"";const r=n.role||"student";n.userInfo?(e.userInfo={...e.userInfo,...n.userInfo},(!n.userInfo.role||n.userInfo.role===r)&&(e.userInfo.role=r==="teacher"?"老师":"学生")):e.userInfo.role=r==="teacher"?"老师":"学生",o.index.setStorageSync("userBaseInfo",JSON.stringify({id:e.id,avatar:e.avatar,name:e.name,gender:e.gender,selfIntroduction:e.selfIntroduction,wechatNumber:e.wechatNumber,phoneNumber:e.phoneNumber,role:r})),o.index.setStorageSync("userRole",r),o.index.__f__("log","at store/user/baseInfo/mutations.js:91","更新后state:",{id:e.id,name:e.name,avatar:e.avatar,role:e.userInfo.role})},UPDATE_USER_INFO(e,n){o.index.__f__("log","at store/user/baseInfo/mutations.js:112","UPDATE_USER_INFO mutation执行, 入参:",n);const{avatar:r,name:d,nickname:u,gender:f,selfIntroduction:m,introduction:_,wechatNumber:a,wechat:s,phoneNumber:I,phone:c,password:l,role:i}=n;r!==void 0&&(e.avatar=r),d!==void 0&&(e.name=d),u!==void 0&&(e.name=u),f!==void 0&&(e.gender=f),m!==void 0&&(e.selfIntroduction=m),_!==void 0&&(e.selfIntroduction=_),a!==void 0&&(e.wechatNumber=a),s!==void 0&&(e.wechatNumber=s),I!==void 0&&(e.phoneNumber=I),c!==void 0&&(e.phoneNumber=c),l!==void 0&&(e.password=l),i!==void 0&&(e.userInfo.role=i==="teacher"?"老师":"学生",o.index.setStorageSync("userRole",i)),o.index.setStorageSync("userBaseInfo",JSON.stringify({id:e.id,avatar:e.avatar,name:e.name,gender:e.gender,selfIntroduction:e.selfIntroduction,wechatNumber:e.wechatNumber,phoneNumber:e.phoneNumber,role:o.index.getStorageSync("userRole")||"student"})),o.index.__f__("log","at store/user/baseInfo/mutations.js:162","更新后state:",{id:e.id,name:e.name,avatar:e.avatar})},UPDATE_USER_PROFILE(e,n){o.index.__f__("log","at store/user/baseInfo/mutations.js:175","UPDATE_USER_PROFILE mutation执行, 入参:",n),this.commit("user/baseInfo/UPDATE_USER_INFO",n),o.index.$emit("userProfileUpdated",{timestamp:Date.now(),data:n})},CLEAR_USER_INFO(e){o.index.__f__("log","at store/user/baseInfo/mutations.js:192","CLEAR_USER_INFO mutation执行"),e.id="",e.avatar="",e.name="",e.gender="",e.selfIntroduction="",e.wechatNumber="",e.phoneNumber="",e.password="";const n=e.userInfo.role;e.userInfo={certificate:0,role:n,school:"",major:"",targetSchool:"",targetMajor:"",studentGrade:"",teacherGrade:""},o.index.__f__("log","at store/user/baseInfo/mutations.js:217","清除后state:",{id:e.id,name:e.name,avatar:e.avatar,role:e.userInfo.role})},UPDATE_USER_INFO_DATA(e,n){o.index.__f__("log","at store/user/baseInfo/mutations.js:231","UPDATE_USER_INFO_DATA mutation执行, 入参:",n),e.userInfo={...e.userInfo,...n},o.index.setStorageSync("userInfoData",JSON.stringify(e.userInfo)),o.index.__f__("log","at store/user/baseInfo/mutations.js:242","更新后userInfo:",e.userInfo)}};exports.mutations=g;
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/store/user/baseInfo/mutations.js.map
