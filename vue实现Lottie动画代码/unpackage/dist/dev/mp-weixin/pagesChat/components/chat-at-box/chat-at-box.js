"use strict";const e=require("../../../common/vendor.js"),i=e.defineComponent({name:"chat-at-box",props:{ownerId:{type:Number},members:{type:Array}},data(){return{searchText:"",showMembers:[]}},methods:{init(s=null){this.showMembers=[];let t=this.userStore.userInfo.id;this.ownerId==t&&this.showMembers.push({userId:-1,showNickName:"全体成员"}),this.members.forEach((n=null)=>{!n.quit&&n.userId!=t&&(n.checked=s.indexOf(n.userId)>=0,this.showMembers.push(n))})},open(){this.$refs.popup.open()},onSwitchChecked(s=null){s.checked=!s.checked},onClean(){this.showMembers.forEach(s=>{s.checked=!1})},onOk(){this.$refs.popup.close()},onChange(s=null){s.show||this.$emit("complete",this.atUserIds)}},computed:{atUserIds(){return this.showMembers.filter(s=>s.checked).map(s=>s.userId)},checkedMembers(){return this.showMembers.filter(s=>s.checked)},memberItems(){return this.showMembers.filter(s=>s.showNickName.includes(this.searchText))}}});if(!Array){const s=e.resolveComponent("head-image"),t=e.resolveComponent("uni-search-bar"),n=e.resolveComponent("virtual-scroller"),h=e.resolveComponent("uni-popup");(s+t+n+h)()}const p=()=>"../../../uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.js",m=()=>"../../../uni_modules/uni-popup/components/uni-popup/uni-popup.js";Math||(p+m)();function d(s,t,n,h,a,o){return{a:e.o(r=>o.onClean()),b:e.t(o.atUserIds.length),c:e.o(r=>o.onOk()),d:e.f(o.checkedMembers,(r,u,c)=>({a:"647f658f-1-"+c+",647f658f-0",b:e.p({name:r.showNickName,url:r.headImage,size:"mini"}),c:r.userId})),e:o.atUserIds.length>0,f:e.o(r=>a.searchText=r),g:e.p({cancelButton:"none",radius:"100",placeholder:"搜索",modelValue:a.searchText}),h:e.w(({item:r},u,c)=>({a:"647f658f-4-"+c+",647f658f-3",b:e.p({name:r.showNickName,online:r.online,url:r.headImage,size:"small"}),c:e.t(r.showNickName),d:r.checked?1:"",e:e.o(f=>o.onSwitchChecked(r)),f:c,g:u}),{name:"d",path:"h",vueId:"647f658f-3,647f658f-0"}),i:e.p({items:o.memberItems}),j:e.sr("popup","647f658f-0"),k:e.gei(s,""),l:e.o(o.onChange),m:e.p({type:"bottom",id:e.gei(s,"")})}}const l=e._export_sfc(i,[["render",d],["__scopeId","data-v-647f658f"]]);wx.createComponent(l);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pagesChat/components/chat-at-box/chat-at-box.js.map
