"use strict";const s=require("../common/vendor.js"),h=s.defineComponent({data(){return{teacherId:"",teacherName:"老师",inputMessage:"",messages:[new UTSJSONObject({content:"您好，我是您的专业辅导老师，有什么可以帮助您的？",isSelf:!1})]}},computed:Object.assign({},s.mapGetters("user/match",["teacherInfo"])),onLoad(e){e.userId?(this.teacherId=e.userId,this.loadTeacherInfo()):e.teacherId&&(this.teacherId=e.teacherId,this.teacherName=e.teacherName||"老师",this.loadTeacherInfo())},methods:{goBack(){s.index.navigateBack()},loadTeacherInfo(){if(!this.teacherId)return null;const e=this.teacherInfo(this.teacherId);e&&e.name?this.teacherName=e.name:this.getTeacherNameFromLocal()},getTeacherNameFromLocal(){const e=new UTSJSONObject({teacher001:"张老师",teacher002:"李老师",1:"王教授",2:"李博士",3:"张老师",4:"刘教授",5:"陈老师"});this.teacherName=e[this.teacherId]||"老师"},sendMessage(){if(!this.inputMessage.trim())return null;this.messages.push({content:this.inputMessage,isSelf:!0});const e=this.inputMessage;this.inputMessage="",setTimeout(()=>{this.messages.push({content:`收到您的消息："${e}"，我会尽快回复您。`,isSelf:!1})},1e3)}}});function n(e,m,o,g,a,c){return{a:s.o((...t)=>c.goBack&&c.goBack(...t)),b:s.t(a.teacherName),c:s.f(a.messages,(t,r,u)=>({a:s.t(t.content),b:s.n(t.isSelf?"self-message":"teacher-message"),c:r})),d:s.sei("msg-bottom","view"),e:a.inputMessage,f:s.o(t=>a.inputMessage=t.detail.value),g:s.o((...t)=>c.sendMessage&&c.sendMessage(...t)),h:s.sei(s.gei(e,""),"view")}}const i=s._export_sfc(h,[["render",n]]);wx.createPage(i);
//# sourceMappingURL=../../.sourcemap/mp-weixin/pagesChat/chat.js.map
