"use strict";const e=require("../../../../common/vendor.js"),u=require("./i18n/index.js"),r=e.initVueI18n(u.messages).t,s=e.defineComponent({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data(){return{show:!1,showSync:!1,searchVal:""}},computed:{cancelTextI18n(){return this.cancelText||r("uni-search-bar.cancel")},placeholderText(){return this.placeholder||r("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(n=null){this.searchVal=n,n&&(this.show=!0)}},focus:{immediate:!0,handler(n=null){if(n){if(this.readonly)return null;this.show=!0,this.$nextTick(()=>{this.showSync=!0})}}},searchVal(n=null,i=null){this.$emit("input",n),this.$emit("update:modelValue",n)}},methods:{searchClick(){if(this.readonly||this.show)return null;this.show=!0,this.$nextTick(()=>{this.showSync=!0})},clear(){this.$emit("clear",new UTSJSONObject({value:this.searchVal})),this.searchVal=""},cancel(){if(this.readonly)return null;this.$emit("cancel",new UTSJSONObject({value:this.searchVal})),this.searchVal="",this.show=!1,this.showSync=!1,e.index.hideKeyboard()},confirm(){e.index.hideKeyboard(),this.$emit("confirm",new UTSJSONObject({value:this.searchVal}))},blur(){e.index.hideKeyboard(),this.$emit("blur",new UTSJSONObject({value:this.searchVal}))},emitFocus(n=null){this.$emit("focus",n.detail)}}});Array||e.resolveComponent("uni-icons")();const h=()=>"../../../uni-icons/components/uni-icons/uni-icons.js";Math||h();function o(n,i,t,d,l,c){return e.e({a:e.p({color:"#c0c4cc",size:"18",type:"search"}),b:l.show||l.searchVal},l.show||l.searchVal?{c:l.showSync,d:t.readonly,e:c.placeholderText,f:t.maxlength,g:e.o((...a)=>c.confirm&&c.confirm(...a)),h:e.o((...a)=>c.blur&&c.blur(...a)),i:e.o((...a)=>c.emitFocus&&c.emitFocus(...a)),j:l.searchVal,k:e.o(a=>l.searchVal=a.detail.value)}:{l:e.t(t.placeholder)},{m:l.show&&(t.clearButton==="always"||t.clearButton==="auto"&&l.searchVal!=="")&&!t.readonly},l.show&&(t.clearButton==="always"||t.clearButton==="auto"&&l.searchVal!=="")&&!t.readonly?{n:e.p({color:"#c0c4cc",size:"20",type:"clear"}),o:e.o((...a)=>c.clear&&c.clear(...a))}:{},{p:t.radius+"px",q:t.bgColor,r:e.o((...a)=>c.searchClick&&c.searchClick(...a)),s:t.cancelButton==="always"||l.show&&t.cancelButton==="auto"},t.cancelButton==="always"||l.show&&t.cancelButton==="auto"?{t:e.t(c.cancelTextI18n),v:e.o((...a)=>c.cancel&&c.cancel(...a))}:{},{w:e.sei(e.gei(n,""),"view")})}const m=e._export_sfc(s,[["render",o]]);wx.createComponent(m);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.js.map
