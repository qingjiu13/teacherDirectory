"use strict";const e=require("./common/vendor.js"),s=require("./common/assets.js"),n=e.defineComponent({name:"HistorySidebar",props:{visible:{type:Boolean,default:!1},groupedHistory:{type:Object,default:()=>new UTSJSONObject({today:[],week:[],month:[]})},currentChatId:{type:String,default:""}},computed:Object.assign(Object.assign({},e.mapState(new UTSJSONObject({conversations:(a=null)=>{try{return a.user&&a.user.aiChat&&a.user.aiChat.aiChat?a.user.aiChat.aiChat.conversations||[]:[]}catch(d){return e.index.__f__("error","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:143","获取 conversations 状态出错:",d),[]}},activeConversation:(a=null)=>{try{return a.user&&a.user.aiChat&&a.user.aiChat.aiChat?a.user.aiChat.aiChat.activeConversation:null}catch(d){return e.index.__f__("error","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:153","获取 activeConversation 状态出错:",d),null}}}))),{hasAnyHistory(){const a=this.groupedHistory;return a.today&&a.today.length||a.week&&a.week.length||a.month&&a.month.length}}),created(){e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:170","=================== 调试信息开始 ==================="),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:171","完整的 Vuex store:",this.$store),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:172","Vuex store状态:",this.$store.state),this.$store.state.user?(e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:175","user模块状态:",this.$store.state.user),this.$store.state.user.aiChat?(e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:178","aiChat模块状态:",this.$store.state.user.aiChat),this.$store.state.user.aiChat.aiChat?(e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:181","内层 aiChat:",this.$store.state.user.aiChat.aiChat),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:182","内层 aiChat conversations:",this.$store.state.user.aiChat.aiChat.conversations)):(e.index.__f__("error","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:184","无法访问内层 aiChat!"),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:185","aiChat 模块完整内容:",UTS.JSON.stringify(this.$store.state.user.aiChat)))):e.index.__f__("error","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:188","无法访问 aiChat 模块!")):e.index.__f__("error","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:191","无法访问 user 模块!"),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:194","组件计算的 conversations:",this.conversations),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:195","组件计算的 historySummaries:",this.historySummaries),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:196","组件计算的 currentChatId:",this.currentChatId),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:197","=================== 调试信息结束 ===================")},methods:Object.assign(Object.assign({},e.mapActions(new UTSJSONObject({setActiveConversation:"user/aiChat/setCurrentChat",deleteConversation:"user/aiChat/deleteChat"}))),{getModeLabel(a=null){return new UTSJSONObject({general:"通用",school:"择校",career:"职业规划"})[a]||"通用"},loadChatHistory(a=null){this.setActiveConversation(a),this.$emit("loadChat",a)},deleteChatHistory(a=null,d=null){d&&(d.stopPropagation(),d.preventDefault()),e.index.__f__("log","at pages_AI_Login_Match/AI/ai-chat/HistorySidebar.vue:246","删除历史记录:",a),this.deleteConversation(a),this.$emit("deleteChat",a)}})});function c(a,d,r,g,l,i){return e.e({a:r.groupedHistory.today&&r.groupedHistory.today.length},r.groupedHistory.today&&r.groupedHistory.today.length?{b:e.f(r.groupedHistory.today,(t,h,_)=>e.e({a:r.currentChatId===t.id},r.currentChatId===t.id?e.e({b:e.t(t.abstract||t.title),c:t.chatMode},t.chatMode?{d:e.t(i.getModeLabel(t.chatMode))}:{},{e:s._imports_0$6,f:e.o(o=>i.deleteChatHistory(t.id,o),t.id),g:e.o(o=>i.loadChatHistory(t.id),t.id)}):e.e({h:e.t(t.abstract||t.title),i:t.chatMode},t.chatMode?{j:e.t(i.getModeLabel(t.chatMode))}:{},{k:s._imports_0$6,l:e.o(o=>i.deleteChatHistory(t.id,o),t.id),m:e.o(o=>i.loadChatHistory(t.id),t.id)}),{n:t.id,o:r.currentChatId===t.id?1:""}))}:{},{c:r.groupedHistory.week&&r.groupedHistory.week.length},r.groupedHistory.week&&r.groupedHistory.week.length?{d:e.f(r.groupedHistory.week,(t,h,_)=>e.e({a:r.currentChatId===t.id},r.currentChatId===t.id?e.e({b:e.t(t.abstract||t.title),c:t.chatMode},t.chatMode?{d:e.t(i.getModeLabel(t.chatMode))}:{},{e:s._imports_0$6,f:e.o(o=>i.deleteChatHistory(t.id,o),t.id),g:e.o(o=>i.loadChatHistory(t.id),t.id)}):e.e({h:e.t(t.abstract||t.title),i:t.chatMode},t.chatMode?{j:e.t(i.getModeLabel(t.chatMode))}:{},{k:s._imports_0$6,l:e.o(o=>i.deleteChatHistory(t.id,o),t.id),m:e.o(o=>i.loadChatHistory(t.id),t.id)}),{n:t.id,o:r.currentChatId===t.id?1:""}))}:{},{e:r.groupedHistory.month&&r.groupedHistory.month.length},r.groupedHistory.month&&r.groupedHistory.month.length?{f:e.f(r.groupedHistory.month,(t,h,_)=>e.e({a:r.currentChatId===t.id},r.currentChatId===t.id?e.e({b:e.t(t.abstract||t.title),c:t.chatMode},t.chatMode?{d:e.t(i.getModeLabel(t.chatMode))}:{},{e:s._imports_0$6,f:e.o(o=>i.deleteChatHistory(t.id,o),t.id),g:e.o(o=>i.loadChatHistory(t.id),t.id)}):e.e({h:e.t(t.abstract||t.title),i:t.chatMode},t.chatMode?{j:e.t(i.getModeLabel(t.chatMode))}:{},{k:s._imports_0$6,l:e.o(o=>i.deleteChatHistory(t.id,o),t.id),m:e.o(o=>i.loadChatHistory(t.id),t.id)}),{n:t.id,o:r.currentChatId===t.id?1:""}))}:{},{g:!i.hasAnyHistory},i.hasAnyHistory?{}:{},{h:e.sei(e.gei(a,""),"view"),i:r.visible?1:""})}const u=e._export_sfc(n,[["render",c]]);exports.Component=u;
//# sourceMappingURL=../.sourcemap/mp-weixin/HistorySidebar.js.map
