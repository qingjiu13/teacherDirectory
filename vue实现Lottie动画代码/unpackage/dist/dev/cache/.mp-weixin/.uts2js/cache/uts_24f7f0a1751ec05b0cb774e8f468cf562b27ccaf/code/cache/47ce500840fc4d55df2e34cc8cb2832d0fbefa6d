{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { o as _o, toDisplayString as _toDisplayString, t as _t, f as _f, sei as _sei, gei as _gei, e as _e } from \"vue\";\nimport { ref, reactive, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { Navigator } from '@/router/Router.js';\n// 实例化store\nexport default /*#__PURE__*/ _defineComponent(new UTSJSONObject({\n    __name: 'match',\n    setup(__props) {\n        const store = useStore();\n        // 选项列表\n        const options = [\n            new UTSJSONObject({ key: 'school', label: '学校' }),\n            new UTSJSONObject({ key: 'professional', label: '专业课' }),\n            new UTSJSONObject({ key: 'nonProfessional', label: '非专业课' }),\n            new UTSJSONObject({ key: 'filter', label: '筛选' })\n        ];\n        // 当前激活的选项\n        const currentOption = ref('');\n        // 弹层显示控制\n        const showPopup = ref(false);\n        // 记录已修改的选项\n        const changedOptions = reactive(new UTSJSONObject({}));\n        // 加载状态\n        const isLoading = ref(false);\n        // 老师列表数据\n        const matchTeachers = ref([]);\n        // 选择数据\n        const selectedSchool = ref('');\n        const selectedProfessional = ref('');\n        const selectedNonProfessional = ref('');\n        const filterOptions = reactive(new UTSJSONObject({\n            certified: null\n        }));\n        /**\n         * 获取弹出层标题\n         * @returns {String} 当前选项的标题\n         */\n        const getPopupTitle = () => {\n            const option = UTS.arrayFind(options, o => { return o.key === currentOption.value; });\n            return option ? option.label : '';\n        };\n        // 判断是否高亮\n        const isActive = (key = null) => {\n            // 专业课和非专业课互斥\n            if (key === 'professional' && changedOptions.nonProfessional)\n                return false;\n            if (key === 'nonProfessional' && changedOptions.professional)\n                return false;\n            // 若已修改，则保持高亮\n            if (changedOptions[key])\n                return true;\n            // 若当前正激活\n            return currentOption.value === key;\n        };\n        // 点击选项\n        const onOptionClick = (key = null) => {\n            // 专业/非专业互斥：若其中一个已选且已修改，不可点击另一个\n            if ((key === 'professional' && changedOptions.nonProfessional) ||\n                (key === 'nonProfessional' && changedOptions.professional)) {\n                return null;\n            }\n            // 如果点击的是已经打开的选项，则关闭弹窗\n            if (currentOption.value === key && showPopup.value) {\n                showPopup.value = false;\n                currentOption.value = '';\n                return null;\n            }\n            currentOption.value = key;\n            showPopup.value = true;\n            // 标记该选项已被选择（模拟行为）\n            if (!changedOptions[key]) {\n                changedOptions[key] = true;\n            }\n        };\n        // 弹层关闭\n        const onPopupClose = () => {\n            showPopup.value = false;\n            // 若此选项未修改，取消激活\n            if (!changedOptions[currentOption.value]) {\n                currentOption.value = '';\n            }\n        };\n        /**\n         * 查看老师详情\n         * @param {String} teacherId - 老师ID\n         */\n        const viewTeacherDetail = (teacherId = null) => {\n            Navigator.toTeacher(teacherId);\n        };\n        /**\n         * 处理沟通按钮点击\n         * @param {String} teacherId - 老师ID\n         */\n        const handleCommunicate = (teacherId = null) => {\n            Navigator.toChat(teacherId);\n        };\n        /**\n         * 加载更多老师数据\n         */\n        const loadMoreTeachers = () => {\n            if (isLoading.value)\n                return null;\n            isLoading.value = true;\n            // 这里只是模拟加载效果，后续会由实际接口替代\n            setTimeout(() => {\n                isLoading.value = false;\n            }, 1000);\n        };\n        // 在组件挂载时获取数据\n        onMounted(() => {\n            // 从store获取教师列表数据\n            if (store.state.user && store.state.user.match) {\n                matchTeachers.value = store.state.user.match.matchList || [];\n            }\n        });\n        // 专业课和非专业课选择后互斥\n        const onProfessionalSelected = (majorName = null) => {\n            if (selectedProfessional.value !== majorName) {\n                selectedProfessional.value = majorName;\n                selectedNonProfessional.value = ''; // 修改了才挤掉非专业课\n            }\n        };\n        const onNonProfessionalSelected = (nonMajorName = null) => {\n            if (selectedNonProfessional.value !== nonMajorName) {\n                selectedNonProfessional.value = nonMajorName;\n                selectedProfessional.value = ''; // 修改了才挤掉专业课\n            }\n        };\n        return (_ctx = null, _cache = null) => {\n            const __returned__ = _e(new UTSJSONObject({\n                a: _ctx.searchText,\n                b: _o(($event = null) => { return _ctx.searchText = $event.detail.value; }),\n                c: _f(options, (item = null, k0 = null, i0 = null) => {\n                    return new UTSJSONObject({\n                        a: _t(item.label),\n                        b: currentOption.value === item.key ? 1 : '',\n                        c: item.key,\n                        d: isActive(item.key) ? 1 : '',\n                        e: _o(($event = null) => { return onOptionClick(item.key); }, item.key)\n                    });\n                }),\n                d: showPopup.value\n            }), showPopup.value ? new UTSJSONObject({\n                e: _o(onPopupClose)\n            }) : new UTSJSONObject({}), new UTSJSONObject({\n                f: showPopup.value\n            }), showPopup.value ? _e(new UTSJSONObject({\n                g: _t(getPopupTitle()),\n                h: _o(onPopupClose),\n                i: changedOptions[currentOption.value]\n            }), changedOptions[currentOption.value] ? new UTSJSONObject({}) : new UTSJSONObject({})) : new UTSJSONObject({}), new UTSJSONObject({\n                j: _f(matchTeachers.value, (teacher = null, index = null, i0 = null) => {\n                    return _e(new UTSJSONObject({\n                        a: teacher.avatar || '/static/image/tab-bar/default_avatar.png',\n                        b: _o(($event = null) => { return viewTeacherDetail(teacher.id); }, teacher.id || index),\n                        c: _t(teacher.name),\n                        d: _t(teacher.school),\n                        e: _t(teacher.major),\n                        f: _t(teacher.teacherScore),\n                        g: teacher.certificate\n                    }), teacher.certificate ? new UTSJSONObject({}) : new UTSJSONObject({}), new UTSJSONObject({\n                        h: _o(($event = null) => { return handleCommunicate(teacher.id); }, teacher.id || index),\n                        i: teacher.id || index\n                    }));\n                }),\n                k: matchTeachers.value.length === 0 && !isLoading.value\n            }), matchTeachers.value.length === 0 && !isLoading.value ? new UTSJSONObject({}) : new UTSJSONObject({}), new UTSJSONObject({\n                l: isLoading.value\n            }), isLoading.value ? new UTSJSONObject({}) : new UTSJSONObject({}), new UTSJSONObject({\n                m: _sei('step2', 'scroll-view'),\n                n: _o(loadMoreTeachers),\n                o: _sei(_gei(_ctx, ''), 'view')\n            }));\n            return __returned__;\n        };\n    }\n}));\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pages/match/match.vue?vue&type=script&setup=true&lang.uts.js.map","references":["E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/vuex/types/index.d.ts","E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/router/Router.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"match.vue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"match.vue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
