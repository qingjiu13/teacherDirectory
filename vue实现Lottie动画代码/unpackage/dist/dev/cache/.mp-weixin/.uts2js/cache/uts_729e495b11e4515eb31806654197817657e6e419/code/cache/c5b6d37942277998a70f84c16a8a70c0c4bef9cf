{"code":"import { defineComponent } from \"vue\";\n/**\n * @description 历史记录侧边栏组件\n * @property {Boolean} visible - 侧边栏是否可见\n * @property {Array} historySummaries - 历史聊天摘要数组（只包含ID和标题等基本信息）\n * @property {String} currentChatId - 当前选中的聊天ID\n * @event {Function} loadChat - 加载聊天历史记录\n * @event {Function} deleteChat - 删除聊天历史记录\n */\nexport default defineComponent({\n    name: \"HistorySidebar\",\n    props: {\n        visible: new UTSJSONObject({\n            type: Boolean,\n            default: false\n        }),\n        historySummaries: new UTSJSONObject({\n            type: Array,\n            default: () => { return []; }\n        }),\n        currentChatId: new UTSJSONObject({\n            type: String,\n            default: ''\n        })\n    },\n    methods: new UTSJSONObject({\n        /**\n         * @description 加载聊天历史\n         * @param {String} chatId - 聊天ID\n         */\n        loadChatHistory(chatId = null) {\n            this.$emit('loadChat', chatId);\n        },\n        /**\n         * @description 删除历史记录\n         * @param {String} chatId - 聊天ID\n         * @param {Event} e - 事件对象，用于阻止冒泡\n         */\n        deleteChatHistory(chatId = null, e = null) {\n            // 确保阻止事件冒泡，避免触发点击加载历史记录\n            if (e) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n            uni.__f__('log', 'at components/ai-chat/HistorySidebar.vue:76', '删除历史记录:', chatId);\n            this.$emit('deleteChat', chatId);\n        },\n        /**\n         * @description 格式化时间\n         * @param {Date|String} time - 时间对象或时间字符串\n         * @returns {String} 格式化后的时间字符串\n         */\n        formatTime(time = null) {\n            if (!time)\n                return '';\n            const date = new Date(time);\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            return `${year}-${month}-${day} ${hours}:${minutes}`;\n        }\n    })\n});\n//# sourceMappingURL=E:/yanshilu%E9%87%8D%E6%96%B0%E6%9D%A5%E8%BF%87/%E9%92%88%E5%AF%B9%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%9A%84%E4%BF%AE%E6%94%B9/components/ai-chat/HistorySidebar.vue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.__f__"],"map":"{\"version\":3,\"file\":\"HistorySidebar.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"HistorySidebar.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC;;;;;;;GAOG;AACH,+BAAe;IACd,IAAI,EAAE,gBAAgB;IACtB,KAAK,EAAE;QACN,OAAO,oBAAE;YACR,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,KAAK;SACd,CAAA;QACD,gBAAgB,oBAAE;YACjB,IAAI,EAAE,KAAK;YACX,OAAO,EAAE,QAAM,OAAA,EAAE,EAAF,CAAE;SACjB,CAAA;QACD,aAAa,oBAAE;YACd,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;SACX,CAAA;KACD;IACD,OAAO,oBAAE;QACR;;;WAGG;QACH,eAAe,CAAC,MAAM,OAAA;YACrB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAChC,CAAC;QAED;;;;WAIG;QACH,iBAAiB,CAAC,MAAM,OAAA,EAAE,CAAC,OAAA;YAC1B,wBAAwB;YACxB,IAAI,CAAC,EAAE;gBACN,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,CAAC,CAAC,cAAc,EAAE,CAAC;aACnB;YAED,GAAG,CAAC,KAAK,CAAC,KAAK,EAAC,6CAA6C,EAAC,SAAS,EAAE,MAAM,CAAC,CAAC;YACjF,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAClC,CAAC;QAED;;;;WAIG;QACH,UAAU,CAAC,IAAI,OAAA;YACd,IAAI,CAAC,IAAI;gBAAE,OAAO,EAAE,CAAC;YAErB,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5B,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAChC,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;YAC3D,MAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;YACpD,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;YACvD,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;YAE3D,OAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,OAAO,EAAE,CAAC;QACtD,CAAC;KACD,CAAA;CACD,EAAA\"}"}
