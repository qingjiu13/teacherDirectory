{"code":"import { defineComponent } from \"vue\";\nimport choiceSelected from '../combobox/combobox.vue';\n/**\n * 级联选择组件\n * @description 用于实现级联选择的通用组件，基于combobox\n */\nexport default defineComponent({\n    name: 'CascadeSelector',\n    components: {\n        choiceSelected\n    },\n    props: {\n        /**\n         * 选项列表\n         * @type {Array}\n         * @default []\n         */\n        options: {\n            type: Array,\n            default: () => { return []; }\n        },\n        /**\n         * 是否禁用\n         * @type {Boolean}\n         * @default false\n         */\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        /**\n         * 占位文本\n         * @type {String}\n         * @default '请选择'\n         */\n        placeholder: {\n            type: String,\n            default: '请选择'\n        },\n        /**\n         * 选中的值\n         * @type {String|Number}\n         * @default ''\n         */\n        value: {\n            type: [String, Number],\n            default: ''\n        },\n        /**\n         * 是否支持搜索\n         * @type {Boolean}\n         * @default false\n         */\n        searchable: {\n            type: Boolean,\n            default: false\n        },\n        /**\n         * 搜索框占位文本\n         * @type {String}\n         * @default '搜索'\n         */\n        searchPlaceholder: {\n            type: String,\n            default: '搜索'\n        },\n        /**\n         * 下拉框宽度\n         * @type {String}\n         * @default '100%'\n         */\n        width: {\n            type: String,\n            default: '100%'\n        }\n    },\n    data() {\n        return {\n            selectedIndex: -1,\n            searchKeyword: ''\n        };\n    },\n    computed: {\n        /**\n         * 格式化选项，将options转换为combobox需要的格式\n         * @returns {Array} 格式化后的选项列表\n         */\n        formattedOptions() {\n            return this.options.map((item = null) => { return (new UTSJSONObject({\n                choiceItemId: item.value,\n                choiceItemContent: item.label,\n                choiceItemValue: item.value\n            })); });\n        }\n    },\n    watch: {\n        /**\n         * 监听value变化，更新选中索引\n         */\n        value: {\n            handler(newVal = null) {\n                if (newVal) {\n                    const index = this.options.findIndex((item = null) => { return item.value === newVal; });\n                    this.selectedIndex = index;\n                }\n                else {\n                    this.selectedIndex = -1;\n                }\n            },\n            immediate: true\n        }\n    },\n    created() {\n        // 创建时根据传入的value设置初始选中状态\n        if (this.value) {\n            const index = this.options.findIndex((item = null) => { return item.value === this.value; });\n            this.selectedIndex = index;\n        }\n    },\n    methods: {\n        /**\n         * 选择选项\n         * @param {Number} index 选项索引\n         */\n        selectOption(index = null) {\n            this.selectedIndex = index;\n            const item = this.options[index];\n            // 向父组件发送选择事件\n            if (item) {\n                this.$emit('input', item.value);\n                this.$emit('change', item);\n            }\n        },\n        /**\n         * 搜索事件处理\n         * @param {String} keyword 搜索关键词\n         */\n        onSearch(keyword = null) {\n            this.searchKeyword = keyword;\n            this.$emit('search', keyword);\n        },\n        /**\n         * 关闭下拉框\n         */\n        closeDropdown() {\n            // 使用ref获取组件实例\n            if (this.$refs.comboboxRef && this.$refs.comboboxRef.closeDropdown) {\n                this.$refs.comboboxRef.closeDropdown();\n            }\n        }\n    }\n});\n//# sourceMappingURL=D:/github/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/components/cascade-container/cascade-selector.vue?vue&type=script&lang.uts.js.map","references":["D:/github/teacherDirectory/vue实现Lottie动画代码/components/combobox/combobox.vue.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"cascade-selector.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"cascade-selector.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
