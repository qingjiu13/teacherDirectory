{"code":"import { defineComponent } from \"vue\";\n// 导入顶部导航栏组件\nimport topNavbar from '@/components/top-navbar/top-navbar.vue';\nexport default defineComponent(new UTSJSONObject({\n    components: {\n        topNavbar\n    },\n    data() {\n        return {\n            currentTab: 0,\n            // 更具体的时间段选择\n            timeSlots: [\n                new UTSJSONObject({ period: '上午', slots: ['08:00-09:00', '09:00-10:00', '10:00-11:00', '11:00-12:00'] }),\n                new UTSJSONObject({ period: '下午', slots: ['13:00-14:00', '14:00-15:00', '15:00-16:00', '16:00-17:00'] }),\n                new UTSJSONObject({ period: '晚上', slots: ['18:00-19:00', '19:00-20:00', '20:00-21:00'] })\n            ],\n            selectedTimeSlot: '',\n            selectedTimePeriod: '',\n            // 待预约课程数据 - 修改为考研相关课程\n            pendingCourses: [\n                new UTSJSONObject({\n                    id: 1,\n                    name: \"考研政治精讲班\",\n                    teacher: \"王老师\",\n                    time: \"2023-12-15 14:00\",\n                    price: 399,\n                    image: \"/static/images/default_avatar.png\",\n                    description: \"系统讲解考研政治马原、毛中特、思修法基、当代世界经济与政治重点内容。\"\n                }),\n                new UTSJSONObject({\n                    id: 2,\n                    name: \"考研数学基础班\",\n                    teacher: \"李老师\",\n                    time: \"2023-12-16 10:00\",\n                    price: 499,\n                    image: \"/static/images/default_avatar.png\",\n                    description: \"覆盖高等数学、线性代数、概率论与数理统计核心知识点，夯实数学基础。\"\n                }),\n                new UTSJSONObject({\n                    id: 3,\n                    name: \"考研英语词汇班\",\n                    teacher: \"张老师\",\n                    time: \"2023-12-17 15:00\",\n                    price: 349,\n                    image: \"/static/images/default_avatar.png\",\n                    description: \"掌握考研英语必备5500词汇，提高阅读理解和写作能力。\"\n                }),\n                new UTSJSONObject({\n                    id: 4,\n                    name: \"计算机专业课辅导\",\n                    teacher: \"陈老师\",\n                    time: \"2023-12-18 19:00\",\n                    price: 549,\n                    image: \"/static/images/default_avatar.png\",\n                    description: \"针对计算机专业考生，讲解数据结构、操作系统、计算机网络等核心科目。\"\n                })\n            ],\n            // 已预约课程数据\n            reservedCourses: [\n                new UTSJSONObject({\n                    id: 5,\n                    name: \"考研专业课强化班\",\n                    teacher: \"赵老师\",\n                    price: 599,\n                    reservedTime: \"2023-12-18 14:00\",\n                    image: \"/static/images/default_avatar.png\",\n                    description: \"针对专业课考试，深入讲解重点难点，提供真题分析和解题技巧。\"\n                }),\n                new UTSJSONObject({\n                    id: 6,\n                    name: \"考研政治冲刺班\",\n                    teacher: \"孙老师\",\n                    price: 449,\n                    reservedTime: \"2023-12-19 10:00\",\n                    image: \"/static/images/default_avatar.png\",\n                    description: \"考前政治热点分析，提供答题模板和背诵要点，助力考研政治高分。\"\n                })\n            ],\n            // 已完成课程数据\n            completedCourses: [\n                new UTSJSONObject({\n                    id: 7,\n                    name: \"考研英语写作班\",\n                    teacher: \"黄老师\",\n                    price: 399,\n                    completedTime: \"2023-12-10 15:00\",\n                    image: \"/static/images/default_avatar.png\"\n                }),\n                new UTSJSONObject({\n                    id: 8,\n                    name: \"考研复试指导课\",\n                    teacher: \"周老师\",\n                    price: 499,\n                    completedTime: \"2023-12-15 09:00\",\n                    image: \"/static/images/default_avatar.png\"\n                })\n            ],\n            currentCourseIndex: null,\n            selectedDate: null\n        };\n    },\n    onLoad() {\n        // 初始化页面数据，可以从服务器获取\n        this.loadCourseData();\n    },\n    methods: new UTSJSONObject({\n        // 处理顶部导航栏组件的标签切换事件\n        onTabChange(index = null) {\n            this.currentTab = index;\n            // 重置时间选择\n            if (index === 0) {\n                this.selectedTimeSlot = '';\n                this.selectedTimePeriod = '';\n            }\n        },\n        // 重置日期选择\n        resetDateSelection() {\n            this.selectedDate = null;\n            this.selectedTimeSlot = '';\n            this.selectedTimePeriod = '';\n        },\n        // 处理预约 - 修改为显示日历\n        handleReserve(index = null) {\n            this.currentCourseIndex = index;\n            // 如果已经选择了日期，则显示时间选择弹窗\n            if (this.selectedDate) {\n                this.showTimeSelectionDialog();\n            }\n            else {\n                // 显示日历选择器\n                this.$refs.calendar.open();\n            }\n        },\n        // 日历确认事件\n        onCalendarConfirm(e = null) {\n            this.selectedDate = e.fulldate;\n            // 选择日期后立即显示时间选择弹窗\n            this.$nextTick(() => {\n                this.showTimeSelectionDialog();\n            });\n        },\n        // 显示时间选择弹窗\n        showTimeSelectionDialog() {\n            // 构建时间段选项\n            const periodOptions = this.timeSlots.map(item => { return item.period; });\n            // 先选择时间段（上午/下午/晚上）\n            uni.showActionSheet({\n                itemList: periodOptions,\n                success: (res) => {\n                    this.selectedTimePeriod = periodOptions[res.tapIndex];\n                    const selectedPeriod = this.timeSlots[res.tapIndex];\n                    // 然后选择具体时间\n                    setTimeout(() => {\n                        uni.showActionSheet({\n                            itemList: selectedPeriod.slots,\n                            success: (timeRes) => {\n                                this.selectedTimeSlot = selectedPeriod.slots[timeRes.tapIndex];\n                                // 选择完时间后显示确认预约弹窗\n                                this.confirmReservation();\n                            }\n                        });\n                    }, 300);\n                }\n            });\n        },\n        // 确认预约\n        confirmReservation() {\n            const course = this.pendingCourses[this.currentCourseIndex];\n            // 显示确认弹窗\n            uni.showModal(new UTSJSONObject({\n                title: '确认预约',\n                content: `课程：${course.name}\\n日期：${this.selectedDate}\\n时间：${this.selectedTimeSlot}`,\n                success: (res) => {\n                    if (res.confirm) {\n                        // 将预约成功的课程添加到已预约列表\n                        this.reservedCourses.push(Object.assign(Object.assign({}, course), { reservedTime: `${this.selectedDate} ${this.selectedTimeSlot}` }));\n                        // 从待预约列表中删除\n                        this.pendingCourses.splice(this.currentCourseIndex, 1);\n                        uni.showToast({\n                            title: '预约成功',\n                            icon: 'success',\n                            duration: 2000\n                        });\n                        // 重置状态\n                        this.currentCourseIndex = null;\n                        this.selectedDate = null;\n                        this.selectedTimeSlot = '';\n                        this.selectedTimePeriod = '';\n                    }\n                }\n            }));\n        },\n        // 取消预约\n        cancelReservation(index = null) {\n            uni.showModal(new UTSJSONObject({\n                title: '确认取消',\n                content: '确定要取消此预约吗？',\n                success: (res) => {\n                    if (res.confirm) {\n                        // 将取消的课程移回待预约列表\n                        const canceledCourse = this.reservedCourses[index];\n                        this.pendingCourses.push(Object.assign(Object.assign({}, canceledCourse), { time: canceledCourse.reservedTime.split(' ')[1] }));\n                        // 从已预约列表中删除\n                        this.reservedCourses.splice(index, 1);\n                        uni.showToast({\n                            title: '已取消预约',\n                            icon: 'success',\n                            duration: 2000\n                        });\n                    }\n                }\n            }));\n        },\n        // 跳转到评价页面\n        goToAppraise(course = null) {\n            uni.navigateTo({\n                url: `/pages/mine/order/appraise/appraise?courseId=${course.id}&courseName=${course.name}&teacherName=${course.teacher}&price=${course.price}`\n            });\n        },\n        // 获取今天的日期\n        getToday() {\n            const today = new Date();\n            return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;\n        },\n        // 获取一个月后的日期（日历结束日期）\n        getNextMonth() {\n            const today = new Date();\n            const nextMonth = new Date(today);\n            nextMonth.setMonth(today.getMonth() + 1);\n            return `${nextMonth.getFullYear()}-${String(nextMonth.getMonth() + 1).padStart(2, '0')}-${String(nextMonth.getDate()).padStart(2, '0')}`;\n        },\n        // 加载课程数据\n        loadCourseData() {\n            // 真实环境中可以从服务器获取数据\n            uni.__f__('log', 'at pages/mine/course/course.vue:352', '加载课程数据');\n        }\n    })\n}));\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pages/mine/course/course.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/components/top-navbar/top-navbar.vue.ts"],"uniExtApis":["uni.showActionSheet","uni.showModal","uni.showToast","uni.navigateTo","uni.__f__"],"map":"{\"version\":3,\"file\":\"course.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"course.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
