{"code":"import { defineComponent } from \"vue\";\nimport ChoiceSelected from '../../components/combobox/combobox';\nimport { mapState } from 'vuex';\nexport default defineComponent({\n    components: {\n        ChoiceSelected,\n    },\n    data() {\n        return {\n            formData: new UTSJSONObject({\n                nickname: '',\n                gender: '男',\n                phone: '',\n                schoolIndex: -1,\n                majorIndex: -1,\n                gradeIndex: -1,\n                teacherScore: ''\n            }),\n            schoolList: [\n                '北京大学',\n                '清华大学',\n                '复旦大学',\n                '上海交通大学',\n                '浙江大学',\n            ],\n            majorList: [\n                '计算机科学',\n                '电子工程',\n                '机械工程',\n                '经济学',\n                '法学',\n            ],\n            gradeList: ['大一', '大二', '大三', '大四', '研究生'],\n        };\n    },\n    computed: new UTSJSONObject(Object.assign({}, mapState(new UTSJSONObject({\n        userRole: (state = null) => { return state.user.baseInfo.userInfo.role; }\n    })))),\n    methods: {\n        handleSchoolSelect(index = null) {\n            this.formData.schoolIndex = index;\n        },\n        handleMajorSelect(index = null) {\n            this.formData.majorIndex = index;\n        },\n        handleGradeSelect(index = null) {\n            this.formData.gradeIndex = index;\n        },\n        /**\n         * 提交表单信息\n         */\n        submitForm() {\n            // 验证表单内容\n            if (!this.validateForm()) {\n                return null;\n            }\n            // 构建用户信息对象\n            const userInfo = new UTSJSONObject({\n                name: this.formData.nickname,\n                gender: this.formData.gender,\n                phoneNumber: this.formData.phone,\n                userInfo: new UTSJSONObject({\n                    school: this.schoolList[this.formData.schoolIndex] || '',\n                    major: this.majorList[this.formData.majorIndex] || '',\n                    studentGrade: this.userRole === '学生' ? this.gradeList[this.formData.gradeIndex] || '' : '',\n                    teacherGrade: this.userRole === '老师' ? this.gradeList[this.formData.gradeIndex] || '' : '',\n                })\n            });\n            // 如果是老师，添加考研分数\n            if (this.userRole === '老师' && this.formData.teacherScore) {\n                userInfo.userInfo.teacherScore = parseInt(this.formData.teacherScore);\n            }\n            // 更新用户信息到vuex\n            this.$store.commit('user/baseInfo/UPDATE_USER_INFO', userInfo);\n            // 提示成功\n            uni.showToast({\n                title: '信息保存成功',\n                icon: 'success'\n            });\n            // 跳转到下一个页面\n            setTimeout(() => {\n                uni.switchTab({\n                    url: '/pages/index/index'\n                });\n            }, 1500);\n        },\n        /**\n         * 验证表单内容\n         * @returns {boolean} 验证是否通过\n         */\n        validateForm() {\n            if (!this.formData.nickname) {\n                uni.showToast({\n                    title: '请输入昵称',\n                    icon: 'none'\n                });\n                return false;\n            }\n            if (!this.formData.phone) {\n                uni.showToast({\n                    title: '请输入手机号',\n                    icon: 'none'\n                });\n                return false;\n            }\n            if (this.formData.schoolIndex === -1) {\n                uni.showToast({\n                    title: '请选择学校',\n                    icon: 'none'\n                });\n                return false;\n            }\n            if (this.formData.majorIndex === -1) {\n                uni.showToast({\n                    title: '请选择专业',\n                    icon: 'none'\n                });\n                return false;\n            }\n            if (this.formData.gradeIndex === -1) {\n                uni.showToast({\n                    title: '请选择年级',\n                    icon: 'none'\n                });\n                return false;\n            }\n            if (this.userRole === '老师' && !this.formData.teacherScore) {\n                uni.showToast({\n                    title: '请输入考研分数',\n                    icon: 'none'\n                });\n                return false;\n            }\n            return true;\n        }\n    },\n    created() {\n        uni.__f__('log', 'at pages/login/login_detail.vue:232', '当前用户角色:', this.userRole);\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/vue%E5%AE%9E%E7%8E%B0Lottie%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81/pages/login/login_detail.vue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/vue实现Lottie动画代码/components/combobox/combobox.vue.ts","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/vuex/types/index.d.ts"],"uniExtApis":["uni.showToast","uni.switchTab","uni.__f__"],"map":"{\"version\":3,\"file\":\"login_detail.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"login_detail.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACA,OAAO,cAAc,MAAM,oCAAoC,CAAA;AAC/D,OAAO,EAAE,QAAQ,EAAE,MAAM,MAAM,CAAA;AAE/B,+BAAe;IACb,UAAU,EAAE;QACV,cAAc;KACf;IACD,IAAI;QACF,OAAO;YACL,QAAQ,oBAAE;gBACR,QAAQ,EAAE,EAAE;gBACZ,MAAM,EAAE,GAAG;gBACX,KAAK,EAAE,EAAE;gBACT,WAAW,EAAE,CAAC,CAAC;gBACf,UAAU,EAAE,CAAC,CAAC;gBACd,UAAU,EAAE,CAAC,CAAC;gBACd,YAAY,EAAE,EAAE;aACjB,CAAA;YACD,UAAU,EAAE;gBACV,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,MAAM;aACP;YACD,SAAS,EAAE;gBACT,OAAO;gBACP,MAAM;gBACN,MAAM;gBACN,KAAK;gBACL,IAAI;aACL;YACD,SAAS,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;SAC3C,CAAC;IACJ,CAAC;IACD,QAAQ,sCACH,QAAQ,mBAAC;QACV,QAAQ,EAAE,CAAA,KAAK,OAAA,OAAI,OAAA,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAjC,CAAiC;KACrD,EAAC,EACH;IACD,OAAO,EAAE;QACP,kBAAkB,CAAC,KAAK,OAAA;YACtB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,KAAK,CAAC;QACpC,CAAC;QACD,iBAAiB,CAAC,KAAK,OAAA;YACrB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;QACnC,CAAC;QACD,iBAAiB,CAAC,KAAK,OAAA;YACrB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;QACnC,CAAC;QACD;;WAEG;QACH,UAAU;YACR,SAAS;YACT,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;gBACxB,YAAO;aACR;YAED,WAAW;YACX,MAAM,QAAQ,qBAAG;gBACf,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ;gBAC5B,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAC5B,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK;gBAChC,QAAQ,oBAAE;oBACR,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE;oBACxD,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE;oBACrD,YAAY,EAAE,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE;oBAC1F,YAAY,EAAE,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE;iBAC3F,CAAA;aACF,CAAA,CAAC;YAEF,eAAe;YACf,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;gBACxD,QAAQ,CAAC,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;aACvE;YAED,cAAc;YACd,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,gCAAgC,EAAE,QAAQ,CAAC,CAAC;YAE/D,OAAO;YACP,GAAG,CAAC,SAAS,CAAC;gBACZ,KAAK,EAAE,QAAQ;gBACf,IAAI,EAAE,SAAS;aAChB,CAAC,CAAC;YAEH,WAAW;YACX,UAAU,CAAC;gBACT,GAAG,CAAC,SAAS,CAAC;oBACZ,GAAG,EAAE,oBAAoB;iBAC1B,CAAC,CAAC;YACL,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC;QACD;;;WAGG;QACH,YAAY;YACV,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBAC3B,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;gBACxB,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,QAAQ;oBACf,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,KAAK,CAAC,CAAC,EAAE;gBACpC,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,CAAC,CAAC,EAAE;gBACnC,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,CAAC,CAAC,EAAE;gBACnC,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;gBACzD,GAAG,CAAC,SAAS,CAAC;oBACZ,KAAK,EAAE,SAAS;oBAChB,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,OAAO,IAAI,CAAC;QACd,CAAC;KACF;IACD,OAAO;QACL,GAAG,CAAC,KAAK,CAAC,KAAK,EAAC,qCAAqC,EAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAClF,CAAC;CACF,EAAC\"}"}
