<template>
  <view class="container">
    <!-- 公共头部 -->
    <header>欢迎, {{ userName }}</header>
    
    <!-- 动态内容区 -->
    <view v-if="userRole === 'teacher'">
      <include src="./teacher_mine.uvue"></include>
    </view>
    
    <view v-else-if="userRole === 'student'">
      <include src="./student_mine.uvue"></include>
    </view>
    
    <!-- 公共底部 -->
    <footer>yanshilu</footer>
    
    <!-- 底部导航栏 -->
    <tab-bar pageName="mine"></tab-bar>
  </view>
</template>

<script>
/**
 * @description 我的页面（通用）
 */
import { Navigator } from '@/router/Router.js';
import TabBar from '@/components/tab-bar/tab-bar.uvue';

export default {
  components: {
    TabBar
  },
  data() {
    return {
      userRole: '', // 从全局状态或API获取
      userName: '',
      userData: {}
    }
  },
  onLoad() {
    // 获取用户角色信息
    this.userRole = uni.getStorageSync('userRole');
    this.loadUserData();
  },
  methods: {
    /**
     * @description 加载用户数据
     */
    loadUserData() {
      // 根据角色加载不同数据
    }
  }
}
</script>

<style>
.container {
  display: flex;
  flex-direction: column;
  min-height: 100%;
  padding-bottom: 55px; /* 为底部导航栏留出空间 */
}
header {
  padding: 20rpx;
  font-size: 32rpx;
  text-align: center;
}
footer {
  padding: 20rpx;
  font-size: 24rpx;
  text-align: center;
  color: #999;
}
</style>