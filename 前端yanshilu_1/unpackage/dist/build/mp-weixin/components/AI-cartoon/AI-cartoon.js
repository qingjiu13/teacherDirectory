"use strict";const t=require("../../common/vendor.js"),i=t.defineComponent({name:"AICartoon",data(){const t=new UTSJSONObject({iconPath:"/static/image/tab-bar/default_avatar.png",initialLeft:20,initialTop:100,size:60,animation:new UTSJSONObject({duration:2,distance:10})});return{config:t,iconPath:t.iconPath,iconLeft:t.initialLeft,iconTop:t.initialTop,startX:0,startY:0,isMoving:!1,isDragging:!1}},mounted(){"undefined"!=typeof window&&(window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},beforeDestroy(){"undefined"!=typeof window&&(window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp))},methods:{handleTouchStart(t=null){this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this.isMoving=!1},handleTouchMove(t=null){const i=t.touches[0].clientX-this.startX,n=t.touches[0].clientY-this.startY;(Math.abs(i)>5||Math.abs(n)>5)&&(this.isMoving=!0);const o=(this.iconLeft||0)+i,e=(this.iconTop||0)+n;this.updatePosition(o,e),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},handleTouchEnd(){},handleMouseDown(t=null){this.startX=t.clientX,this.startY=t.clientY,this.isMoving=!1,this.isDragging=!0,t.preventDefault()},handleMouseMove(t=null){if(!this.isDragging)return null;const i=t.clientX-this.startX,n=t.clientY-this.startY;(Math.abs(i)>5||Math.abs(n)>5)&&(this.isMoving=!0);const o=(this.iconLeft||0)+i,e=(this.iconTop||0)+n;this.updatePosition(o,e),this.startX=t.clientX,this.startY=t.clientY},handleMouseUp(){this.isDragging=!1},updatePosition(i=null,n=null){this.iconLeft=i,this.iconTop=n;const o=t.index.getWindowInfo(),e=o.windowWidth,s=o.windowHeight,a=this.config.size||60;this.iconLeft<0&&(this.iconLeft=0),this.iconLeft>e-a&&(this.iconLeft=e-a),this.iconTop<0&&(this.iconTop=0),this.iconTop>s-a&&(this.iconTop=s-a)},handleIconClick(){this.isMoving||t.index.navigateTo({url:"/pages/AI/AI"}),this.isMoving=!1}}});const n=t._export_sfc(i,[["render",function(i,n,o,e,s,a){return{a:s.iconPath,b:t.sei(i.virtualHostId,"view"),c:s.iconLeft+"px",d:s.iconTop+"px",e:s.config.size+"px",f:s.config.size+"px",g:s.config.animation.duration+"s",h:"-"+s.config.animation.distance+"px",i:t.o(((...t)=>a.handleTouchStart&&a.handleTouchStart(...t))),j:t.o(((...t)=>a.handleTouchMove&&a.handleTouchMove(...t))),k:t.o(((...t)=>a.handleTouchEnd&&a.handleTouchEnd(...t))),l:t.o(((...t)=>a.handleMouseDown&&a.handleMouseDown(...t))),m:t.o(((...t)=>a.handleIconClick&&a.handleIconClick(...t)))}}]]);wx.createComponent(n);
