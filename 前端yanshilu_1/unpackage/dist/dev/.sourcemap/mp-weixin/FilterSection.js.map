{"version":3,"file":"FilterSection.js","sources":["components/ai-chat/FilterSection.uvue"],"sourcesContent":["<template>\r\n\t<view class=\"filter-section\" @click.stop>\r\n\t\t<!-- 第一行：学校 -->\r\n\t\t<view class=\"filter-row\">\r\n\t\t\t<view class=\"filter-item full-width\">\r\n\t\t\t\t<text class=\"filter-label\">所在学校：</text>\r\n\t\t\t\t<view class=\"choice-wrapper\">\r\n\r\n\t\t\t\t\t<choice-selected \r\n\t\t\t\t\t\t:defaultText=\"'请选择学校'\" \r\n\t\t\t\t\t\t:choiceIndex=\"schoolIndex\" \r\n\t\t\t\t\t\t:choiceList=\"schoolList\"\r\n\t\t\t\t\t\tmode=\"search\"\r\n\t\t\t\t\t\t:searchPlaceholder=\"'搜索学校'\"\r\n\t\t\t\t\t\t@onChoiceClick=\"onSchoolClick\"\r\n\t\t\t\t\t\t@search-input=\"onSchoolSearch\"\r\n\t\t\t\t\t\tref=\"schoolDropdown\">\r\n\t\t\t\t\t</choice-selected>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 第二行：专业 -->\r\n\t\t<view class=\"filter-row\">\r\n\t\t\t<view class=\"filter-item full-width\">\r\n\t\t\t\t<text class=\"filter-label\">专业：</text>\r\n\t\t\t\t<view class=\"choice-wrapper\">\r\n\t\t\t\t\t<choice-selected \r\n\t\t\t\t\t\t:defaultText=\"'请选择专业'\" \r\n\t\t\t\t\t\t:choiceIndex=\"majorIndex\" \r\n\t\t\t\t\t\t:choiceList=\"majorList\"\r\n\t\t\t\t\t\t@onChoiceClick=\"onMajorClick\"\r\n\t\t\t\t\t\tref=\"majorDropdown\">\r\n\t\t\t\t\t</choice-selected>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport choiceSelected from '../../components/combobox/combobox'\r\n\t\r\n\t/**\r\n\t * @description 筛选区域组件\r\n\t * @property {Number} schoolIndex - 选中的学校索引\r\n\t * @property {Array} schoolList - 学校列表\r\n\t * @property {Number} majorIndex - 选中的专业索引\r\n\t * @property {Array} majorList - 专业列表\r\n\t * @event {Function} schoolChange - 学校变更事件\r\n\t * @event {Function} majorChange - 专业变更事件\r\n\t * @event {Function} schoolSearch - 学校搜索事件\r\n\t */\r\n\texport default {\r\n\t\tname: \"FilterSection\",\r\n\t\tcomponents: {\r\n\t\t\tchoiceSelected\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tschoolIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tschoolList: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t},\r\n\t\t\tmajorIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tmajorList: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description 学校选择事件处理\r\n\t\t\t * @param {Number} position - 选择的索引位置\r\n\t\t\t */\r\n\t\t\tonSchoolClick(position) {\r\n\t\t\t\tthis.$emit('schoolChange', position);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 专业选择事件处理\r\n\t\t\t * @param {Number} position - 选择的索引位置\r\n\t\t\t */\r\n\t\t\tonMajorClick(position) {\r\n\t\t\t\tthis.$emit('majorChange', position);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 处理学校搜索输入\r\n\t\t\t * @param {String} keyword - 搜索关键词\r\n\t\t\t */\r\n\t\t\tonSchoolSearch(keyword) {\r\n\t\t\t\tthis.$emit('schoolSearch', keyword);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 关闭所有下拉框\r\n\t\t\t */\r\n\t\t\tcloseAllDropdowns() {\r\n\t\t\t\tif (this.$refs && this.$refs.schoolDropdown) {\r\n\t\t\t\t\tthis.$refs.schoolDropdown.closeDropdown && this.$refs.schoolDropdown.closeDropdown();\r\n\t\t\t\t}\r\n\t\t\t\tif (this.$refs && this.$refs.majorDropdown) {\r\n\t\t\t\t\tthis.$refs.majorDropdown.closeDropdown && this.$refs.majorDropdown.closeDropdown();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* 筛选区域 */\r\n\t.filter-section {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx 15rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 0 0 16rpx 16rpx; /* 调整圆角，让顶部与导航栏无缝连接 */\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-top: 0;\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\t\r\n\t.filter-row {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.filter-row:last-child {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t\r\n\t.filter-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.full-width {\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.filter-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\twhite-space: nowrap;\r\n\t\tmargin-right: 10rpx;\r\n\t\twidth: 140rpx; /* 改为固定宽度，不用min-width */\r\n\t\tpadding-left: 10rpx;\r\n\t\ttext-align: left;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.choice-wrapper {\r\n\t\tflex: 1;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: calc(100% - 150rpx); /* 考虑标签宽度和间距 */\r\n\t\tpadding-right: 10rpx; /* 防止右侧超出边界 */\r\n\t}\r\n\t\r\n\t.flex-1 {\r\n\t\tflex: 1;\r\n\t}\r\n</style> "],"names":["defineComponent"],"mappings":";;AA0CC,MAAO,iBAAoB,MAAA;AAY3B,MAAA,YAAeA,8BAAA;AAAA,EACd,MAAM;AAAA,EACN,YAAY;AAAA,IACX;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,YAAY;AAAA,MACX,MAAM;AAAA,MACN,SAAS,MAAA;AAAM,eAAA,CAAA;AAAA,MAAC;AAAA,IAChB;AAAA,IACD,YAAY;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS,MAAA;AAAM,eAAA,CAAA;AAAA,MAAC;AAAA,IACjB;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAKR,cAAc,WAAQ,MAAA;AACrB,WAAK,MAAM,gBAAgB,QAAQ;AAAA,IACnC;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,aAAa,WAAQ,MAAA;AACpB,WAAK,MAAM,eAAe,QAAQ;AAAA,IAClC;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,eAAe,UAAO,MAAA;AACrB,WAAK,MAAM,gBAAgB,OAAO;AAAA,IAClC;AAAA;AAAA;AAAA;AAAA,IAKD,oBAAiB;AAChB,UAAI,KAAK,SAAS,KAAK,MAAM,gBAAgB;AAC5C,aAAK,MAAM,eAAe,iBAAiB,KAAK,MAAM,eAAe;MACtE;AACA,UAAI,KAAK,SAAS,KAAK,MAAM,eAAe;AAC3C,aAAK,MAAM,cAAc,iBAAiB,KAAK,MAAM,cAAc;MACpE;AAAA,IACD;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}