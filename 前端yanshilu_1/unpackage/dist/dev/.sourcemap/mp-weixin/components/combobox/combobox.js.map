{"version":3,"file":"combobox.js","sources":["components/combobox/combobox.uvue","../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RToveWFuc2hpbHXph43mlrDmnaXov4cv5YmN56uveWFuc2hpbHVfMS9jb21wb25lbnRzL2NvbWJvYm94L2NvbWJvYm94LnV2dWU"],"sourcesContent":["<template name=\"ChoiceSelected\">\r\n    <!-- 自定义下拉选择框 start-->\r\n    <view class=\"selected-all\">\r\n        <view :class=\"isShowChoice ? 'drop-down-box-selected' : 'drop-down-box'\" @click=\"btnShowHideClick\" ref=\"dropdownTrigger\">\r\n            <text class=\"dropdown-content\">{{displayContent}}</text>\r\n            <view>\r\n                <image class=\"dropdown-icon\" :class=\"{'dropdown-icon-rotate': isShowChoice}\" src=\"../../static/image/arrow/arrow_down.svg\" mode=\"widthFix\"></image>\r\n            </view>\r\n        </view>\r\n        <!-- 弹框内容 -->\r\n        <view class=\"dialog-view\" :class=\"{active: isShowChoice}\" v-if=\"isShowChoice\" :style=\"{\r\n            top: dropdownTop + 'px',\r\n            left: dropdownLeft + 'px',\r\n            width: dropdownWidth + 'px'\r\n        }\">\r\n            <scroll-view scroll-y=\"true\" class=\"dialog-scroll\">\r\n                <text class=\"dialog-title\" :class=\"{'dialog-title-selected': choiceIndex == index}\"\r\n                    v-for=\"(item, index) in choiceList\" :key=\"item.choiceItemId\" @click=\"btnChoiceClick(index)\">{{item.choiceItemContent}}</text>\r\n            </scroll-view>\r\n        </view>\r\n    </view>\r\n    <!-- 自定义下拉选择框 end -->\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n    export default {\r\n        name: \"ChoiceSelected\",\r\n        data() {\r\n            return {\r\n                isShowChoice: false,\r\n                dropdownTop: 0,\r\n                dropdownLeft: 0,\r\n                dropdownWidth: 0,\r\n                displayContent: this.defaultText // 使用传入的默认文本\r\n            };\r\n        },\r\n        props: {\r\n            choiceIndex: {\r\n                type: Number,\r\n                default: -1 // 默认-1表示未选择\r\n            },\r\n            choiceList: {\r\n                type: Array,\r\n                default: () => []\r\n            },\r\n            defaultText: {\r\n                type: String,\r\n                default: '请选择'\r\n            }\r\n        },\r\n        watch: {\r\n            choiceIndex(newVal) {\r\n                // 当choiceIndex变化时更新显示内容\r\n                if (newVal >= 0 && newVal < this.choiceList.length) {\r\n                    this.displayContent = this.choiceList[newVal].choiceItemContent;\r\n                } else {\r\n                    this.displayContent = this.defaultText;\r\n                }\r\n            },\r\n            defaultText(newVal) {\r\n                // 如果当前没有选择任何选项，更新默认文本\r\n                if (this.choiceIndex < 0 || this.choiceIndex >= this.choiceList.length) {\r\n                    this.displayContent = newVal;\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            // 选择\r\n            btnChoiceClick: function(position) {\r\n                var _this = this;\r\n                _this.isShowChoice = false;\r\n                _this.$emit(\"onChoiceClick\", position);\r\n            },\r\n            // 显示与隐藏选择内容\r\n            btnShowHideClick: function() {\r\n                var _this = this;\r\n                if (_this.isShowChoice) {\r\n                    _this.isShowChoice = false;\r\n                } else {\r\n                    // 使用uni.createSelectorQuery获取触发按钮的位置和尺寸\r\n                    const query = uni.createSelectorQuery().in(this);\r\n                    query.select('.drop-down-box, .drop-down-box-selected').boundingClientRect(data => {\r\n                        if (data) {\r\n                            _this.dropdownTop = data.top + data.height;\r\n                            _this.dropdownLeft = data.left;\r\n                            _this.dropdownWidth = data.width;\r\n                            _this.isShowChoice = true;\r\n                        }\r\n                    }).exec();\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    /* end */\r\n    .dialog-title-selected {\r\n        color: white;\r\n        font-size: 28rpx;\r\n        padding-left: 20rpx;\r\n        padding-top: 8rpx;\r\n        padding-bottom: 8rpx;\r\n        padding-right: 15rpx;\r\n        background-color: #55ffff;\r\n    }\r\n\r\n    .dialog-title {\r\n        color: black;\r\n        font-size: 28rpx;\r\n        padding-left: 20rpx;\r\n        padding-top: 8rpx;\r\n        padding-bottom: 8rpx;\r\n        padding-right: 15rpx;\r\n        background-color: white;\r\n    }\r\n    \r\n    .dialog-scroll {\r\n        width: 100%;\r\n        max-height: 300rpx; /* 限制滚动区域的最大高度 */\r\n        -webkit-overflow-scrolling: touch; /* 提升iOS滚动体验 */\r\n    }\r\n\r\n    .dialog-view {\r\n        display: flex;\r\n        flex-direction: column;\r\n        border: 2rpx solid #F0AD4E;\r\n        box-sizing: border-box;\r\n        position: fixed;\r\n        z-index: 9999;\r\n        background-color: #ffffff;\r\n        box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n        max-height: 400rpx; /* 限制整个下拉框的最大高度 */\r\n        transform-origin: top center;\r\n        opacity: 0;\r\n        transform: scaleY(0);\r\n        transition: all 0.2s ease;\r\n        overflow: hidden; /* 确保内容不会溢出 */\r\n        border-radius: 0 0 8rpx 8rpx; /* 添加底部圆角 */\r\n    }\r\n    \r\n    .dialog-view.active {\r\n        opacity: 1;\r\n        transform: scaleY(1);\r\n    }\r\n\r\n    .dropdown-icon {\r\n        width: 26rpx;\r\n        height: 26rpx;\r\n        margin-left: 5rpx;\r\n        margin-right: 10rpx;\r\n        transition: transform 0.3s ease;\r\n        flex-shrink: 0;\r\n    }\r\n    \r\n    .dropdown-icon-rotate {\r\n        transform: rotate(180deg);\r\n    }\r\n\r\n    .dropdown-content {\r\n        color: black;\r\n        font-size: 28rpx;\r\n        padding-left: 10rpx;\r\n        padding-top: 5rpx;\r\n        padding-bottom: 5rpx;\r\n        flex-grow: 1;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n\r\n    .drop-down-box-selected {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        min-height: 60rpx;\r\n        width: 100%;\r\n        border: 2rpx solid #F0AD4E;\r\n        box-sizing: border-box;\r\n        padding: 0 5rpx;\r\n    }\r\n\r\n    .drop-down-box {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        min-height: 60rpx;\r\n        width: 100%;\r\n        border: 2rpx solid gray;\r\n        border-radius: 5rpx;\r\n        box-sizing: border-box;\r\n        padding: 0 5rpx;\r\n    }\r\n\r\n    .selected-all {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        width: 100%;\r\n    }\r\n\r\n    /* start */\r\n</style>\r\n ","import Component from 'E:/yanshilu重新来过/前端yanshilu_1/components/combobox/combobox.uvue'\nwx.createComponent(Component)"],"names":["defineComponent","uni"],"mappings":";;;AAyBI,MAAA,YAAeA,8BAAA;AAAA,EACX,MAAM;AAAA,EACN,OAAI;AACA,WAAO;AAAA,MACH,cAAc;AAAA,MACd,aAAa;AAAA,MACb,cAAc;AAAA,MACd,eAAe;AAAA,MACf,gBAAgB,KAAK;AAAA;AAAA;EAE5B;AAAA,EACD,OAAO;AAAA,IACH,aAAa;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IACZ;AAAA,IACD,YAAY;AAAA,MACR,MAAM;AAAA,MACN,SAAS,MAAA;AAAM,eAAA,CAAA;AAAA,MAAC;AAAA,IACnB;AAAA,IACD,aAAa;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACb;AAAA,EACH;AAAA,EACD,OAAO;AAAA,IACH,YAAY,SAAM,MAAA;AAEd,UAAI,UAAU,KAAK,SAAS,KAAK,WAAW,QAAQ;AAChD,aAAK,iBAAiB,KAAK,WAAW,MAAM,EAAE;AAAA,MAChD,OAAK;AACH,aAAK,iBAAiB,KAAK;AAAA,MAC/B;AAAA,IACH;AAAA,IACD,YAAY,SAAM,MAAA;AAEd,UAAI,KAAK,cAAc,KAAK,KAAK,eAAe,KAAK,WAAW,QAAQ;AACpE,aAAK,iBAAiB;AAAA,MAC1B;AAAA,IACJ;AAAA,EACH;AAAA,EACD,SAAS;AAAA;AAAA,IAEL,gBAAgB,SAAS,WAAQ,MAAA;AAC7B,UAAI,QAAQ;AACZ,YAAM,eAAe;AACrB,YAAM,MAAM,iBAAiB,QAAQ;AAAA,IACxC;AAAA;AAAA,IAED,kBAAkB,WAAA;AACd,UAAI,QAAQ;AACZ,UAAI,MAAM,cAAc;AACpB,cAAM,eAAe;AAAA,MACvB,OAAK;AAEH,cAAM,QAAQC,cAAAA,MAAI,oBAAqB,EAAC,GAAG,IAAI;AAC/C,cAAM,OAAO,yCAAyC,EAAE,mBAAmB,CAAA,OAAG,SAAA;AAC1E,cAAI,MAAM;AACN,kBAAM,cAAc,KAAK,MAAM,KAAK;AACpC,kBAAM,eAAe,KAAK;AAC1B,kBAAM,gBAAgB,KAAK;AAC3B,kBAAM,eAAe;AAAA,UACzB;AAAA,QACJ,CAAC,EAAE,KAAI;AAAA,MACX;AAAA,IACJ;AAAA,EACJ;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3FJ,GAAG,gBAAgB,SAAS;"}