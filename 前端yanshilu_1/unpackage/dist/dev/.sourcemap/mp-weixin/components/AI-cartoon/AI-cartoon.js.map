{"version":3,"file":"AI-cartoon.js","sources":["components/AI-cartoon/AI-cartoon.uvue","../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RToveWFuc2hpbHXph43mlrDmnaXov4cv5YmN56uveWFuc2hpbHVfMS9jb21wb25lbnRzL0FJLWNhcnRvb24vQUktY2FydG9vbi51dnVl"],"sourcesContent":["<template>\r\n  <!-- 可拖动的卡通图标组件 -->\r\n  <view \r\n    class=\"cartoon-icon\" \r\n    :style=\"{\r\n      left: iconLeft + 'px', \r\n      top: iconTop + 'px',\r\n      width: config.size + 'px',\r\n      height: config.size + 'px',\r\n      '--animation-duration': config.animation.duration + 's',\r\n      '--float-distance': '-' + config.animation.distance + 'px'\r\n    }\"\r\n    @touchstart=\"handleTouchStart\"\r\n    @touchmove=\"handleTouchMove\"\r\n    @touchend=\"handleTouchEnd\"\r\n    @click=\"handleIconClick\"\r\n  >\r\n    <image class=\"icon-image\" :src=\"iconPath\" mode=\"aspectFit\"></image>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n/**\r\n * @description 可拖动卡通图标组件\r\n */\r\nexport default {\r\n  name: 'AICartoon',\r\n  data() {\r\n    // 内联配置，不依赖外部文件\r\n    const config = {\r\n      // 图标图片路径\r\n      iconPath: '/static/image/tab-bar/default_avatar.png',\r\n      // 初始位置\r\n      initialLeft: 20,\r\n      initialTop: 100,\r\n      // 图标大小\r\n      size: 60,\r\n      // 动画效果\r\n      animation: {\r\n        duration: 2,  // 秒\r\n        distance: 10  // 浮动距离（像素）\r\n      }\r\n    };\r\n    \r\n    return {\r\n      config: config,\r\n      iconPath: config.iconPath,\r\n      iconLeft: config.initialLeft,\r\n      iconTop: config.initialTop,\r\n      startX: 0,\r\n      startY: 0,\r\n      isMoving: false\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description 处理触摸开始事件\r\n     * @param {Object} e - 触摸事件对象\r\n     */\r\n    handleTouchStart(e) {\r\n      this.startX = e.touches[0].clientX;\r\n      this.startY = e.touches[0].clientY;\r\n      this.isMoving = false;\r\n    },\r\n    \r\n    /**\r\n     * @description 处理触摸移动事件\r\n     * @param {Object} e - 触摸事件对象\r\n     */\r\n    handleTouchMove(e) {\r\n      const moveX = e.touches[0].clientX - this.startX;\r\n      const moveY = e.touches[0].clientY - this.startY;\r\n      \r\n      if (Math.abs(moveX) > 5 || Math.abs(moveY) > 5) {\r\n        this.isMoving = true;\r\n      }\r\n      \r\n      this.iconLeft += moveX;\r\n      this.iconTop += moveY;\r\n      \r\n      // 边界检测，防止图标拖出屏幕\r\n      // 使用新的 API 获取窗口信息\r\n      const windowInfo = uni.getWindowInfo();\r\n      const screenWidth = windowInfo.windowWidth;\r\n      const screenHeight = windowInfo.windowHeight;\r\n      \r\n      if (this.iconLeft < 0) this.iconLeft = 0;\r\n      if (this.iconLeft > screenWidth - this.config.size) this.iconLeft = screenWidth - this.config.size;\r\n      if (this.iconTop < 0) this.iconTop = 0;\r\n      if (this.iconTop > screenHeight - this.config.size) this.iconTop = screenHeight - this.config.size;\r\n      \r\n      this.startX = e.touches[0].clientX;\r\n      this.startY = e.touches[0].clientY;\r\n    },\r\n    \r\n    /**\r\n     * @description 处理触摸结束事件\r\n     */\r\n    handleTouchEnd() {\r\n      // 触摸结束可以添加额外逻辑\r\n    },\r\n    \r\n    /**\r\n     * @description 处理图标点击事件\r\n     */\r\n    handleIconClick() {\r\n      if (!this.isMoving) {\r\n        // 执行跳转逻辑到AI助手页面\r\n        uni.navigateTo({\r\n          url: '/pages/AI/AI'\r\n        });\r\n      }\r\n      this.isMoving = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.cartoon-icon {\r\n  position: fixed;\r\n  z-index: 9999;\r\n  pointer-events: auto; /* 确保可以接收点击事件 */\r\n}\r\n\r\n.icon-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%; /* 使图标为圆形 */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); /* 添加阴影效果 */\r\n  animation: float var(--animation-duration, 2s) ease-in-out infinite; /* 添加浮动动画 */\r\n}\r\n\r\n@keyframes float {\r\n  0% {\r\n    transform: translateY(0px);\r\n  }\r\n  50% {\r\n    transform: translateY(calc(var(--float-distance, -10px)));\r\n  }\r\n  100% {\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n</style>\r\n","import Component from 'E:/yanshilu重新来过/前端yanshilu_1/components/AI-cartoon/AI-cartoon.uvue'\nwx.createComponent(Component)"],"names":["defineComponent","uni"],"mappings":";;AAyBA,MAAA,YAAeA,8BAAA;AAAA,EACb,MAAM;AAAA,EACN,OAAI;AAEF,UAAM,SAAS,IAAA,cAAA;AAAA;AAAA,MAEb,UAAU;AAAA;AAAA,MAEV,aAAa;AAAA,MACb,YAAY;AAAA;AAAA,MAEZ,MAAM;AAAA;AAAA,MAEN,WAAW,IAAA,cAAA;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA;AAAA,OACZ;AAAA,IACD,CAAA;AAED,WAAO;AAAA,MACL;AAAA,MACA,UAAU,OAAO;AAAA,MACjB,UAAU,OAAO;AAAA,MACjB,SAAS,OAAO;AAAA,MAChB,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,UAAU;AAAA;EAEb;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAKP,iBAAiB,IAAC,MAAA;AAChB,WAAK,SAAS,EAAE,QAAQ,CAAC,EAAE;AAC3B,WAAK,SAAS,EAAE,QAAQ,CAAC,EAAE;AAC3B,WAAK,WAAW;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,gBAAgB,IAAC,MAAA;AACf,YAAM,QAAQ,EAAE,QAAQ,CAAC,EAAE,UAAU,KAAK;AAC1C,YAAM,QAAQ,EAAE,QAAQ,CAAC,EAAE,UAAU,KAAK;AAE1C,UAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,GAAG;AAC9C,aAAK,WAAW;AAAA,MAClB;AAEA,WAAK,YAAY;AACjB,WAAK,WAAW;AAIhB,YAAM,aAAaC,oBAAI;AACvB,YAAM,cAAc,WAAW;AAC/B,YAAM,eAAe,WAAW;AAEhC,UAAI,KAAK,WAAW;AAAG,aAAK,WAAW;AACvC,UAAI,KAAK,WAAW,cAAc,KAAK,OAAO;AAAM,aAAK,WAAW,cAAc,KAAK,OAAO;AAC9F,UAAI,KAAK,UAAU;AAAG,aAAK,UAAU;AACrC,UAAI,KAAK,UAAU,eAAe,KAAK,OAAO;AAAM,aAAK,UAAU,eAAe,KAAK,OAAO;AAE9F,WAAK,SAAS,EAAE,QAAQ,CAAC,EAAE;AAC3B,WAAK,SAAS,EAAE,QAAQ,CAAC,EAAE;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA,IAKD,iBAAc;AAAA,IAEb;AAAA;AAAA;AAAA;AAAA,IAKD,kBAAe;AACb,UAAI,CAAC,KAAK,UAAU;AAElBA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,QACN,CAAA;AAAA,MACH;AACA,WAAK,WAAW;AAAA,IAClB;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;AClHA,GAAG,gBAAgB,SAAS;"}