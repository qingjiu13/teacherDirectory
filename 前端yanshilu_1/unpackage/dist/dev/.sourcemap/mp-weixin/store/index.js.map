{"version":3,"file":"index.js","sources":["store/index.js"],"sourcesContent":["/**\r\n * @description 状态管理入口文件\r\n * 使用Vuex架构管理状态，按角色和功能区分模块\r\n */\r\n\r\n// 导入Vuex\r\nimport { createStore } from 'vuex'\r\n\r\n// 导入API服务\r\nimport * as apiServices from './services';\r\n\r\n// 导入共享模块\r\nimport auth from './modules/common/auth';\r\nimport app from './modules/common/app';\r\nimport message from './modules/common/message';\r\nimport aiChat from './modules/common/ai-chat';\r\nimport match from './modules/common/match';\r\nimport teacher from './modules/common/teacher';\r\n\r\n// 导入角色相关模块\r\nimport user from './modules/common/user';\r\nimport student from './modules/student';\r\n\r\n// 导入功能模块\r\nimport courses from './modules/common/courses';\r\nimport orders from './modules/common/orders';\r\n\r\n/**\r\n * @description 创建Vuex Store实例\r\n */\r\nconst store = createStore({\r\n  modules: {\r\n    // 共享模块\r\n    auth,            // 认证相关\r\n    app,             // 应用全局状态\r\n    message,         // 消息通知\r\n    \r\n    // 用户信息模块\r\n    user,            // 用户基本信息\r\n    \r\n    // 角色模块\r\n    teacher,         // 教师特有功能\r\n    student,         // 学生特有功能\r\n    \r\n    // 功能模块\r\n    aiChat,          // AI聊天功能\r\n    courses,         // 课程相关\r\n    orders,          // 订单相关\r\n    match            // 匹配功能\r\n  }\r\n});\r\n\r\n/**\r\n * @description 导出API服务，便于在组件中使用\r\n */\r\nexport const services = apiServices;\r\n\r\n/**\r\n * @description 应用初始化函数 - 轻量级版本\r\n * 基础初始化，不涉及认证状态检查\r\n * @returns {Promise<Object>} 初始化结果\r\n */\r\nexport const initializeApp = async () => {\r\n  try {\r\n    // 基础初始化逻辑，无需检查认证状态\r\n    \r\n    return { \r\n      success: true\r\n    };\r\n  } catch (error) {\r\n    console.error('应用初始化失败:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n\r\n/**\r\n * @description 加载教师模块数据\r\n * 在教师页面点击或进入教师相关页面时调用\r\n * @returns {Promise<Object>} 加载结果\r\n */\r\nexport const loadTeacherData = async () => {\r\n  try {\r\n    await store.dispatch('teacher/loadInitialData');\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error('加载教师数据失败:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n\r\n/**\r\n * @description 加载学生模块数据\r\n * 在学生页面点击或进入学生相关页面时调用\r\n * @returns {Promise<Object>} 加载结果\r\n */\r\nexport const loadStudentData = async () => {\r\n  try {\r\n    await store.dispatch('student/loadInitialData');\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error('加载学生数据失败:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n\r\n/**\r\n * @description 加载匹配推荐数据\r\n * 在匹配页面点击或进入匹配页面时调用\r\n * @returns {Promise<Object>} 匹配结果\r\n */\r\nexport const loadMatchRecommendations = async () => {\r\n  try {\r\n    // 获取保存的导航类型\r\n    await store.dispatch('match/getSavedNavigationType');\r\n    \r\n    // 调用match模块的getRecommendedTeachers action\r\n    const teachers = await store.dispatch('match/getRecommendedTeachers');\r\n    return { \r\n      success: true, \r\n      data: teachers \r\n    };\r\n  } catch (error) {\r\n    console.error('加载匹配推荐失败:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n\r\nexport default store;"],"names":["createStore","auth","app","message","user","teacher","student","aiChat","courses","orders","match","uni"],"mappings":";;;;;;;;;;;;;AA8BK,MAAC,QAAQA,cAAAA,YAAY;AAAA,EACxB,SAAS;AAAA;AAAA,IAEX,MAAIC,0BAAI;AAAA;AAAA,IACR,KAAIC,yBAAG;AAAA;AAAA,IACP,SAAIC,6BAAO;AAAA;AAAA;AAAA,IAGX,MAAIC,0BAAI;AAAA;AAAA;AAAA,IAGR,SAAIC,6BAAO;AAAA;AAAA,IACX,SAAIC,4BAAO;AAAA;AAAA;AAAA,IAGX,QAAIC,4BAAM;AAAA;AAAA,IACV,SAAIC,6BAAO;AAAA;AAAA,IACX,QAAIC,4BAAM;AAAA;AAAA,IACV,OAAIC,2BAAK;AAAA;AAAA,EACN;AACH,CAAC;AAYW,MAAC,gBAAgB,YAAY;AACvC,MAAI;AAGF,WAAO;AAAA,MACL,SAAS;AAAA,IACf;AAAA,EACG,SAAQ,OAAO;AACdC,kBAAA,MAAA,MAAA,SAAA,wBAAc,YAAY,KAAK;AAC/B,WAAO,EAAE,SAAS,OAAO;EAC1B;AACH;AAOY,MAAC,kBAAkB,YAAY;AACzC,MAAI;AACF,UAAM,MAAM,SAAS,yBAAyB;AAC9C,WAAO,EAAE,SAAS;EACnB,SAAQ,OAAO;AACdA,kBAAc,MAAA,MAAA,SAAA,wBAAA,aAAa,KAAK;AAChC,WAAO,EAAE,SAAS,OAAO;EAC1B;AACH;AAOY,MAAC,kBAAkB,YAAY;AACzC,MAAI;AACF,UAAM,MAAM,SAAS,yBAAyB;AAC9C,WAAO,EAAE,SAAS;EACnB,SAAQ,OAAO;AACdA,kBAAc,MAAA,MAAA,SAAA,yBAAA,aAAa,KAAK;AAChC,WAAO,EAAE,SAAS,OAAO;EAC1B;AACH;;;;;"}