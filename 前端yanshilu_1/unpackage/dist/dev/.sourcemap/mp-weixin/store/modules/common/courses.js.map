{"version":3,"file":"courses.js","sources":["store/modules/common/courses.js"],"sourcesContent":["/**\r\n * @description 课程管理模块（共享）\r\n * @module store/modules/common/courses\r\n */\r\n\r\n/**\r\n * @description 初始状态\r\n * @type {Object}\r\n */\r\nconst state = {\r\n  courseList: [],         // 课程列表\r\n  courseCategories: [],   // 课程分类\r\n  currentCourse: null,    // 当前查看的课程\r\n  loading: false,         // 加载状态\r\n  error: null,            // 错误信息\r\n};\r\n\r\n/**\r\n * @description getters\r\n * @type {Object}\r\n */\r\nconst getters = {\r\n  /**\r\n   * @description 获取所有课程\r\n   * @param {Object} state - 状态对象\r\n   * @returns {Array} 课程列表\r\n   */\r\n  allCourses: (state) => state.courseList,\r\n  \r\n  /**\r\n   * @description 获取课程分类\r\n   * @param {Object} state - 状态对象\r\n   * @returns {Array} 课程分类列表\r\n   */\r\n  categories: (state) => state.courseCategories,\r\n  \r\n  /**\r\n   * @description 根据分类筛选课程\r\n   * @param {Object} state - 状态对象\r\n   * @returns {Function} 筛选函数\r\n   */\r\n  coursesByCategory: (state) => (categoryId) => {\r\n    return state.courseList.filter(course => course.categoryId === categoryId);\r\n  },\r\n};\r\n\r\n/**\r\n * @description mutations\r\n * @type {Object}\r\n */\r\nconst mutations = {\r\n  /**\r\n   * @description 设置课程列表\r\n   * @param {Object} state - 状态对象\r\n   * @param {Array} courses - 课程列表\r\n   */\r\n  SET_COURSE_LIST(state, courses) {\r\n    state.courseList = courses;\r\n  },\r\n  \r\n  /**\r\n   * @description 设置课程分类\r\n   * @param {Object} state - 状态对象\r\n   * @param {Array} categories - 课程分类\r\n   */\r\n  SET_CATEGORIES(state, categories) {\r\n    state.courseCategories = categories;\r\n  },\r\n  \r\n  /**\r\n   * @description 设置当前课程\r\n   * @param {Object} state - 状态对象\r\n   * @param {Object} course - 课程对象\r\n   */\r\n  SET_CURRENT_COURSE(state, course) {\r\n    state.currentCourse = course;\r\n  },\r\n  \r\n  /**\r\n   * @description 设置加载状态\r\n   * @param {Object} state - 状态对象\r\n   * @param {boolean} loading - 加载状态\r\n   */\r\n  SET_LOADING(state, loading) {\r\n    state.loading = loading;\r\n  },\r\n  \r\n  /**\r\n   * @description 设置错误信息\r\n   * @param {Object} state - 状态对象\r\n   * @param {Object} error - 错误信息\r\n   */\r\n  SET_ERROR(state, error) {\r\n    state.error = error;\r\n  },\r\n};\r\n\r\n/**\r\n * @description actions\r\n * @type {Object}\r\n */\r\nconst actions = {\r\n  /**\r\n   * @description 获取课程列表\r\n   * @param {Object} context - Vuex上下文\r\n   * @param {Object} params - 查询参数\r\n   * @returns {Promise<Array>} 课程列表\r\n   */\r\n  async fetchCourses({ commit }, params = {}) {\r\n    commit('SET_LOADING', true);\r\n    try {\r\n      // 这里添加API调用，获取课程列表\r\n      // const response = await api.getCourses(params);\r\n      const courses = []; // 替换为实际API返回的数据\r\n      commit('SET_COURSE_LIST', courses);\r\n      commit('SET_ERROR', null);\r\n      return courses;\r\n    } catch (error) {\r\n      console.error('获取课程列表失败:', error);\r\n      commit('SET_ERROR', error);\r\n      return [];\r\n    } finally {\r\n      commit('SET_LOADING', false);\r\n    }\r\n  },\r\n  \r\n  /**\r\n   * @description 获取课程分类\r\n   * @param {Object} context - Vuex上下文\r\n   * @returns {Promise<Array>} 分类列表\r\n   */\r\n  async fetchCategories({ commit }) {\r\n    try {\r\n      // 这里添加API调用，获取课程分类\r\n      // const response = await api.getCategories();\r\n      const categories = []; // 替换为实际API返回的数据\r\n      commit('SET_CATEGORIES', categories);\r\n      return categories;\r\n    } catch (error) {\r\n      console.error('获取课程分类失败:', error);\r\n      return [];\r\n    }\r\n  },\r\n  \r\n  /**\r\n   * @description 获取课程详情\r\n   * @param {Object} context - Vuex上下文\r\n   * @param {string|number} courseId - 课程ID\r\n   * @returns {Promise<Object>} 课程详情\r\n   */\r\n  async fetchCourseDetail({ commit }, courseId) {\r\n    commit('SET_LOADING', true);\r\n    try {\r\n      // 这里添加API调用，获取课程详情\r\n      // const response = await api.getCourseDetail(courseId);\r\n      const course = null; // 替换为实际API返回的数据\r\n      commit('SET_CURRENT_COURSE', course);\r\n      return course;\r\n    } catch (error) {\r\n      console.error('获取课程详情失败:', error);\r\n      commit('SET_ERROR', error);\r\n      return null;\r\n    } finally {\r\n      commit('SET_LOADING', false);\r\n    }\r\n  },\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}; "],"names":["state","courses","uni"],"mappings":";;AASA,MAAM,QAAQ;AAAA,EACZ,YAAY,CAAE;AAAA;AAAA,EACd,kBAAkB,CAAE;AAAA;AAAA,EACpB,eAAe;AAAA;AAAA,EACf,SAAS;AAAA;AAAA,EACT,OAAO;AAAA;AACT;AAMA,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMd,YAAY,CAACA,WAAUA,OAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO7B,YAAY,CAACA,WAAUA,OAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO7B,mBAAmB,CAACA,WAAU,CAAC,eAAe;AAC5C,WAAOA,OAAM,WAAW,OAAO,YAAU,OAAO,eAAe,UAAU;AAAA,EAC1E;AACH;AAMA,MAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMhB,gBAAgBA,QAAOC,UAAS;AAC9B,IAAAD,OAAM,aAAaC;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,eAAeD,QAAO,YAAY;AAChC,IAAAA,OAAM,mBAAmB;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,mBAAmBA,QAAO,QAAQ;AAChC,IAAAA,OAAM,gBAAgB;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,YAAYA,QAAO,SAAS;AAC1B,IAAAA,OAAM,UAAU;AAAA,EACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,UAAUA,QAAO,OAAO;AACtB,IAAAA,OAAM,QAAQ;AAAA,EACf;AACH;AAMA,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOd,MAAM,aAAa,EAAE,UAAU,SAAS,CAAA,GAAI;AAC1C,WAAO,eAAe,IAAI;AAC1B,QAAI;AAGF,YAAMC,WAAU,CAAA;AAChB,aAAO,mBAAmBA,QAAO;AACjC,aAAO,aAAa,IAAI;AACxB,aAAOA;AAAA,IACR,SAAQ,OAAO;AACdC,oBAAc,MAAA,MAAA,SAAA,0CAAA,aAAa,KAAK;AAChC,aAAO,aAAa,KAAK;AACzB,aAAO;IACb,UAAc;AACR,aAAO,eAAe,KAAK;AAAA,IAC5B;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,MAAM,gBAAgB,EAAE,UAAU;AAChC,QAAI;AAGF,YAAM,aAAa,CAAA;AACnB,aAAO,kBAAkB,UAAU;AACnC,aAAO;AAAA,IACR,SAAQ,OAAO;AACdA,oBAAc,MAAA,MAAA,SAAA,0CAAA,aAAa,KAAK;AAChC,aAAO;IACR;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQD,MAAM,kBAAkB,EAAE,OAAQ,GAAE,UAAU;AAC5C,WAAO,eAAe,IAAI;AAC1B,QAAI;AAGF,YAAM,SAAS;AACf,aAAO,sBAAsB,MAAM;AACnC,aAAO;AAAA,IACR,SAAQ,OAAO;AACdA,oBAAc,MAAA,MAAA,SAAA,0CAAA,aAAa,KAAK;AAChC,aAAO,aAAa,KAAK;AACzB,aAAO;AAAA,IACb,UAAc;AACR,aAAO,eAAe,KAAK;AAAA,IAC5B;AAAA,EACF;AACH;AAEA,MAAe,UAAA;AAAA,EACb,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;;"}