{"version":3,"file":"app.js","sources":["store/modules/common/app.js"],"sourcesContent":["/**\r\n * @description 应用全局状态模块 - 处理应用级别的全局状态\r\n */\r\n\r\n// 初始状态\r\nconst state = {\r\n  loading: false,\r\n  firstLaunch: false,\r\n  appVersion: '1.0.0',\r\n  appInitialized: false,\r\n  appError: null,\r\n  sidebarCollapsed: uni.getStorageSync('sidebarCollapsed') === 'true',\r\n  darkMode: uni.getStorageSync('darkMode') === 'true',\r\n  currentRoute: null\r\n};\r\n\r\n// Getters\r\nconst getters = {\r\n  loading: state => state.loading,\r\n  isDarkMode: state => state.darkMode,\r\n  isSidebarCollapsed: state => state.sidebarCollapsed,\r\n  appVersion: state => state.appVersion,\r\n  currentRoute: state => state.currentRoute,\r\n  isAppInitialized: state => state.appInitialized\r\n};\r\n\r\n// 引入常量类型\r\nconst TOGGLE_SIDEBAR = 'TOGGLE_SIDEBAR';\r\nconst TOGGLE_DARK_MODE = 'TOGGLE_DARK_MODE';\r\nconst APP_INIT_START = 'APP_INIT_START';\r\nconst APP_INIT_SUCCESS = 'APP_INIT_SUCCESS';\r\nconst APP_INIT_FAILURE = 'APP_INIT_FAILURE';\r\nconst SET_CURRENT_ROUTE = 'SET_CURRENT_ROUTE';\r\n\r\n// Mutations\r\nconst mutations = {\r\n  [TOGGLE_SIDEBAR](state) {\r\n    state.sidebarCollapsed = !state.sidebarCollapsed;\r\n    uni.setStorageSync('sidebarCollapsed', state.sidebarCollapsed.toString());\r\n  },\r\n  [TOGGLE_DARK_MODE](state) {\r\n    state.darkMode = !state.darkMode;\r\n    uni.setStorageSync('darkMode', state.darkMode.toString());\r\n  },\r\n  [APP_INIT_START](state) {\r\n    state.loading = true;\r\n    state.appError = null;\r\n  },\r\n  [APP_INIT_SUCCESS](state) {\r\n    state.loading = false;\r\n    state.appInitialized = true;\r\n  },\r\n  [APP_INIT_FAILURE](state, error) {\r\n    state.loading = false;\r\n    state.appError = error;\r\n  },\r\n  [SET_CURRENT_ROUTE](state, route) {\r\n    state.currentRoute = route;\r\n  }\r\n};\r\n\r\n// Actions\r\nconst actions = {\r\n  /**\r\n   * @description 切换侧边栏展开/收起状态\r\n   */\r\n  toggleSidebar({ commit }) {\r\n    commit(TOGGLE_SIDEBAR);\r\n  },\r\n  \r\n  /**\r\n   * @description 切换深色/浅色模式\r\n   */\r\n  toggleDarkMode({ commit }) {\r\n    commit(TOGGLE_DARK_MODE);\r\n  },\r\n  \r\n  /**\r\n   * @description 应用初始化\r\n   * @returns {Promise<boolean>} 初始化结果\r\n   */\r\n  async initializeApp({ commit }) {\r\n    commit(APP_INIT_START);\r\n    \r\n    try {\r\n      // 这里可以放置应用初始化的逻辑\r\n      // 例如加载配置、检查版本等\r\n      \r\n      commit(APP_INIT_SUCCESS);\r\n      return true;\r\n    } catch (error) {\r\n      commit(APP_INIT_FAILURE, error);\r\n      return false;\r\n    }\r\n  },\r\n  \r\n  /**\r\n   * @description 设置当前路由\r\n   * @param {Object} context - Vuex上下文\r\n   * @param {Object} route - 路由对象\r\n   */\r\n  setCurrentRoute({ commit }, route) {\r\n    commit(SET_CURRENT_ROUTE, route);\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n}; "],"names":["uni","state"],"mappings":";;AAKA,MAAM,QAAQ;AAAA,EACZ,SAAS;AAAA,EACT,aAAa;AAAA,EACb,YAAY;AAAA,EACZ,gBAAgB;AAAA,EAChB,UAAU;AAAA,EACV,kBAAkBA,cAAG,MAAC,eAAe,kBAAkB,MAAM;AAAA,EAC7D,UAAUA,cAAG,MAAC,eAAe,UAAU,MAAM;AAAA,EAC7C,cAAc;AAChB;AAGA,MAAM,UAAU;AAAA,EACd,SAAS,CAAAC,WAASA,OAAM;AAAA,EACxB,YAAY,CAAAA,WAASA,OAAM;AAAA,EAC3B,oBAAoB,CAAAA,WAASA,OAAM;AAAA,EACnC,YAAY,CAAAA,WAASA,OAAM;AAAA,EAC3B,cAAc,CAAAA,WAASA,OAAM;AAAA,EAC7B,kBAAkB,CAAAA,WAASA,OAAM;AACnC;AAGA,MAAM,iBAAiB;AACvB,MAAM,mBAAmB;AACzB,MAAM,iBAAiB;AACvB,MAAM,mBAAmB;AACzB,MAAM,mBAAmB;AACzB,MAAM,oBAAoB;AAG1B,MAAM,YAAY;AAAA,EAChB,CAAC,cAAc,EAAEA,QAAO;AACtB,IAAAA,OAAM,mBAAmB,CAACA,OAAM;AAChCD,kBAAG,MAAC,eAAe,oBAAoBC,OAAM,iBAAiB,SAAQ,CAAE;AAAA,EACzE;AAAA,EACD,CAAC,gBAAgB,EAAEA,QAAO;AACxB,IAAAA,OAAM,WAAW,CAACA,OAAM;AACxBD,kBAAG,MAAC,eAAe,YAAYC,OAAM,SAAS,SAAQ,CAAE;AAAA,EACzD;AAAA,EACD,CAAC,cAAc,EAAEA,QAAO;AACtB,IAAAA,OAAM,UAAU;AAChB,IAAAA,OAAM,WAAW;AAAA,EAClB;AAAA,EACD,CAAC,gBAAgB,EAAEA,QAAO;AACxB,IAAAA,OAAM,UAAU;AAChB,IAAAA,OAAM,iBAAiB;AAAA,EACxB;AAAA,EACD,CAAC,gBAAgB,EAAEA,QAAO,OAAO;AAC/B,IAAAA,OAAM,UAAU;AAChB,IAAAA,OAAM,WAAW;AAAA,EAClB;AAAA,EACD,CAAC,iBAAiB,EAAEA,QAAO,OAAO;AAChC,IAAAA,OAAM,eAAe;AAAA,EACtB;AACH;AAGA,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA,EAId,cAAc,EAAE,UAAU;AACxB,WAAO,cAAc;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA,EAKD,eAAe,EAAE,UAAU;AACzB,WAAO,gBAAgB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,MAAM,cAAc,EAAE,UAAU;AAC9B,WAAO,cAAc;AAErB,QAAI;AAIF,aAAO,gBAAgB;AACvB,aAAO;AAAA,IACR,SAAQ,OAAO;AACd,aAAO,kBAAkB,KAAK;AAC9B,aAAO;AAAA,IACR;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,gBAAgB,EAAE,OAAQ,GAAE,OAAO;AACjC,WAAO,mBAAmB,KAAK;AAAA,EAChC;AACH;AAEA,MAAe,MAAA;AAAA,EACb,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;;"}