{"version":3,"file":"AI.js","sources":["pages/AI/AI.uvue","../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQUkvQUkudXZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"ai-page\">\r\n    <view class=\"header\">\r\n      <text class=\"title\">AI助手</text>\r\n    </view>\r\n    <view class=\"content\">\r\n      <text class=\"welcome-text\">欢迎使用AI助手，我能帮您解决什么问题？</text>\r\n      \r\n      <!-- 添加筛选框 -->\r\n      <view class=\"filter-container\">\r\n        <text class=\"filter-title\">请选择问题类型：</text>\r\n        <enhanced-dropdown\r\n          ref=\"typeDropdown\"\r\n          :options=\"problemTypes\"\r\n          v-model=\"selectedType\"\r\n          placeholder=\"请选择问题类型\"\r\n          searchable\r\n          grouped\r\n          :collect-full-data=\"true\"\r\n          @change=\"handleTypeChange\"\r\n          class=\"problem-filter\"\r\n        />\r\n      </view>\r\n      \r\n      <!-- 多选筛选框示例 -->\r\n      <view class=\"filter-container\" v-if=\"selectedType\">\r\n        <text class=\"filter-title\">相关标签（可多选）：</text>\r\n        <enhanced-dropdown\r\n          ref=\"tagDropdown\"\r\n          :options=\"relatedTags\"\r\n          v-model=\"selectedTags\"\r\n          placeholder=\"请选择相关标签\"\r\n          searchable\r\n          multiple\r\n          :max-selections=\"3\"\r\n          @change=\"handleTagsChange\"\r\n          class=\"problem-filter\"\r\n        />\r\n      </view>\r\n      \r\n      <!-- 简单的对话界面 -->\r\n      <view class=\"chat-container\">\r\n        <view class=\"chat-messages\">\r\n          <view \r\n            v-for=\"(message, index) in messages\" \r\n            :key=\"index\"\r\n            :class=\"['message', message.type === 'ai' ? 'ai-message' : 'user-message']\"\r\n          >\r\n            <text class=\"message-text\">{{ message.content }}</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"input-area\">\r\n          <input class=\"message-input\" type=\"text\" v-model=\"inputMessage\" placeholder=\"请输入您的问题...\" />\r\n          <button class=\"send-button\" @click=\"sendMessage\">发送</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n/**\r\n * @description AI助手页面\r\n */\r\nimport EnhancedDropdown from '../../components/combobox/combobox.uvue';\r\n\r\nexport default {\r\n  components: {\r\n    EnhancedDropdown\r\n  },\r\n  data() {\r\n    return {\r\n      // 页面数据\r\n      inputMessage: '',\r\n      messages: [\r\n        {\r\n          type: 'ai',\r\n          content: '你好！我是AI助手，有什么可以帮助你的吗？'\r\n        }\r\n      ],\r\n      \r\n      // 筛选相关数据\r\n      selectedType: null,\r\n      selectedTags: [],\r\n      \r\n      // 模拟问题类型数据\r\n      problemTypes: [\r\n        {\r\n          value: 'technical',\r\n          label: '技术问题',\r\n          icon: '🔧',\r\n          tags: ['常见'],\r\n          group: '常用问题',\r\n          metadata: {\r\n            priority: 'high',\r\n            responseTime: 'fast'\r\n          }\r\n        },\r\n        {\r\n          value: 'product',\r\n          label: '产品咨询',\r\n          icon: '📱',\r\n          tags: ['热门'],\r\n          group: '常用问题',\r\n          metadata: {\r\n            priority: 'medium',\r\n            responseTime: 'normal'\r\n          }\r\n        },\r\n        {\r\n          value: 'account',\r\n          label: '账户问题',\r\n          icon: '👤',\r\n          tags: ['紧急'],\r\n          group: '常用问题',\r\n          metadata: {\r\n            priority: 'high',\r\n            responseTime: 'fast'\r\n          }\r\n        },\r\n        {\r\n          value: 'billing',\r\n          label: '计费问题',\r\n          icon: '💰',\r\n          tags: ['复杂'],\r\n          group: '其他问题',\r\n          metadata: {\r\n            priority: 'medium',\r\n            responseTime: 'slow'\r\n          }\r\n        },\r\n        {\r\n          value: 'feedback',\r\n          label: '意见反馈',\r\n          icon: '💡',\r\n          tags: ['非紧急'],\r\n          group: '其他问题',\r\n          metadata: {\r\n            priority: 'low',\r\n            responseTime: 'normal'\r\n          }\r\n        },\r\n        {\r\n          value: 'bug',\r\n          label: '软件缺陷',\r\n          icon: '🐞',\r\n          tags: ['紧急'],\r\n          group: '技术支持',\r\n          metadata: {\r\n            priority: 'high',\r\n            responseTime: 'fast'\r\n          }\r\n        },\r\n        {\r\n          value: 'feature',\r\n          label: '功能建议',\r\n          icon: '✨',\r\n          tags: ['非紧急'],\r\n          group: '技术支持',\r\n          metadata: {\r\n            priority: 'low',\r\n            responseTime: 'slow'\r\n          }\r\n        }\r\n      ],\r\n      \r\n      // 标签筛选器选项（初始为空，会根据选择的问题类型动态变化）\r\n      relatedTags: []\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description 发送消息\r\n     */\r\n    sendMessage() {\r\n      if (this.inputMessage.trim()) {\r\n        // 添加用户消息\r\n        this.messages.push({\r\n          type: 'user',\r\n          content: this.inputMessage\r\n        });\r\n        \r\n        // 模拟AI回复\r\n        const selectedTypeInfo = this.selectedType ? `问题类型：${this.selectedType.label}` : '';\r\n        const selectedTagsInfo = this.selectedTags.length > 0 ? \r\n          `，标签：${this.selectedTags.map(tag => tag.label).join(', ')}` : '';\r\n        \r\n        setTimeout(() => {\r\n          this.messages.push({\r\n            type: 'ai',\r\n            content: `我已收到您的问题\"${this.inputMessage}\"。${selectedTypeInfo}${selectedTagsInfo}。我们将尽快为您解答！`\r\n          });\r\n        }, 500);\r\n        \r\n        this.inputMessage = '';\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 处理问题类型变更\r\n     * @param {Object} selectedType - 选中的问题类型\r\n     */\r\n    handleTypeChange(selectedType) {\r\n      if (selectedType) {\r\n        uni.__f__('log','at pages/AI/AI.uvue:206','选择的问题类型:', selectedType);\r\n        \r\n        // 根据选择的问题类型动态生成相关标签\r\n        this.generateRelatedTags(selectedType.value);\r\n        \r\n        // 重置已选标签\r\n        this.selectedTags = [];\r\n      } else {\r\n        this.relatedTags = [];\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * @description 处理标签变更\r\n     * @param {Array} selectedTags - 选中的标签列表\r\n     */\r\n    handleTagsChange(selectedTags) {\r\n      uni.__f__('log','at pages/AI/AI.uvue:223','选择的标签:', selectedTags);\r\n      \r\n      // 可以在这里添加基于标签的处理逻辑\r\n    },\r\n    \r\n    /**\r\n     * @description 生成相关标签\r\n     * @param {String} problemType - 问题类型值\r\n     */\r\n    generateRelatedTags(problemType) {\r\n      // 根据问题类型生成不同的标签选项\r\n      const tagMappings = {\r\n        'technical': [\r\n          { value: 'framework', label: '框架问题', icon: '🔨' },\r\n          { value: 'api', label: 'API调用', icon: '🔄' },\r\n          { value: 'performance', label: '性能问题', icon: '⚡' },\r\n          { value: 'compatibility', label: '兼容性', icon: '🔗' }\r\n        ],\r\n        'product': [\r\n          { value: 'usage', label: '使用方法', icon: '📝' },\r\n          { value: 'feature', label: '功能咨询', icon: '✨' },\r\n          { value: 'comparison', label: '产品对比', icon: '⚖️' }\r\n        ],\r\n        'account': [\r\n          { value: 'login', label: '登录问题', icon: '🔑' },\r\n          { value: 'security', label: '安全相关', icon: '🔒' },\r\n          { value: 'profile', label: '个人资料', icon: '📋' }\r\n        ],\r\n        'billing': [\r\n          { value: 'invoice', label: '发票问题', icon: '📄' },\r\n          { value: 'payment', label: '支付方式', icon: '💳' },\r\n          { value: 'pricing', label: '价格咨询', icon: '💲' }\r\n        ],\r\n        'feedback': [\r\n          { value: 'suggestion', label: '建议', icon: '💬' },\r\n          { value: 'complaint', label: '投诉', icon: '⚠️' },\r\n          { value: 'praise', label: '表扬', icon: '👍' }\r\n        ],\r\n        'bug': [\r\n          { value: 'crash', label: '崩溃', icon: '💥' },\r\n          { value: 'ui', label: 'UI问题', icon: '🖼️' },\r\n          { value: 'logic', label: '逻辑错误', icon: '🧩' }\r\n        ],\r\n        'feature': [\r\n          { value: 'enhancement', label: '功能增强', icon: '🚀' },\r\n          { value: 'new', label: '新功能', icon: '🆕' },\r\n          { value: 'integration', label: '集成需求', icon: '🔄' }\r\n        ]\r\n      };\r\n      \r\n      this.relatedTags = tagMappings[problemType] || [];\r\n    },\r\n    \r\n    /**\r\n     * @description 获取提交给后端的数据\r\n     * @returns {Object} 用于提交给后端的数据\r\n     */\r\n    getSubmitData() {\r\n      return {\r\n        problemType: this.$refs.typeDropdown.getPayloadData(),\r\n        tags: this.$refs.tagDropdown.getPayloadData(),\r\n        message: this.inputMessage\r\n      };\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.ai-page {\r\n  padding: 20px;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n}\r\n\r\n.welcome-text {\r\n  font-size: 16px;\r\n  color: #666;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n/* 筛选框样式 */\r\n.filter-container {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.filter-title {\r\n  font-size: 14px;\r\n  color: #333;\r\n  margin-bottom: 8px;\r\n  display: block;\r\n}\r\n\r\n.problem-filter {\r\n  width: 100%;\r\n}\r\n\r\n.chat-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid #eee;\r\n  border-radius: 10px;\r\n  background-color: #f9f9f9;\r\n  padding: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.chat-messages {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 10px;\r\n}\r\n\r\n.message {\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  max-width: 80%;\r\n}\r\n\r\n.ai-message {\r\n  background-color: #e1f5fe;\r\n  align-self: flex-start;\r\n}\r\n\r\n.user-message {\r\n  background-color: #e8f5e9;\r\n  align-self: flex-end;\r\n  margin-left: auto;\r\n}\r\n\r\n.message-text {\r\n  font-size: 14px;\r\n}\r\n\r\n.input-area {\r\n  display: flex;\r\n  margin-top: 10px;\r\n}\r\n\r\n.message-input {\r\n  flex: 1;\r\n  border: 1px solid #ddd;\r\n  border-radius: 20px;\r\n  padding: 10px 15px;\r\n  font-size: 14px;\r\n}\r\n\r\n.send-button {\r\n  margin-left: 10px;\r\n  background-color: #2196f3;\r\n  color: white;\r\n  border-radius: 20px;\r\n  padding: 0 20px;\r\n  font-size: 14px;\r\n}\r\n</style>","import MiniProgramPage from 'E:/yanshilu重新来过/前端yanshilu_1/pages/AI/AI.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}