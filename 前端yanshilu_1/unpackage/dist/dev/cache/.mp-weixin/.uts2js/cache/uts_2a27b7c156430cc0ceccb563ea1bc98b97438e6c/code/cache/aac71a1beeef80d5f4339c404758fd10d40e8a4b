{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    name: \"ChoiceSelected\",\n    data() {\n        return {\n            isShowChoice: false,\n            dropdownTop: 0,\n            dropdownLeft: 0,\n            dropdownWidth: 0,\n            displayContent: this.defaultText // 使用传入的默认文本\n        };\n    },\n    props: {\n        choiceIndex: {\n            type: Number,\n            default: -1 // 默认-1表示未选择\n        },\n        choiceList: {\n            type: Array,\n            default: () => { return []; }\n        },\n        defaultText: {\n            type: String,\n            default: '请选择'\n        }\n    },\n    watch: {\n        choiceIndex(newVal = null) {\n            // 当choiceIndex变化时更新显示内容\n            if (newVal >= 0 && newVal < this.choiceList.length) {\n                this.displayContent = this.choiceList[newVal].choiceItemContent;\n            }\n            else {\n                this.displayContent = this.defaultText;\n            }\n        },\n        defaultText(newVal = null) {\n            // 如果当前没有选择任何选项，更新默认文本\n            if (this.choiceIndex < 0 || this.choiceIndex >= this.choiceList.length) {\n                this.displayContent = newVal;\n            }\n        }\n    },\n    methods: {\n        // 选择\n        btnChoiceClick: function (position = null) {\n            var _this = this;\n            _this.isShowChoice = false;\n            _this.$emit(\"onChoiceClick\", position);\n        },\n        // 显示与隐藏选择内容\n        btnShowHideClick: function () {\n            var _this = this;\n            if (_this.isShowChoice) {\n                _this.isShowChoice = false;\n            }\n            else {\n                // 使用uni.createSelectorQuery获取触发按钮的位置和尺寸\n                const query = uni.createSelectorQuery().in(this);\n                query.select('.drop-down-box, .drop-down-box-selected').boundingClientRect((data = null) => {\n                    if (data) {\n                        _this.dropdownTop = data.top + data.height;\n                        _this.dropdownLeft = data.left;\n                        _this.dropdownWidth = data.width;\n                        _this.isShowChoice = true;\n                    }\n                }).exec();\n            }\n        }\n    }\n});\n//# sourceMappingURL=E:/yanshilu%E9%87%8D%E6%96%B0%E6%9D%A5%E8%BF%87/%E5%89%8D%E7%AB%AFyanshilu_1/components/combobox/combobox.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.createSelectorQuery"],"map":"{\"version\":3,\"file\":\"combobox.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"combobox.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACI,+BAAe;IACX,IAAI,EAAE,gBAAgB;IACtB,IAAI;QACA,OAAO;YACH,YAAY,EAAE,KAAK;YACnB,WAAW,EAAE,CAAC;YACd,YAAY,EAAE,CAAC;YACf,aAAa,EAAE,CAAC;YAChB,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY;SAChD,CAAC;IACN,CAAC;IACD,KAAK,EAAE;QACH,WAAW,EAAE;YACT,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,CAAC,CAAC,CAAC,YAAY;SAC3B;QACD,UAAU,EAAE;YACR,IAAI,EAAE,KAAK;YACX,OAAO,EAAE,QAAM,OAAA,EAAE,EAAF,CAAE;SACpB;QACD,WAAW,EAAE;YACT,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,KAAK;SACjB;KACJ;IACD,KAAK,EAAE;QACH,WAAW,CAAC,MAAM,OAAA;YACd,wBAAwB;YACxB,IAAI,MAAM,IAAI,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;gBAChD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC;aACnE;iBAAM;gBACH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC;aAC1C;QACL,CAAC;QACD,WAAW,CAAC,MAAM,OAAA;YACd,sBAAsB;YACtB,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;gBACpE,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;aAChC;QACL,CAAC;KACJ;IACD,OAAO,EAAE;QACL,KAAK;QACL,cAAc,EAAE,UAAS,QAAQ,OAAA;YAC7B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;YAC3B,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;QAC3C,CAAC;QACD,YAAY;QACZ,gBAAgB,EAAE;YACd,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,KAAK,CAAC,YAAY,EAAE;gBACpB,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;aAC9B;iBAAM;gBACH,wCAAwC;gBACxC,MAAM,KAAK,GAAG,GAAG,CAAC,mBAAmB,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;gBACjD,KAAK,CAAC,MAAM,CAAC,yCAAyC,CAAC,CAAC,kBAAkB,CAAC,CAAA,IAAI,OAAA;oBAC3E,IAAI,IAAI,EAAE;wBACN,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC3C,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;wBAC/B,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;wBACjC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;qBAC7B;gBACL,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;aACb;QACL,CAAC;KACJ;CACJ,EAAA\"}"}
