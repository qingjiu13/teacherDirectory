{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent } from \"vue\";\nimport choiceSelected from '../../components/combobox/combobox';\nimport { Navigator } from '@/router/Router.js';\nimport store from '@/store/index.js';\nimport { mapState, mapGetters, mapActions } from 'vuex';\nexport default defineComponent({\n    components: {\n        choiceSelected\n    },\n    onLoad() {\n        return __awaiter(this, void 0, void 0, function* () {\n            uni.__f__('log', 'at pages/match/match.uvue:101', '匹配页面已加载');\n            // 加载老师列表\n            yield this.getTeachersList();\n        });\n    },\n    data() {\n        return {\n            // 筛选相关数据\n            schoolList: [\n                new UTSJSONObject({ choiceItemId: \"bjdx\", choiceItemContent: \"北京大学\" }),\n                new UTSJSONObject({ choiceItemId: \"qhdx\", choiceItemContent: \"清华大学\" }),\n                new UTSJSONObject({ choiceItemId: \"fddx\", choiceItemContent: \"复旦大学\" }),\n                new UTSJSONObject({ choiceItemId: \"zjdx\", choiceItemContent: \"浙江大学\" }),\n                new UTSJSONObject({ choiceItemId: \"njdx\", choiceItemContent: \"南京大学\" }),\n                new UTSJSONObject({ choiceItemId: \"scdx\", choiceItemContent: \"四川大学\" }),\n                new UTSJSONObject({ choiceItemId: \"whdx\", choiceItemContent: \"武汉大学\" }),\n                new UTSJSONObject({ choiceItemId: \"zsdx\", choiceItemContent: \"中山大学\" }),\n                new UTSJSONObject({ choiceItemId: \"xjtu\", choiceItemContent: \"西安交通大学\" }),\n                new UTSJSONObject({ choiceItemId: \"sysu\", choiceItemContent: \"中山大学\" }),\n                new UTSJSONObject({ choiceItemId: \"hust\", choiceItemContent: \"华中科技大学\" }),\n                new UTSJSONObject({ choiceItemId: \"hit\", choiceItemContent: \"哈尔滨工业大学\" }),\n                new UTSJSONObject({ choiceItemId: \"sjtu\", choiceItemContent: \"上海交通大学\" })\n            ],\n            majorList: [\n                new UTSJSONObject({ choiceItemId: \"jsjkx\", choiceItemContent: \"计算机科学\" }),\n                new UTSJSONObject({ choiceItemId: \"rjgc\", choiceItemContent: \"软件工程\" }),\n                new UTSJSONObject({ choiceItemId: \"sx\", choiceItemContent: \"数学\" }),\n                new UTSJSONObject({ choiceItemId: \"wl\", choiceItemContent: \"物理\" }),\n                new UTSJSONObject({ choiceItemId: \"hx\", choiceItemContent: \"化学\" }),\n                new UTSJSONObject({ choiceItemId: \"sw\", choiceItemContent: \"生物\" }),\n                new UTSJSONObject({ choiceItemId: \"jdxy\", choiceItemContent: \"机电工程\" }),\n                new UTSJSONObject({ choiceItemId: \"dqxy\", choiceItemContent: \"电气工程\" }),\n                new UTSJSONObject({ choiceItemId: \"jzxy\", choiceItemContent: \"建筑学\" }),\n                new UTSJSONObject({ choiceItemId: \"lyxy\", choiceItemContent: \"临床医学\" }),\n                new UTSJSONObject({ choiceItemId: \"yyxy\", choiceItemContent: \"药学\" }),\n                new UTSJSONObject({ choiceItemId: \"glxy\", choiceItemContent: \"管理学\" }),\n                new UTSJSONObject({ choiceItemId: \"jjxy\", choiceItemContent: \"经济学\" }),\n                new UTSJSONObject({ choiceItemId: \"flxy\", choiceItemContent: \"法学\" })\n            ],\n            sortList: [\n                new UTSJSONObject({ choiceItemId: \"zh\", choiceItemContent: \"综合排序\" })\n            ],\n            // 临时选择变量（用户选择但尚未应用）\n            tempSelectedSchool: '',\n            tempSelectedMajor: '',\n            tempSelectedSort: '综合排序',\n            // 下拉框索引\n            schoolIndex: -1,\n            majorIndex: -1,\n            sortIndex: -1\n        };\n    },\n    computed: Object.assign(Object.assign({}, mapState('match', [\n        'teachers',\n        'currentPage',\n        'totalPages',\n        'loading',\n        'loadingMore'\n    ])), mapGetters('match', [\n        'filteredTeachers',\n        'isLoading',\n        'isLoadingMore',\n        'hasMoreData'\n    ])),\n    methods: Object.assign(Object.assign({}, mapActions('match', [\n        'getTeachers',\n        'loadMoreTeachers',\n        'searchTeachers',\n        'resetAndGetTeachers',\n        'selectTeacher'\n    ])), { \n        // 获取老师列表\n        getTeachersList() {\n            return __awaiter(this, void 0, void 0, function* () {\n                yield this.getTeachers(new UTSJSONObject({ page: 1, limit: 10 }));\n            });\n        },\n        // 页面点击事件\n        onPageClick() {\n            // 关闭所有下拉框\n            let comboboxComponents = this.$children.filter(child => { return child.$options.name === 'ChoiceSelected'; });\n            comboboxComponents.forEach(component => {\n                if (component.closeDropdown) {\n                    component.closeDropdown();\n                }\n            });\n        }, \n        // 应用筛选\n        applyFilter() {\n            return __awaiter(this, void 0, void 0, function* () {\n                // 将临时选择的筛选条件应用到搜索\n                const filters = new UTSJSONObject({\n                    school: this.tempSelectedSchool,\n                    major: this.tempSelectedMajor\n                });\n                uni.__f__('log', 'at pages/match/match.uvue:201', '应用筛选:', filters);\n                // 使用Vuex action搜索老师\n                yield this.searchTeachers(filters);\n            });\n        }, \n        // 下拉框选择处理\n        onSchoolClick(position = null) {\n            this.schoolIndex = position;\n            // 只更新临时选择，不立即应用\n            this.tempSelectedSchool = this.schoolList[position].choiceItemContent;\n        },\n        onMajorClick(position = null) {\n            this.majorIndex = position;\n            // 只更新临时选择，不立即应用\n            this.tempSelectedMajor = this.majorList[position].choiceItemContent;\n        },\n        onSortClick(position = null) {\n            this.sortIndex = position;\n            // 只更新临时选择，不立即应用\n            this.tempSelectedSort = this.sortList[position].choiceItemContent;\n        },\n        /**\n         * @description 处理学校搜索输入事件\n         * @param {String} keyword - 搜索关键词\n         */\n        onSchoolSearch(keyword = null) {\n            uni.__f__('log', 'at pages/match/match.uvue:231', '学校搜索:', keyword);\n            // 此处无需实际处理，因为学校列表已在本地\n        },\n        // 与老师沟通\n        handleCommunicate(teacherId = null) {\n            // 选择老师，保存到store\n            this.selectTeacher(teacherId);\n            // 显示加载状态\n            uni.showLoading({\n                title: '正在连接...'\n            });\n            // 模拟延迟后跳转\n            setTimeout(() => {\n                uni.hideLoading();\n                // 使用router.js中的方法跳转到聊天页面\n                Navigator.toChat(teacherId);\n            }, 1000);\n        },\n        // 查看老师详情\n        viewTeacherDetail(teacherId = null) {\n            // 选择老师，保存到store\n            this.selectTeacher(teacherId);\n            // 跳转到老师详情页\n            Navigator.toTeacher(teacherId);\n        } })\n});\n//# sourceMappingURL=E:/yanshilu%E9%87%8D%E6%96%B0%E6%9D%A5%E8%BF%87/%E5%89%8D%E7%AB%AFyanshilu_1/pages/match/match.uvue?vue&type=script&lang.uts.js.map","references":["E:/yanshilu重新来过/前端yanshilu_1/components/combobox/combobox.uvue.ts","E:/yanshilu重新来过/前端yanshilu_1/router/Router.js","E:/yanshilu重新来过/前端yanshilu_1/store/index.js","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/node_modules/vuex/types/index.d.ts"],"uniExtApis":["uni.__f__","uni.showLoading","uni.hideLoading"],"map":"{\"version\":3,\"file\":\"match.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"match.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
