{"code":"import { defineComponent } from \"vue\";\nimport choiceSelected from '../../components/combobox/combobox.uvue';\nimport { Navigator } from '../../router.js';\nexport default defineComponent({\n    components: {\n        choiceSelected\n    },\n    onLoad() {\n        uni.__f__('log', 'at pages/match/match.uvue:116', '匹配页面已加载');\n    },\n    data() {\n        return {\n            // 筛选相关数据\n            schoolList: [\n                new UTSJSONObject({ choiceItemId: \"bjdx\", choiceItemContent: \"北京大学\" }),\n                new UTSJSONObject({ choiceItemId: \"qhdx\", choiceItemContent: \"清华大学\" }),\n                new UTSJSONObject({ choiceItemId: \"fddx\", choiceItemContent: \"复旦大学\" }),\n                new UTSJSONObject({ choiceItemId: \"zjdx\", choiceItemContent: \"浙江大学\" }),\n                new UTSJSONObject({ choiceItemId: \"njdx\", choiceItemContent: \"南京大学\" })\n            ],\n            majorList: [\n                new UTSJSONObject({ choiceItemId: \"jsjkx\", choiceItemContent: \"计算机科学\" }),\n                new UTSJSONObject({ choiceItemId: \"rjgc\", choiceItemContent: \"软件工程\" }),\n                new UTSJSONObject({ choiceItemId: \"sx\", choiceItemContent: \"数学\" }),\n                new UTSJSONObject({ choiceItemId: \"wl\", choiceItemContent: \"物理\" }),\n                new UTSJSONObject({ choiceItemId: \"hx\", choiceItemContent: \"化学\" }),\n                new UTSJSONObject({ choiceItemId: \"sw\", choiceItemContent: \"生物\" })\n            ],\n            sortList: [\n                new UTSJSONObject({ choiceItemId: \"zh\", choiceItemContent: \"综合排序\" })\n            ],\n            selectedSchool: '',\n            selectedMajor: '',\n            selectedSort: '综合排序',\n            schoolIndex: 0,\n            majorIndex: 0,\n            sortIndex: 0,\n            // 加载状态\n            isLoading: false,\n            // 老师数据\n            teachers: [\n                new UTSJSONObject({\n                    id: 1,\n                    nickname: '王教授',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '北京大学',\n                    major: '计算机科学',\n                    title: '教授',\n                    score: '考研400分',\n                    tags: ['认证学校', '经验丰富']\n                }),\n                new UTSJSONObject({\n                    id: 2,\n                    nickname: '李博士',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '清华大学',\n                    major: '软件工程',\n                    title: '副教授',\n                    score: '考研390分',\n                    tags: ['认证学校', '教学认真']\n                }),\n                new UTSJSONObject({\n                    id: 3,\n                    nickname: '张老师',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '复旦大学',\n                    major: '数学',\n                    title: '讲师',\n                    score: '考研380分',\n                    tags: ['认证学校', '耐心细致']\n                }),\n                new UTSJSONObject({\n                    id: 4,\n                    nickname: '刘教授',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '浙江大学',\n                    major: '物理',\n                    title: '教授',\n                    score: '考研410分',\n                    tags: ['认证学校', '通俗易懂']\n                }),\n                new UTSJSONObject({\n                    id: 5,\n                    nickname: '陈老师',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '南京大学',\n                    major: '化学',\n                    title: '副教授',\n                    score: '考研385分',\n                    tags: ['认证学校', '答疑及时']\n                })\n            ],\n            showTeacherDetail: false,\n            currentTeacher: null,\n            activeTab: 'chat'\n        };\n    },\n    computed: {\n        filteredTeachers() {\n            let result = [...this.teachers];\n            if (this.selectedSchool) {\n                result = result.filter(teacher => { return teacher.school === this.selectedSchool; });\n            }\n            if (this.selectedMajor) {\n                result = result.filter(teacher => { return teacher.major === this.selectedMajor; });\n            }\n            // 默认按评分排序\n            result.sort((a, b) => {\n                const scoreA = parseInt(a.score.match(/\\d+/)[0]);\n                const scoreB = parseInt(b.score.match(/\\d+/)[0]);\n                return scoreB - scoreA;\n            });\n            return result;\n        }\n    },\n    methods: {\n        // 下拉框选择处理\n        onSchoolClick(position = null) {\n            this.schoolIndex = position;\n            this.selectedSchool = position > 0 ? this.schoolList[position].choiceItemContent : '';\n        },\n        onMajorClick(position = null) {\n            this.majorIndex = position;\n            this.selectedMajor = position > 0 ? this.majorList[position].choiceItemContent : '';\n        },\n        onSortClick(position = null) {\n            this.sortIndex = position;\n            this.selectedSort = this.sortList[position].choiceItemContent;\n        },\n        // 保留原有方法\n        handleCommunicate(teacherId = null) {\n            this.isLoading = true;\n            setTimeout(() => {\n                this.isLoading = false;\n                // 使用router.js中的方法跳转到聊天页面\n                Navigator.toChat(teacherId);\n            }, 1000);\n        },\n        viewTeacherDetail(teacherId = null) {\n            this.currentTeacher = UTS.arrayFind(this.teachers, t => { return t.id === teacherId; });\n            this.showTeacherDetail = true;\n        },\n        closeTeacherDetail() {\n            this.showTeacherDetail = false;\n        },\n        switchTab(tab = null) {\n            this.activeTab = tab;\n        },\n        startChat() {\n            this.closeTeacherDetail();\n            if (this.currentTeacher) {\n                this.handleCommunicate(this.currentTeacher.id);\n            }\n        },\n        viewTeacherProfile() {\n            if (this.currentTeacher) {\n                uni.navigateTo({\n                    url: `/pages/teacher/teacher?id=${this.currentTeacher.id}`\n                });\n            }\n        }\n    }\n});\n//# sourceMappingURL=E:/yanshilu%E9%87%8D%E6%96%B0%E6%9D%A5%E8%BF%87/%E5%89%8D%E7%AB%AFyanshilu_1/pages/match/match.uvue?vue&type=script&lang.uts.js.map","references":["E:/yanshilu重新来过/前端yanshilu_1/components/combobox/combobox.uvue.ts","E:/yanshilu重新来过/前端yanshilu_1/router.js"],"uniExtApis":["uni.__f__","uni.navigateTo"],"map":"{\"version\":3,\"file\":\"match.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"match.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
