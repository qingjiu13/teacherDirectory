{"code":"import { defineComponent } from \"vue\";\n/**\n * @description 可拖动卡通图标组件\n */\nexport default defineComponent({\n    name: 'AICartoon',\n    data() {\n        // 内联配置，不依赖外部文件\n        const config = new UTSJSONObject({\n            // 图标图片路径\n            iconPath: '/static/image/tab-bar/default_avatar.png',\n            // 初始位置\n            initialLeft: 20,\n            initialTop: 100,\n            // 图标大小\n            size: 60,\n            // 动画效果\n            animation: new UTSJSONObject({\n                duration: 2,\n                distance: 10 // 浮动距离（像素）\n            })\n        });\n        return {\n            config: config,\n            iconPath: config.iconPath,\n            iconLeft: config.initialLeft,\n            iconTop: config.initialTop,\n            startX: 0,\n            startY: 0,\n            isMoving: false\n        };\n    },\n    methods: {\n        /**\n         * @description 处理触摸开始事件\n         * @param {Object} e - 触摸事件对象\n         */\n        handleTouchStart(e = null) {\n            this.startX = e.touches[0].clientX;\n            this.startY = e.touches[0].clientY;\n            this.isMoving = false;\n        },\n        /**\n         * @description 处理触摸移动事件\n         * @param {Object} e - 触摸事件对象\n         */\n        handleTouchMove(e = null) {\n            const moveX = e.touches[0].clientX - this.startX;\n            const moveY = e.touches[0].clientY - this.startY;\n            if (Math.abs(moveX) > 5 || Math.abs(moveY) > 5) {\n                this.isMoving = true;\n            }\n            this.iconLeft += moveX;\n            this.iconTop += moveY;\n            // 边界检测，防止图标拖出屏幕\n            // 使用新的 API 获取窗口信息\n            const windowInfo = uni.getWindowInfo();\n            const screenWidth = windowInfo.windowWidth;\n            const screenHeight = windowInfo.windowHeight;\n            if (this.iconLeft < 0)\n                this.iconLeft = 0;\n            if (this.iconLeft > screenWidth - this.config.size)\n                this.iconLeft = screenWidth - this.config.size;\n            if (this.iconTop < 0)\n                this.iconTop = 0;\n            if (this.iconTop > screenHeight - this.config.size)\n                this.iconTop = screenHeight - this.config.size;\n            this.startX = e.touches[0].clientX;\n            this.startY = e.touches[0].clientY;\n        },\n        /**\n         * @description 处理触摸结束事件\n         */\n        handleTouchEnd() {\n            // 触摸结束可以添加额外逻辑\n        },\n        /**\n         * @description 处理图标点击事件\n         */\n        handleIconClick() {\n            if (!this.isMoving) {\n                // 执行跳转逻辑到AI助手页面\n                uni.navigateTo({\n                    url: '/pages/AI/AI'\n                });\n            }\n            this.isMoving = false;\n        }\n    }\n});\n//# sourceMappingURL=E:/yanshilu%E9%87%8D%E6%96%B0%E6%9D%A5%E8%BF%87/%E5%89%8D%E7%AB%AFyanshilu_1/components/AI-cartoon/AI-cartoon.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getWindowInfo","uni.navigateTo"],"map":"{\"version\":3,\"file\":\"AI-cartoon.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"AI-cartoon.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
