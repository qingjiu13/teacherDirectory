<view class="uni-container"><view class="uni-header"><view class="uni-group"><view class="uni-title">包类型</view><view class="uni-sub-title" style="display:flex;justify-content:center;align-items:center;">{{''+type_valuetotext[formData.type]+''}}</view></view><block wx:if="{{!isStable}}"><view class="uni-group"><button class="uni-button" type="warn" size="mini" data-event-opts="{{[['tap',[['deletePackage',['$event']]]]]}}" bindtap="__e">删除</button></view></block></view><uni-forms class="vue-ref" vue-id="6a2c463c-1" value="{{formData}}" validateTrigger="bind" labelWidth="{{labelWidth}}" data-ref="form" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms-item vue-id="{{('6a2c463c-2')+','+('6a2c463c-1')}}" name="appid" label="AppID" required="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-3')+','+('6a2c463c-2')}}" disabled="{{true}}" trim="both" value="{{formData.appid}}" data-event-opts="{{[['^input',[['__set_model',['$0','appid','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-4')+','+('6a2c463c-1')}}" name="name" label="应用名称" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-5')+','+('6a2c463c-4')}}" disabled="{{true}}" trim="both" value="{{formData.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-6')+','+('6a2c463c-1')}}" name="title" label="更新标题" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-7')+','+('6a2c463c-6')}}" disabled="{{detailsState}}" placeholder="更新标题" value="{{formData.title}}" data-event-opts="{{[['^input',[['__set_model',['$0','title','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-8')+','+('6a2c463c-1')}}" name="contents" label="更新内容" required="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><textarea class="uni-textarea-border" style="box-sizing:content-box;" auto-height="{{true}}" disabled="{{detailsState}}" placeholder="更新内容 (可换行)" data-event-opts="{{[['input',[['binddata',['contents','$0'],['$event.detail.value']]]],['update:value',[['e0',['$event']]]]]}}" value="{{formData.contents}}" bindinput="__e" bindupdate:value="__e"></textarea></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-9')+','+('6a2c463c-1')}}" name="platform" label="平台" required="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-data-checkbox bind:input="__e" vue-id="{{('6a2c463c-10')+','+('6a2c463c-9')}}" disabled="{{true}}" multiple="{{isWGT}}" localdata="{{platformLocaldata}}" value="{{formData.platform}}" data-event-opts="{{[['^input',[['__set_model',['$0','platform','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-data-checkbox></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-11')+','+('6a2c463c-1')}}" name="version" label="版本号" required="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-12')+','+('6a2c463c-11')}}" disabled="{{true}}" placeholder="当前包版本号，必须大于当前已上线版本号" value="{{formData.version}}" data-event-opts="{{[['^input',[['__set_model',['$0','version','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><block wx:if="{{isWGT}}"><uni-forms-item vue-id="{{('6a2c463c-13')+','+('6a2c463c-1')}}" name="min_uni_version" label="原生App最低版本" required="{{isWGT}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-14')+','+('6a2c463c-13')}}" disabled="{{detailsState}}" placeholder="原生App最低版本" value="{{formData.min_uni_version}}" data-event-opts="{{[['^input',[['__set_model',['$0','min_uni_version','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput><show-info vue-id="{{('6a2c463c-15')+','+('6a2c463c-13')}}" content="{{minUniVersionContent}}" bind:__l="__l"></show-info></uni-forms-item></block><block wx:if="{{enableUploadPackage&&!detailsState}}"><uni-forms-item vue-id="{{('6a2c463c-16')+','+('6a2c463c-1')}}" label="存储选择" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex"><radio-group data-event-opts="{{[['change',[['e1',['$event']]]]]}}" style="width:100%;" bindchange="__e"><view class="flex" style="flex-wrap:nowrap;">上传至：<label><radio value="unicloud" checked="{{uniFilePickerProvider==='unicloud'}}"></radio><text>内置存储</text></label><label style="margin-left:20rpx;"><radio value="extStorage" checked="{{uniFilePickerProvider==='extStorage'}}"></radio><text>扩展存储</text></label></view></radio-group><text class="uni-sub-title" style="margin-top:10px;font-size:12px;color:#666;width:100%;">内置存储是服务空间开通后自带的云存储，不支持自定义域名，不支持阶梯计费</text><text class="uni-sub-title" style="margin-top:10px;font-size:12px;color:#666;">扩展存储支持自定义域名、阶梯计费，越用越便宜、功能更强大</text><text data-event-opts="{{[['tap',[['toUrl',['https://doc.dcloud.net.cn/uniCloud/ext-storage/service.html']]]]]}}" class="uni-sub-title" style="margin-top:10px;font-size:12px;color:#2979ff;cursor:pointer;text-decoration:underline;margin-left:10px;" bindtap="__e">扩展存储开通文档</text></view></uni-forms-item><block wx:if="{{uniFilePickerProvider==='extStorage'}}"><uni-forms-item vue-id="{{('6a2c463c-17')+','+('6a2c463c-1')}}" label="自定义域名" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex" style="flex-direction:column;align-items:flex-start;"><uni-easyinput bind:input="__e" style="width:550px;" vue-id="{{('6a2c463c-18')+','+('6a2c463c-17')}}" placeholder="请输入扩展存储自定义域名" maxlength="{{-1}}" value="{{domain}}" data-event-opts="{{[['^input',[['__set_model',['','domain','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><text class="uni-sub-title" style="margin-top:10px;font-size:12px;color:#666;">输入扩展存储绑定的域名，在服务空间-云存储-扩展存储页面可查看，如：cdn.example.com</text></view></uni-forms-item></block><uni-forms-item vue-id="{{('6a2c463c-19')+','+('6a2c463c-1')}}" label="{{'上传'+fileExtname[0]+'包'}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-file-picker vue-id="{{('6a2c463c-20')+','+('6a2c463c-19')}}" file-extname="{{fileExtname}}" disabled="{{hasPackage}}" returnType="object" file-mediatype="all" limit="1" provider="{{uniFilePickerProvider}}" value="{{appFileList}}" data-event-opts="{{[['^success',[['packageUploadSuccess']]],['^delete',[['packageDelete']]],['^input',[['__set_model',['','appFileList','$event',[]]]]]]}}" bind:success="__e" bind:delete="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex"><button style="margin:0px;" type="primary" size="mini" data-event-opts="{{[['tap',[['selectFile',['$event']]]]]}}" bindtap="__e">选择文件</button></view></uni-file-picker><block wx:if="{{hasPackage}}"><text style="padding-left:20px;color:#a8a8a8;">{{$root.g0+"M"}}</text></block></uni-forms-item></block><uni-forms-item vue-id="{{('6a2c463c-21')+','+('6a2c463c-1')}}" name="url" label="{{urlLabel}}" required="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex" style="flex-direction:column;align-items:flex-start;flex:1;"><view class="flex" style="width:100%;"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-22')+','+('6a2c463c-21')}}" disabled="{{detailsState}}" placeholder="下载链接" maxlength="{{-1}}" value="{{formData.url}}" data-event-opts="{{[['^input',[['__set_model',['$0','url','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput><block wx:if="{{formData.url}}"><text data-event-opts="{{[['tap',[['toUrl',['$0'],['formData.url']]]]]}}" style="margin-left:10px;color:#2979ff;cursor:pointer;text-decoration:underline;" bindtap="__e">测试下载</text></block></view><block wx:if="{{formData.url&&!detailsState}}"><text style="margin-top:10px;font-size:12px;color:#666;">建议点击【测试下载】能正常下载后，再进行发布</text></block></view></uni-forms-item><block wx:if="{{$root.g1}}"><uni-forms-item vue-id="{{('6a2c463c-23')+','+('6a2c463c-1')}}" label="Android应用市场" name="store_list" labelWidth="120" bind:__l="__l" vue-slots="{{['default']}}"><view style="flex:1;"><block wx:for="{{formData.store_list}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view><uni-card style="margin:0px 0px 20px 0px;" vue-id="{{('6a2c463c-24-'+index)+','+('6a2c463c-23')}}" bind:__l="__l" vue-slots="{{['default']}}"><view style="display:flex;"><checkbox-group data-event-opts="{{[['change',[['e2',['$event']]]]]}}" data-event-params="{{({item})}}" style="user-select:none;" bindchange="__e"><label class="title_padding"><checkbox disabled="{{detailsState}}" value="scheme" checked="{{item.enable}}"></checkbox><text>是否启用</text></label></checkbox-group></view><uni-forms-item vue-id="{{('6a2c463c-25-'+index)+','+('6a2c463c-24-'+index)}}" label="商店名称" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-26-'+index)+','+('6a2c463c-25-'+index)}}" disabled="{{true}}" trim="both" value="{{item.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],[[['formData.store_list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-27-'+index)+','+('6a2c463c-24-'+index)}}" label="Scheme" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-28-'+index)+','+('6a2c463c-27-'+index)}}" disabled="{{true}}" trim="both" value="{{item.scheme}}" data-event-opts="{{[['^input',[['__set_model',['$0','scheme','$event',[]],[[['formData.store_list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-29-'+index)+','+('6a2c463c-24-'+index)}}" label="优先级" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('6a2c463c-30-'+index)+','+('6a2c463c-29-'+index)}}" disabled="{{detailsState}}" type="number" value="{{item.priority}}" data-event-opts="{{[['^input',[['__set_model',['$0','priority','$event',[]],[[['formData.store_list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput><show-info vue-id="{{('6a2c463c-31-'+index)+','+('6a2c463c-29-'+index)}}" top="{{-100}}" left="{{-180}}" content="{{priorityContent}}" bind:__l="__l"></show-info></uni-forms-item></uni-card></view></block></view></uni-forms-item></block><block wx:if="{{isWGT}}"><uni-forms-item vue-id="{{('6a2c463c-32')+','+('6a2c463c-1')}}" name="is_silently" label="静默更新" bind:__l="__l" vue-slots="{{['default']}}"><switch disabled="{{detailsState}}" checked="{{formData.is_silently}}" data-event-opts="{{[['change',[['e3',['$event']]]]]}}" bindchange="__e"></switch><show-info vue-id="{{('6a2c463c-33')+','+('6a2c463c-32')}}" top="{{-80}}" content="{{silentlyContent}}" bind:__l="__l"></show-info></uni-forms-item></block><uni-forms-item vue-id="{{('6a2c463c-34')+','+('6a2c463c-1')}}" name="is_mandatory" label="强制更新" bind:__l="__l" vue-slots="{{['default']}}"><switch disabled="{{detailsState}}" checked="{{formData.is_mandatory}}" data-event-opts="{{[['change',[['e4',['$event']]]]]}}" bindchange="__e"></switch><show-info vue-id="{{('6a2c463c-35')+','+('6a2c463c-34')}}" width="230" top="{{-30}}" content="{{mandatoryContent}}" bind:__l="__l"></show-info></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-36')+','+('6a2c463c-1')}}" name="stable_publish" label="上线发行" bind:__l="__l" vue-slots="{{['default']}}"><switch disabled="{{detailsState||isStable}}" checked="{{formData.stable_publish}}" data-event-opts="{{[['change',[['e5',['$event']]]]]}}" bindchange="__e"></switch><block wx:if="{{isStable}}"><show-info vue-id="{{('6a2c463c-37')+','+('6a2c463c-36')}}" top="{{-50}}" width="350" content="{{stablePublishContent}}" bind:__l="__l"></show-info></block><block wx:else><show-info vue-id="{{('6a2c463c-38')+','+('6a2c463c-36')}}" top="{{-40}}" content="{{stablePublishContent2}}" bind:__l="__l"></show-info></block></uni-forms-item><uni-forms-item vue-id="{{('6a2c463c-39')+','+('6a2c463c-1')}}" name="create_date" label="上传时间" bind:__l="__l" vue-slots="{{['default']}}"><uni-dateformat vue-id="{{('6a2c463c-40')+','+('6a2c463c-39')}}" format="yyyy-MM-dd hh:mm:ss" date="{{formData.create_date}}" threshold="{{[0,0]}}" bind:__l="__l"></uni-dateformat></uni-forms-item><uni-forms-item data-custom-hidden="{{!(false)}}" vue-id="{{('6a2c463c-41')+','+('6a2c463c-1')}}" name="type" label="安装包类型" bind:__l="__l" vue-slots="{{['default']}}"><uni-data-checkbox bind:input="__e" vue-id="{{('6a2c463c-42')+','+('6a2c463c-41')}}" localdata="{{formOptions.type_localdata}}" value="{{formData.type}}" data-event-opts="{{[['^input',[['__set_model',['$0','type','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-data-checkbox></uni-forms-item><view class="uni-button-group"><block wx:if="{{detailsState}}"><button class="uni-button" style="width:100px;" type="primary" data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" bindtap="__e">修改</button></block><block wx:if="{{!detailsState}}"><button class="uni-button" style="width:100px;" type="primary" data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" bindtap="__e">提交</button></block><block wx:if="{{!detailsState}}"><button class="uni-button" style="width:100px;" type="warn" data-event-opts="{{[['tap',[['cancelEdit',['$event']]]]]}}" bindtap="__e">取消</button></block><navigator style="margin-left:15px;" open-type="navigateBack"><button class="uni-button" style="width:100px;">返回</button></navigator></view></uni-forms></view>