{"code":"import { defineComponent } from \"vue\";\nimport choiceSelected from '../../components/combobox/combobox';\nimport { Navigator } from '@/router/Router.js';\nexport default defineComponent({\n    components: {\n        choiceSelected\n    },\n    onLoad() {\n        uni.__f__('log', 'at pages/match/match.uvue:89', '匹配页面已加载');\n    },\n    data() {\n        return {\n            // 筛选相关数据\n            schoolList: [\n                new UTSJSONObject({ choiceItemId: \"bjdx\", choiceItemContent: \"北京大学\" }),\n                new UTSJSONObject({ choiceItemId: \"qhdx\", choiceItemContent: \"清华大学\" }),\n                new UTSJSONObject({ choiceItemId: \"fddx\", choiceItemContent: \"复旦大学\" }),\n                new UTSJSONObject({ choiceItemId: \"zjdx\", choiceItemContent: \"浙江大学\" }),\n                new UTSJSONObject({ choiceItemId: \"njdx\", choiceItemContent: \"南京大学\" }),\n                new UTSJSONObject({ choiceItemId: \"scdx\", choiceItemContent: \"四川大学\" }),\n                new UTSJSONObject({ choiceItemId: \"whdx\", choiceItemContent: \"武汉大学\" }),\n                new UTSJSONObject({ choiceItemId: \"zsdx\", choiceItemContent: \"中山大学\" }),\n                new UTSJSONObject({ choiceItemId: \"xjtu\", choiceItemContent: \"西安交通大学\" }),\n                new UTSJSONObject({ choiceItemId: \"sysu\", choiceItemContent: \"中山大学\" }),\n                new UTSJSONObject({ choiceItemId: \"hust\", choiceItemContent: \"华中科技大学\" }),\n                new UTSJSONObject({ choiceItemId: \"hit\", choiceItemContent: \"哈尔滨工业大学\" }),\n                new UTSJSONObject({ choiceItemId: \"sjtu\", choiceItemContent: \"上海交通大学\" })\n            ],\n            majorList: [\n                new UTSJSONObject({ choiceItemId: \"jsjkx\", choiceItemContent: \"计算机科学\" }),\n                new UTSJSONObject({ choiceItemId: \"rjgc\", choiceItemContent: \"软件工程\" }),\n                new UTSJSONObject({ choiceItemId: \"sx\", choiceItemContent: \"数学\" }),\n                new UTSJSONObject({ choiceItemId: \"wl\", choiceItemContent: \"物理\" }),\n                new UTSJSONObject({ choiceItemId: \"hx\", choiceItemContent: \"化学\" }),\n                new UTSJSONObject({ choiceItemId: \"sw\", choiceItemContent: \"生物\" }),\n                new UTSJSONObject({ choiceItemId: \"jdxy\", choiceItemContent: \"机电工程\" }),\n                new UTSJSONObject({ choiceItemId: \"dqxy\", choiceItemContent: \"电气工程\" }),\n                new UTSJSONObject({ choiceItemId: \"jzxy\", choiceItemContent: \"建筑学\" }),\n                new UTSJSONObject({ choiceItemId: \"lyxy\", choiceItemContent: \"临床医学\" }),\n                new UTSJSONObject({ choiceItemId: \"yyxy\", choiceItemContent: \"药学\" }),\n                new UTSJSONObject({ choiceItemId: \"glxy\", choiceItemContent: \"管理学\" }),\n                new UTSJSONObject({ choiceItemId: \"jjxy\", choiceItemContent: \"经济学\" }),\n                new UTSJSONObject({ choiceItemId: \"flxy\", choiceItemContent: \"法学\" })\n            ],\n            sortList: [\n                new UTSJSONObject({ choiceItemId: \"zh\", choiceItemContent: \"综合排序\" })\n            ],\n            // 临时选择变量（用户选择但尚未应用）\n            tempSelectedSchool: '',\n            tempSelectedMajor: '',\n            tempSelectedSort: '综合排序',\n            // 实际应用的筛选变量（点击筛选按钮后才会更新）\n            appliedSelectedSchool: '',\n            appliedSelectedMajor: '',\n            appliedSelectedSort: '综合排序',\n            // 下拉框索引\n            schoolIndex: -1,\n            majorIndex: -1,\n            sortIndex: -1,\n            // 加载状态\n            isLoading: false,\n            // 老师数据\n            teachers: [\n                new UTSJSONObject({\n                    id: 1,\n                    nickname: '王教授',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '北京大学',\n                    major: '计算机科学',\n                    title: '教授',\n                    score: '考研400分',\n                    tags: ['认证学校', '经验丰富', '答疑及时', '通俗易懂']\n                }),\n                new UTSJSONObject({\n                    id: 2,\n                    nickname: '李博士',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '清华大学',\n                    major: '软件工程',\n                    title: '副教授',\n                    score: '考研390分',\n                    tags: ['认证学校', '教学认真']\n                }),\n                new UTSJSONObject({\n                    id: 3,\n                    nickname: '张老师',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '复旦大学',\n                    major: '数学',\n                    title: '讲师',\n                    score: '考研380分',\n                    tags: ['认证学校', '耐心细致']\n                }),\n                new UTSJSONObject({\n                    id: 4,\n                    nickname: '刘教授',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '浙江大学',\n                    major: '物理',\n                    title: '教授',\n                    score: '考研410分',\n                    tags: ['认证学校', '通俗易懂']\n                }),\n                new UTSJSONObject({\n                    id: 5,\n                    nickname: '陈老师',\n                    avatar: '/static/image/tab-bar/default_avatar.png',\n                    school: '南京大学',\n                    major: '化学',\n                    title: '副教授',\n                    score: '考研385分',\n                    tags: ['认证学校', '答疑及时']\n                })\n            ]\n        };\n    },\n    computed: {\n        filteredTeachers() {\n            let result = [...this.teachers];\n            // 使用应用后的筛选条件，而非临时选择的条件\n            if (this.appliedSelectedSchool) {\n                result = result.filter(teacher => { return teacher.school === this.appliedSelectedSchool; });\n            }\n            if (this.appliedSelectedMajor) {\n                result = result.filter(teacher => { return teacher.major === this.appliedSelectedMajor; });\n            }\n            // 默认按评分排序\n            result.sort((a, b) => {\n                const scoreA = parseInt(a.score.match(/\\d+/)[0]);\n                const scoreB = parseInt(b.score.match(/\\d+/)[0]);\n                return scoreB - scoreA;\n            });\n            return result;\n        }\n    },\n    methods: {\n        // 页面点击事件\n        onPageClick() {\n            // 关闭所有下拉框\n            let comboboxComponents = this.$children.filter(child => { return child.$options.name === 'ChoiceSelected'; });\n            comboboxComponents.forEach(component => {\n                if (component.closeDropdown) {\n                    component.closeDropdown();\n                }\n            });\n        },\n        // 应用筛选\n        applyFilter() {\n            // 将临时选择的筛选条件应用到实际筛选条件\n            this.appliedSelectedSchool = this.tempSelectedSchool;\n            this.appliedSelectedMajor = this.tempSelectedMajor;\n            this.appliedSelectedSort = this.tempSelectedSort;\n            uni.__f__('log', 'at pages/match/match.uvue:240', '应用筛选:', new UTSJSONObject({\n                学校: this.appliedSelectedSchool,\n                专业: this.appliedSelectedMajor,\n                排序: this.appliedSelectedSort\n            }));\n        },\n        // 下拉框选择处理\n        onSchoolClick(position = null) {\n            this.schoolIndex = position;\n            // 只更新临时选择，不立即应用\n            this.tempSelectedSchool = this.schoolList[position].choiceItemContent;\n        },\n        onMajorClick(position = null) {\n            this.majorIndex = position;\n            // 只更新临时选择，不立即应用\n            this.tempSelectedMajor = this.majorList[position].choiceItemContent;\n        },\n        onSortClick(position = null) {\n            this.sortIndex = position;\n            // 只更新临时选择，不立即应用\n            this.tempSelectedSort = this.sortList[position].choiceItemContent;\n        },\n        /**\n         * @description 处理学校搜索输入事件\n         * @param {String} keyword - 搜索关键词\n         */\n        onSchoolSearch(keyword = null) {\n            uni.__f__('log', 'at pages/match/match.uvue:268', '学校搜索:', keyword);\n            // 在实际应用中，可以在这里处理更高级的搜索逻辑\n            // 例如从服务器获取更多匹配的学校数据\n        },\n        // 保留原有方法\n        handleCommunicate(teacherId = null) {\n            this.isLoading = true;\n            setTimeout(() => {\n                this.isLoading = false;\n                // 使用router.js中的方法跳转到聊天页面\n                Navigator.toChat(teacherId);\n            }, 1000);\n        },\n        viewTeacherDetail(teacherId = null) {\n            Navigator.toTeacher(teacherId);\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/%E5%89%8D%E7%AB%AFyanshilu_1/pages/match/match.uvue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/前端yanshilu_1/components/combobox/combobox.uvue.ts","E:/研师录与其他人共享文件/teacherDirectory/前端yanshilu_1/router/Router.js"],"uniExtApis":["uni.__f__"],"map":"{\"version\":3,\"file\":\"match.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"match.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
