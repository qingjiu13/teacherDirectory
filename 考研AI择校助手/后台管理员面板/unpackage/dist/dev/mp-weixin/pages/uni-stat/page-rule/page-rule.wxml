<view class="data-v-f99666c0"><view class="uni-header data-v-f99666c0"><uni-stat-breadcrumb class="uni-stat-breadcrumb-on-phone data-v-f99666c0" vue-id="39356f34-1" bind:__l="__l"></uni-stat-breadcrumb><view class="uni-group data-v-f99666c0"><input class="uni-search data-v-f99666c0" type="text" placeholder="请输入搜索内容" data-event-opts="{{[['confirm',[['search',['$event']]]],['input',[['__set_model',['','query','$event',[]]]]]]}}" value="{{query}}" bindconfirm="__e" bindinput="__e"/><button class="uni-button data-v-f99666c0" type="default" size="mini" data-event-opts="{{[['tap',[['search',['$event']]]]]}}" bindtap="__e">搜索</button></view></view><view class="uni-container data-v-f99666c0"><view class="uni-stat--x flex p-1015 data-v-f99666c0"><view class="uni-stat--app-select data-v-f99666c0" style="width:500px;"><uni-data-select vue-id="39356f34-2" collection="opendb-app-list" field="appid as value, name as text" orderby="text asc" label="应用选择" data-ref="appListRef" value="{{appid}}" data-event-opts="{{[['^change',[['search']]],['^input',[['__set_model',['','appid','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-f99666c0 vue-ref" bind:__l="__l"></uni-data-select></view></view><unicloud-db scoped-slots-compiler="augmented" vue-id="39356f34-3" collection="{{collectionList}}" field="title,path,page_rules,appid" where="{{where}}" page-data="replace" orderby="{{orderby}}" getcount="{{true}}" page-size="{{options.pageSize}}" page-current="{{options.pageCurrent}}" options="{{options}}" loadtime="manual" data-ref="udb" data-event-opts="{{[['^load',[['onqueryload']]]]}}" bind:load="__e" class="data-v-f99666c0 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$root.m0}}"><uni-table vue-id="{{('39356f34-4')+','+('39356f34-3')}}" loading="{{$root.m1['loading']}}" emptyText="{{$root.m2}}" border="{{true}}" stripe="{{true}}" data-ref="table" class="data-v-f99666c0 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('39356f34-5')+','+('39356f34-4')}}" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('39356f34-6')+','+('39356f34-5')}}" align="center" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">序号</uni-th><uni-th vue-id="{{('39356f34-7')+','+('39356f34-5')}}" align="center" filter-type="search" data-event-opts="{{[['^filterChange',[['filterChange',['$event','title']]]]]}}" bind:filterChange="__e" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">页面标题</uni-th><uni-th vue-id="{{('39356f34-8')+','+('39356f34-5')}}" align="left" filter-type="search" data-event-opts="{{[['^filterChange',[['filterChange',['$event','path']]]]]}}" bind:filterChange="__e" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">页面URL</uni-th><uni-th vue-id="{{('39356f34-9')+','+('39356f34-5')}}" align="center" filter-type="search" data-event-opts="{{[['^filterChange',[['filterChange',['$event','appid']]]]]}}" bind:filterChange="__e" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">appid</uni-th><uni-th vue-id="{{('39356f34-10')+','+('39356f34-5')}}" align="center" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('39356f34-11-'+index)+','+('39356f34-4')}}" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('39356f34-12-'+index)+','+('39356f34-11-'+index)}}" align="center" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">{{(item.m3['pagination'].current-1)*item.m4['pagination'].size+(index+1)}}</uni-td><uni-td vue-id="{{('39356f34-13-'+index)+','+('39356f34-11-'+index)}}" align="center" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.title}}</uni-td><uni-td vue-id="{{('39356f34-14-'+index)+','+('39356f34-11-'+index)}}" align="left" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.path}}</uni-td><uni-td vue-id="{{('39356f34-15-'+index)+','+('39356f34-11-'+index)}}" align="center" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.appid}}</uni-td><uni-td vue-id="{{('39356f34-16-'+index)+','+('39356f34-11-'+index)}}" align="center" class="data-v-f99666c0" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-group data-v-f99666c0"><button class="uni-button data-v-f99666c0" size="mini" type="primary" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">编辑规则</button></view></uni-td></uni-tr></block></uni-table><view class="uni-pagination-box data-v-f99666c0"><uni-pagination vue-id="{{('39356f34-17')+','+('39356f34-3')}}" show-icon="{{true}}" page-size="{{$root.m5['pagination'].size}}" total="{{$root.m6['pagination'].count}}" value="{{$root.m7['pagination'].current}}" data-event-opts="{{[['^change',[['onPageChanged']]],['^input',[['__set_model',['$0','current','$event',[]],['$getSSP(39356f34-3,default).pagination']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-f99666c0" bind:__l="__l"></uni-pagination></view></block></unicloud-db></view><uni-popup vue-id="39356f34-18" type="center" data-ref="editRulePopup" class="data-v-f99666c0 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="edit-rule-popup data-v-f99666c0"><view class="uni-title data-v-f99666c0">页面规则</view><view class="edit-rule-popup-tips data-v-f99666c0"><uni-notice-bar vue-id="{{('39356f34-19')+','+('39356f34-18')}}" font-size="{{12}}" text="{{editRulePopup.tips}}" class="data-v-f99666c0" bind:__l="__l"></uni-notice-bar></view><view class="edit-rule-popup-list data-v-f99666c0"><block wx:for="{{$root.l1}}" wx:for-item="item1" wx:for-index="index1" wx:key="index1"><view class="edit-rule-popup-item data-v-f99666c0"><view class="name data-v-f99666c0">{{'规则 '+($root.g0-index1)+''}}</view><view class="tags data-v-f99666c0"><block wx:for="{{item1.$orig}}" wx:for-item="item2" wx:for-index="index2" wx:key="index2"><view class="tags-item tags-item-text data-v-f99666c0"><text class="text data-v-f99666c0">{{item2}}</text><uni-icons class="pointer data-v-f99666c0" vue-id="{{('39356f34-20-'+index1+'-'+index2)+','+('39356f34-18')}}" type="closeempty" size="12" color="#42b983" data-event-opts="{{[['^click',[['deleteParamItem',[index1,index2]]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></view></block><view class="tags-item tags-item-add data-v-f99666c0"><block wx:if="{{editRulePopup.addParamInfo.index1===index1&&editRulePopup.isAddParam}}"><input class="tags-item-add-input data-v-f99666c0" type="text" focus="{{editRulePopup.addParamInfo.index1===index1&&editRulePopup.isAddParam}}" placeholder="输入参数名" data-event-opts="{{[['blur',[['confirmAddParamItem',[index1]],['$forceUpdate']]],['input',[['__set_model',['$0','value','$event',['trim']],['editRulePopup.addParamInfo']]]]]}}" value="{{editRulePopup.addParamInfo.value}}" bindblur="__e" bindinput="__e"/></block><block wx:else><button class="tags-item-add-btn data-v-f99666c0" size="mini" data-event-opts="{{[['tap',[['addParamItem',[index1]]]]]}}" bindtap="__e">+ 添加参数</button></block></view></view><view class="btn data-v-f99666c0"><block wx:if="{{item1.g1}}"><uni-icons class="pointer data-v-f99666c0" vue-id="{{('39356f34-21-'+index1)+','+('39356f34-18')}}" type="plus" size="28" color="#606266" data-event-opts="{{[['^click',[['addRulesItem']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><block wx:else><uni-icons class="pointer data-v-f99666c0" vue-id="{{('39356f34-22-'+index1)+','+('39356f34-18')}}" type="minus" size="28" color="#606266" data-event-opts="{{[['^click',[['deleteRulesItem',[index1]]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block></view></view></block></view><view class="edit-rule-popup-btn data-v-f99666c0"><button class="uni-button btn data-v-f99666c0" type="primary" size="default" loading="{{editRulePopup.loading}}" disabled="{{editRulePopup.loading}}" data-event-opts="{{[['tap',[['saveRule',['$event']]]]]}}" bindtap="__e">保存</button><button class="uni-button btn data-v-f99666c0" type="default" size="default" data-event-opts="{{[['tap',[['closeEditRulePopup',['$event']]]]]}}" bindtap="__e">取消</button></view></view></uni-popup></view>