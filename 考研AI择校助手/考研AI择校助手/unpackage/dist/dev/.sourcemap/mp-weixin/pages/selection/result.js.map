{"version":3,"sources":["uni-app:///main.js","webpack:///E:/考研AI择校助手/考研AI择校助手/pages/selection/result.vue?3de5","webpack:///E:/考研AI择校助手/考研AI择校助手/pages/selection/result.vue?15c9","webpack:///E:/考研AI择校助手/考研AI择校助手/pages/selection/result.vue?0964","webpack:///E:/考研AI择校助手/考研AI择校助手/pages/selection/result.vue?3ec3","uni-app:///pages/selection/result.vue","webpack:///E:/考研AI择校助手/考研AI择校助手/pages/selection/result.vue?5336","webpack:///E:/考研AI择校助手/考研AI择校助手/pages/selection/result.vue?5d49"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","analysisId","currentIndex","loading","analysisResult","displaySchools","onLoad","console","methods","formatNumberedList","formattedText","loadAnalysisResult","uniCloud","name","action","id","timeout","result","features","reason","difficulty","suggestion","rating","recommendMajor","showError","uni","title","content","showCancel","success","swiperChange","jumpToCard","restartAnalysis","delta","url","shareResult","icon","formatRating","formatAdviceContent","lines","html","matches"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACuM;AACvM,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAAuxB,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC4H3yB;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;IACA;IACA;;IAEA;IACA;EACA;EACAC;IACA;IACAC;MACA;;MAEA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACAC;MAEA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAJ;;gBAEA;gBAAA;gBAAA,OACAK;kBACAC;kBACAb;oBACAc;oBACAC;kBACA;kBACAC;gBACA;cAAA;gBAPAC;gBASAV;gBAEA;kBACA;kBACAP;kBAEA;oBACA;oBAEA,6CACAA;sBACA;sBACAO;oBACA;sBACA;sBACAA;sBACA;wBACAM;wBACAK;wBACAC;wBACAC;wBACAC;wBACAC;wBACAC;sBACA;oBACA;sBACA;sBACA;oBACA;kBACA;oBACA;oBACA;kBACA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAC;MACAC;QACAC;QACAC;QACAC;QACAC;UACAJ;QACA;MACA;IACA;IAEA;IACAK;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACAP;QACAQ;QAAA;QACAJ;UACAJ;YACAS;UACA;QACA;MACA;IACA;IAEA;IACAC;MACAV;QACAC;QACAU;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;;MAEA;MACA;MAEA;QACA;QAAA,2CACAC;UAAA;QAAA;UAAA;YAAA;YACA;cACAC;cACA;YACA;;YAEA;YACA;cACAA;YACA;cACAA;YACA;UACA;QAAA;UAAA;QAAA;UAAA;QAAA;MACA;QACA;QACA;QACA;QAEA;UACA;UAAA,4CACAC;YAAA;UAAA;YAAA;cAAA;cACAD;YACA;UAAA;YAAA;UAAA;YAAA;UAAA;QACA;UACA;UACAA;QACA;MACA;MAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1TA;AAAA;AAAA;AAAA;AAAknC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACAtoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/selection/result.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/selection/result.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./result.vue?vue&type=template&id=97b8c30e&\"\nvar renderjs\nimport script from \"./result.vue?vue&type=script&lang=js&\"\nexport * from \"./result.vue?vue&type=script&lang=js&\"\nimport style0 from \"./result.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/selection/result.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./result.vue?vue&type=template&id=97b8c30e&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !_vm.loading\n    ? _vm.__map(_vm.displaySchools, function (school, index) {\n        var $orig = _vm.__get_orig(school)\n        var m0 = _vm.formatRating(school.rating)\n        var g0 = _vm.displaySchools.length\n        return {\n          $orig: $orig,\n          m0: m0,\n          g0: g0,\n        }\n      })\n    : null\n  var m1 =\n    !_vm.loading &&\n    _vm.analysisResult &&\n    _vm.analysisResult.analysis_result &&\n    _vm.analysisResult.analysis_result.advice\n      ? _vm.formatAdviceContent(\n          _vm.analysisResult.analysis_result.advice.advantages\n        )\n      : null\n  var m2 =\n    !_vm.loading &&\n    _vm.analysisResult &&\n    _vm.analysisResult.analysis_result &&\n    _vm.analysisResult.analysis_result.advice\n      ? _vm.formatAdviceContent(\n          _vm.analysisResult.analysis_result.advice.disadvantages\n        )\n      : null\n  var m3 =\n    !_vm.loading &&\n    _vm.analysisResult &&\n    _vm.analysisResult.analysis_result &&\n    _vm.analysisResult.analysis_result.advice\n      ? _vm.formatAdviceContent(\n          _vm.analysisResult.analysis_result.advice.strategy\n        )\n      : null\n  var m4 =\n    !_vm.loading &&\n    _vm.analysisResult &&\n    _vm.analysisResult.analysis_result &&\n    _vm.analysisResult.analysis_result.advice\n      ? _vm.formatAdviceContent(\n          _vm.analysisResult.analysis_result.advice.timeline\n        )\n      : null\n  var m5 =\n    !_vm.loading &&\n    _vm.analysisResult &&\n    _vm.analysisResult.analysis_result &&\n    _vm.analysisResult.analysis_result.advice\n      ? _vm.formatAdviceContent(\n          _vm.analysisResult.analysis_result.advice.keyPoints\n        )\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./result.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./result.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"title\">AI智能择校推荐</text>\r\n\t\t\t<view class=\"subtitle\">基于您的背景为您精选的最佳院校</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view v-if=\"loading\" class=\"loading-container\">\r\n\t\t\t<image class=\"loading-image\" src=\"/static/robot.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<text class=\"loading-text\">正在加载分析结果...</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"analysis-result\" v-else>\r\n\t\t\t<!-- 卡片滑动区域 -->\r\n\t\t\t<swiper class=\"recommendation-swiper\" circular @change=\"swiperChange\" :indicator-dots=\"false\">\r\n\t\t\t\t<swiper-item v-for=\"(school, index) in displaySchools\" :key=\"index\" class=\"swiper-item\">\r\n\t\t\t\t\t<view class=\"school-card\">\r\n\t\t\t\t\t\t<view class=\"school-header\">\r\n\t\t\t\t\t\t\t<text class=\"school-name\">{{school.name}}</text>\r\n\t\t\t\t\t\t\t<view class=\"star-rating-wrapper\">\r\n\t\t\t\t\t\t\t\t<view class=\"stars-outer\">\r\n\t\t\t\t\t\t\t\t\t<!-- 底层灰色星星 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"stars-background\">★★★★★</view>\r\n\t\t\t\t\t\t\t\t\t<!-- 上层金色星星，宽度根据评分动态计算 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"stars-foreground\" :style=\"{width: (school.rating/5*100)+'%'}\">★★★★★</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"rating-number\">{{formatRating(school.rating)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"divider\"></view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">推荐专业：</text>\r\n\t\t\t\t\t\t\t<text class=\"value highlight\">{{school.recommendMajor}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">院校特点：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.features}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">推荐理由：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.reason}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">录取难度：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.difficulty}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">针对性建议：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.suggestion}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"card-footer\">\r\n\t\t\t\t\t\t\t<text class=\"page-indicator\">{{currentIndex + 1}}/{{displaySchools.length}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t\r\n\t\t\t<!-- 卡片指示器 -->\r\n\t\t\t<view class=\"indicator-dots\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(_, index) in displaySchools\" \r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t:class=\"['indicator-dot', currentIndex === index ? 'active' : '']\"\r\n\t\t\t\t\t@click=\"jumpToCard(index)\"\r\n\t\t\t\t></view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 分析建议部分 -->\r\n\t\t\t<view class=\"section advice-section\">\r\n\t\t\t\t<text class=\"section-title\">分析建议</text>\r\n\t\t\t\t<view class=\"advice-card\" v-if=\"analysisResult && analysisResult.analysis_result && analysisResult.analysis_result.advice\">\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">优势分析：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.advantages)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">不足分析：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.disadvantages)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">备考策略：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.strategy)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">时间规划：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.timeline)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">重点关注事项：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.keyPoints)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"button-group\">\r\n\t\t\t<button class=\"share-btn\" @click=\"shareResult\">分享结果</button>\r\n\t\t\t<button class=\"restart-btn\" @click=\"restartAnalysis\">重新选择</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tanalysisId: '',\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tanalysisResult: null,\r\n\t\t\t\tdisplaySchools: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log('结果页面加载，参数:', options);\r\n\t\t\tthis.analysisId = options.id || '';\r\n\t\t\tthis.loading = true;\r\n\t\t\t\r\n\t\t\t// 直接加载云端数据，不使用本地存储\r\n\t\t\tthis.loadAnalysisResult();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 格式化数字列表，使每个数字项换行\r\n\t\t\tformatNumberedList(text) {\r\n\t\t\t\tif (!text) return '';\r\n\t\t\t\t\r\n\t\t\t\t// 替换数字列表项\r\n\t\t\t\tlet formattedText = text.replace(/(\\d+\\.\\s*)([^\\d\\.])/g, '<p class=\"list-item\">$1$2');\r\n\t\t\t\t\r\n\t\t\t\t// 如果没有检测到列表项，直接返回原文本\r\n\t\t\t\tif (formattedText === text) {\r\n\t\t\t\t\treturn text;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 确保所有列表项都有结束标签\r\n\t\t\t\tformattedText = formattedText.replace(/(<p class=\"list-item\">.*?)(?=<p class=\"list-item\">|$)/g, '$1</p>');\r\n\t\t\t\t\r\n\t\t\t\treturn formattedText;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 从云端加载数据\r\n\t\t\tasync loadAnalysisResult() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tconsole.log('尝试从云端加载数据, ID:', this.analysisId);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 从云端API加载数据\r\n\t\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\t\tname: 'getSchoolAnalysis',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\taction: 'get',\r\n\t\t\t\t\t\t\tid: this.analysisId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttimeout: 15000\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('获取分析结果返回:', result);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (result.result && result.result.code === 0 && result.result.data) {\r\n\t\t\t\t\t\t// 处理API返回的数据\r\n\t\t\t\t\t\tconst data = result.result.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (data.analysis_result) {\r\n\t\t\t\t\t\t\tthis.analysisResult = data;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (data.analysis_result.recommendSchools && \r\n\t\t\t\t\t\t\t\tdata.analysis_result.recommendSchools.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.displaySchools = data.analysis_result.recommendSchools;\r\n\t\t\t\t\t\t\t\tconsole.log('成功加载AI推荐学校:', this.displaySchools.length);\r\n\t\t\t\t\t\t\t} else if (data.analysis_result.rawResponse) {\r\n\t\t\t\t\t\t\t\t// 如果存在原始响应但JSON解析失败\r\n\t\t\t\t\t\t\t\tconsole.log('API返回了原始响应但JSON解析失败');\r\n\t\t\t\t\t\t\t\tthis.displaySchools = [{\r\n\t\t\t\t\t\t\t\t\tname: \"API原始响应\",\r\n\t\t\t\t\t\t\t\t\tfeatures: \"以下是DeepSeek API的原始返回内容\",\r\n\t\t\t\t\t\t\t\t\treason: data.analysis_result.rawResponse.substring(0, 300) + '...',\r\n\t\t\t\t\t\t\t\t\tdifficulty: \"解析失败: \" + (data.analysis_result.parseError || \"未知原因\"),\r\n\t\t\t\t\t\t\t\t\tsuggestion: \"请尝试重新分析\",\r\n\t\t\t\t\t\t\t\t\trating: 0,\r\n\t\t\t\t\t\t\t\t\trecommendMajor: \"无法解析\"\r\n\t\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 没有推荐学校，显示错误\r\n\t\t\t\t\t\t\t\tthis.showError('分析结果异常', '没有找到推荐学校信息，请尝试重新分析');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 缺少分析结果，显示错误\r\n\t\t\t\t\t\t\tthis.showError('分析结果异常', '分析结果格式错误，请尝试重新分析');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// API返回错误\r\n\t\t\t\t\t\tthis.showError('获取分析结果失败', '无法获取分析结果，请尝试重新分析');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// 捕获到异常\r\n\t\t\t\t\tthis.showError('系统错误', '加载分析结果时发生错误: ' + e.message);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 显示错误提示\r\n\t\t\tshowError(title, content) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 轮播图变化事件\r\n\t\t\tswiperChange(e) {\r\n\t\t\t\tthis.currentIndex = e.detail.current;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 跳转到指定卡片\r\n\t\t\tjumpToCard(index) {\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 重新开始分析\r\n\t\t\trestartAnalysis() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 10, // 返回到首页\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/selection/index'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 分享结果\r\n\t\t\tshareResult() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '分享功能开发中',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 确保评分格式化为一位小数\r\n\t\t\tformatRating(rating) {\r\n\t\t\t\tconst numRating = parseFloat(rating);\r\n\t\t\t\treturn isNaN(numRating) ? '0.0' : numRating.toFixed(1);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 修复的格式化建议内容函数\r\n\t\t\tformatAdviceContent(text) {\r\n\t\t\t\tif (!text) return '暂无数据';\r\n\t\t\t\t\r\n\t\t\t\t// 处理编号列表，确保完整显示\r\n\t\t\t\tlet html = '';\r\n\t\t\t\t\r\n\t\t\t\t// 按行分割处理\r\n\t\t\t\tconst lines = text.split('\\n');\r\n\t\t\t\t\r\n\t\t\t\tif (lines.length > 1) {\r\n\t\t\t\t\t// 多行文本，逐行处理\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line.trim() === '') {\r\n\t\t\t\t\t\t\thtml += '<br>';\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 处理数字编号的行\r\n\t\t\t\t\t\tif (/^\\d+\\./.test(line.trim())) {\r\n\t\t\t\t\t\t\thtml += `<div class=\"list-item\">${line.trim()}</div>`;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thtml += line + '<br>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 单行文本，可能包含多个数字项\r\n\t\t\t\t\tconst numberPattern = /(\\d+\\..*?)(?=\\d+\\.|$)/g;\r\n\t\t\t\t\tconst matches = text.match(numberPattern);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (matches && matches.length > 0) {\r\n\t\t\t\t\t\t// 有数字编号的项目\r\n\t\t\t\t\t\tfor (const item of matches) {\r\n\t\t\t\t\t\t\thtml += `<div class=\"list-item\">${item.trim()}</div>`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 无编号，直接返回\r\n\t\t\t\t\t\thtml = text;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn html;\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tpadding: 30rpx;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t\r\n\t.header {\r\n\t\tpadding: 20rpx 0 40rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.title {\r\n\t\tfont-size: 42rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.loading-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\theight: 60vh;\r\n\t}\r\n\t\r\n\t.loading-image {\r\n\t\twidth: 150rpx;\r\n\t\theight: 150rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tanimation: bounce 0.6s infinite alternate;\r\n\t}\r\n\t\r\n\t.loading-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.recommendation-swiper {\r\n\t\theight: 700rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.swiper-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.school-card {\r\n\t\twidth: 100%;\r\n\t\theight: 680rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.08);\r\n\t\tposition: relative;\r\n\t\toverflow: auto;\r\n\t}\r\n\t\r\n\t.school-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.school-name {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t.star-rating-wrapper {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 5rpx;\r\n\t}\r\n\t\r\n\t.stars-outer {\r\n\t\tposition: relative;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\t\r\n\t.stars-background {\r\n\t\tcolor: #E0E0E0;  /* 灰色 */\r\n\t\tfont-size: 36rpx;\r\n\t\tletter-spacing: 2rpx;\r\n\t}\r\n\t\r\n\t.stars-foreground {\r\n\t\tcolor: #FFD700;  /* 金色 */\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\tfont-size: 36rpx;\r\n\t\tletter-spacing: 2rpx;\r\n\t}\r\n\t\r\n\t.rating-number {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-left: 8rpx;\r\n\t}\r\n\t\r\n\t.divider {\r\n\t\theight: 1px;\r\n\t\tbackground: #EEEEEE;\r\n\t\tmargin: 10rpx 0 20rpx;\r\n\t}\r\n\t\r\n\t.detail-row {\r\n\t\tmargin-bottom: 28rpx;\r\n\t}\r\n\t\r\n\t.label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t\r\n\t/* 新增加粗样式的标签 */\r\n\t.advice-label {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tline-height: 1.6;\r\n\t}\r\n\t\r\n\t/* 建议内容样式 */\r\n\t.advice-content {\r\n\t\tdisplay: block;\r\n\t\tmargin-top: 6rpx;\r\n\t\tpadding-left: 10rpx;\r\n\t}\r\n\t\r\n\t/* 列表项样式 */\r\n\t.list-item {\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tpadding-left: 10rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t/* 确保列表项有足够的底部边距 */\r\n\t.advice-content .list-item:not(:last-child) {\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\t\r\n\t.highlight {\r\n\t\tcolor: #007AFF;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.card-footer {\r\n\t\tposition: absolute;\r\n\t\tbottom: 30rpx;\r\n\t\tright: 30rpx;\r\n\t}\r\n\t\r\n\t.page-indicator {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tbackground: rgba(0,0,0,0.05);\r\n\t\tpadding: 4rpx 12rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\t\r\n\t.indicator-dots {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\t\r\n\t.indicator-dot {\r\n\t\twidth: 16rpx;\r\n\t\theight: 16rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #ddd;\r\n\t\tmargin: 0 6rpx;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\t\r\n\t.indicator-dot.active {\r\n\t\tbackground-color: #007AFF;\r\n\t\twidth: 32rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n\t\r\n\t.advice-section {\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\t\r\n\t.section-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\tpadding-left: 20rpx;\r\n\t}\r\n\t\r\n\t.section-title::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 10rpx;\r\n\t\theight: 30rpx;\r\n\t\twidth: 8rpx;\r\n\t\tbackground: #007AFF;\r\n\t\tborder-radius: 4rpx;\r\n\t}\r\n\t\r\n\t.advice-card {\r\n\t\tbackground: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbox-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.08);\r\n\t}\r\n\t\r\n\t.button-group {\r\n\t\tmargin-top: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t\r\n\t.share-btn, .restart-btn {\r\n\t\twidth: 45%;\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t\tborder-radius: 45rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.share-btn {\r\n\t\tbackground: linear-gradient(to right, #3fadea, #007AFF);\r\n\t\tcolor: #fff;\r\n\t\tbox-shadow: 0 8rpx 16rpx rgba(0, 122, 255, 0.3);\r\n\t}\r\n\t\r\n\t.restart-btn {\r\n\t\tbackground: #fff;\r\n\t\tcolor: #007AFF;\r\n\t\tborder: 1px solid #007AFF;\r\n\t\tbox-shadow: 0 8rpx 16rpx rgba(0, 122, 255, 0.1);\r\n\t}\r\n\t\r\n\t/* 修改建议内容样式 */\r\n\t.advice-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tpadding-bottom: 10rpx;\r\n\t\tborder-bottom: 1px dashed #eee;\r\n\t}\r\n\t\r\n\t.advice-item:last-child {\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding-bottom: 0;\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.advice-label {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 12rpx;\r\n\t}\r\n\t\r\n\t.advice-content {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tline-height: 1.6;\r\n\t\tpadding-left: 16rpx;\r\n\t}\r\n\t\r\n\t.list-item {\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n</style> ","import mod from \"-!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./result.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./result.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1740987628963\n      var cssReload = require(\"E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}