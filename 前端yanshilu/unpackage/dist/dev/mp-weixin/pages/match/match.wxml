<view id="{{R}}" change:eS="{{uV.sS}}" eS="{{$eS[R]}}" class="{{['container', virtualHostClass]}}" style="{{virtualHostStyle}}" hidden="{{virtualHostHidden}}"><view class="header"><view class="back-button" bindtap="{{b}}" id="step1" change:eS="{{uV.sS}}" eS="{{$eS[a]}}"><text>返回</text></view><text class="title">精准匹配</text></view><view class="filter-section"><view class="{{['filter-item', f && 'active']}}" catchtap="{{g}}"><text class="filter-text">{{c}}</text><image class="dropdown-icon" src="{{'/static/image/arrow_down.svg'}}" mode="aspectFit"></image><view wx:if="{{d}}" class="dropdown-menu"><view wx:for="{{e}}" wx:for-item="school" wx:key="c" class="{{['dropdown-item', school.b && 'selected']}}" catchtap="{{school.d}}"><text>{{school.a}}</text></view></view></view><view class="{{['filter-item', k && 'active']}}" catchtap="{{l}}"><text class="filter-text">{{h}}</text><image class="dropdown-icon" src="{{'/static/image/arrow_down.svg'}}" mode="aspectFit"></image><view wx:if="{{i}}" class="dropdown-menu"><view wx:for="{{j}}" wx:for-item="major" wx:key="c" class="{{['dropdown-item', major.b && 'selected']}}" catchtap="{{major.d}}"><text>{{major.a}}</text></view></view></view><view class="{{['filter-item', p && 'active']}}" catchtap="{{q}}"><text class="filter-text">{{m}}</text><image class="dropdown-icon" src="{{'/static/image/arrow_down.svg'}}" mode="aspectFit"></image><view wx:if="{{n}}" class="dropdown-menu"><view wx:for="{{o}}" wx:for-item="sort" wx:key="c" class="{{['dropdown-item', sort.b && 'selected']}}" catchtap="{{sort.d}}"><text>{{sort.a}}</text></view></view></view></view><scroll-view class="card-list" scroll-y="true" id="step2" enable-flex="true" enhanced="true" change:eS="{{uV.sS}}" eS="{{$eS[t]}}"><view wx:for="{{r}}" wx:for-item="teacher" wx:key="i" class="teacher-card"><view class="card-left"><image class="teacher-avatar" src="{{teacher.a}}" mode="aspectFill" bindtap="{{teacher.b}}" hover-class="avatar-hover"></image></view><view class="card-middle"><view class="teacher-name">{{teacher.c}}</view><view class="teacher-info">{{teacher.d}} | {{teacher.e}} | {{teacher.f}}</view><view class="teacher-tags"><view wx:for="{{teacher.g}}" wx:for-item="tag" wx:key="b" class="tag">{{tag.a}}</view></view></view><view class="card-right"><button class="communicate-btn" catchtap="{{teacher.h}}">马上沟通</button></view></view><view wx:if="{{s}}" class="empty-state"><text>暂无匹配的老师信息</text></view></scroll-view><view wx:if="{{v}}" class="loading-mask"><view class="loading-content"><text>正在连接中...</text></view></view><view wx:if="{{w}}" class="teacher-detail-popup"><view class="popup-mask" bindtap="{{x}}"></view><view class="popup-content"><view class="teacher-header"><image class="teacher-large-avatar" src="{{y}}" mode="aspectFill"></image><view class="teacher-header-info"><view class="teacher-header-name">{{z}}</view><view class="teacher-header-title">{{A}} | {{B}}</view></view></view><view class="detail-tabs"><view class="{{['tab', C && 'active']}}" bindtap="{{D}}"><text>聊天</text></view><view class="{{['tab', E && 'active']}}" bindtap="{{F}}"><text>老师详情</text></view></view><view class="tab-content"><view wx:if="{{G}}" class="chat-tip"><button class="start-chat-btn" bindtap="{{H}}">马上沟通</button></view><view wx:if="{{I}}" class="profile-content"><view class="profile-section"><view class="section-title">专业背景</view><view class="section-content">{{J}}</view></view><view class="profile-section"><view class="section-title">教学经验</view><view class="section-content">{{K}}</view></view><view class="profile-section"><view class="section-title">擅长领域</view><view class="section-content"><view class="expertise-tags"><view wx:for="{{L}}" wx:for-item="tag" wx:key="b" class="expertise-tag">{{tag.a}}</view></view></view></view><button class="view-profile-btn" bindtap="{{M}}">查看完整主页</button></view></view></view></view><view wx:if="{{N}}" class="matching-timer"><view class="timer-text">匹配中</view><view class="timer-countdown">{{O}}秒</view><button class="cancel-btn" bindtap="{{P}}">取消匹配</button></view><tab-bar u-i="78bd1f5e-0" bind:__l="__l" u-p="{{Q||''}}"></tab-bar></view><wxs src="/common/uniView.wxs" module="uV"/>
