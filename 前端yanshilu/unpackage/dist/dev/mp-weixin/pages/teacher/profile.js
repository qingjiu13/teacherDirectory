"use strict";const t=require("../../common/vendor.js"),e=require("../../common/assets.js"),i=t.defineComponent({data:()=>({teacherId:null,teacherInfo:new UTSJSONObject({id:null,name:"",avatar:"",title:"",score:0,review_count:0,is_certified:!1,tags:[],introduction:""}),activeTab:"posts",posts:[],services:[],currentPage:1,pageSize:10,hasMore:!0,isLoading:!1,isLoadingMore:!1}),onLoad(t){this.teacherId=t.id||1,this.loadTeacherInfo(),this.loadPosts(),this.loadServices()},methods:{goBack(){t.index.navigateBack()},showMoreOptions(){t.index.showActionSheet({itemList:["分享","举报"],success:t=>{0===t.tapIndex?this.shareTeacher():1===t.tapIndex&&this.reportTeacher()}})},switchTab(t=null){this.activeTab!==t&&(this.activeTab=t)},loadMore(){this.hasMore&&!this.isLoading&&"posts"===this.activeTab&&this.loadMorePosts()},loadMorePosts(){if(this.isLoadingMore)return null;this.isLoadingMore=!0,this.currentPage++,setTimeout((()=>{const t=[new UTSJSONObject({id:this.posts.length+1,title:`加载的新动态 ${this.currentPage}`,content:"这是加载的新动态内容，详细展示老师的专业知识和教学方法。",publish_time:"2023-05-10 10:30",like_count:25,comment_count:5,is_liked:!1,is_collected:!1,tags:["考研","复习方法"]})];this.posts=[...this.posts,...t],this.currentPage>=3&&(this.hasMore=!1),this.isLoadingMore=!1}),800)},loadTeacherInfo(){this.isLoading=!0,setTimeout((()=>{this.teacherInfo={id:this.teacherId,name:"王教授",avatar:"/static/image/default_avatar.png",title:"北京大学教授 | 计算机科学",score:4.9,review_count:245,is_certified:!0,tags:["认证学校","经验丰富","耐心细致","通俗易懂"],introduction:"从事计算机教学20年，专注于算法和数据结构领域研究。曾指导多名学生成功考取清华、北大等名校研究生。教学风格深入浅出，善于将复杂概念简单化。"},this.isLoading=!1}),500)},loadPosts(){this.isLoading=!0,setTimeout((()=>{this.posts=[{id:1,title:"考研复习指南",content:"考研数学复习要点分享，希望对备考的同学有所帮助。复习要循序渐进，打好基础再攻克难点。详细讲解了高数、线代和概率论的各章节重点和做题技巧。",publish_time:"2023-06-15 14:30",like_count:42,comment_count:8,is_liked:!1,is_collected:!1,tags:["考研","数学","复习方法"]},{id:2,title:"专业课备考经验",content:"计算机专业课备考经验分享，数据结构和算法是重中之重，要多做题、多实践。分享了我总结的408考点和易错题目解析，建议大家按照课本-习题-真题的顺序复习。",publish_time:"2023-06-10 09:15",like_count:36,comment_count:12,is_liked:!1,is_collected:!1,tags:["专业课","计算机","复习技巧"]}],this.isLoading=!1}),500)},loadServices(){this.isLoading=!0,setTimeout((()=>{this.services=[{id:1,title:"考研数学一对一辅导",price:300,image:"/static/image/default_avatar.png",description:"针对考研数学难点，提供个性化辅导，帮助你掌握核心解题技巧。"},{id:2,title:"计算机专业课指导",price:250,image:"/static/image/default_avatar.png",description:"数据结构、操作系统、计算机网络、计算机组成原理全面指导。"},{id:3,title:"考研复习规划制定",price:180,image:"/static/image/default_avatar.png",description:"根据个人情况定制复习计划，科学规划时间，提高复习效率。"}],this.isLoading=!1}),500)},likePost(e=null){const i=UTS.arrayFind(this.posts,(t=>t.id===e));i&&(i.is_liked=!i.is_liked,i.like_count+=i.is_liked?1:-1,t.index.showToast({title:i.is_liked?"已点赞":"已取消点赞",icon:"none"}))},commentPost(e=null){t.index.navigateTo({url:`/pages/post/detail?id=${e}&showComment=true`})},collectPost(e=null){const i=UTS.arrayFind(this.posts,(t=>t.id===e));i&&(i.is_collected=!i.is_collected,t.index.showToast({title:i.is_collected?"已收藏":"已取消收藏",icon:"none"}))},sharePost(e=null){t.index.showActionSheet({itemList:["分享给好友","分享到朋友圈","复制链接"],success:e=>{t.index.showToast({title:"分享成功",icon:"success"})}})},shareTeacher(){t.index.showActionSheet({itemList:["分享给好友","分享到朋友圈","复制链接"],success:e=>{t.index.showToast({title:"分享成功",icon:"success"})}})},reportTeacher(){t.index.showModal({title:"举报",content:"确定要举报该老师吗？",success:e=>{e.confirm&&t.index.showToast({title:"举报已提交",icon:"none"})}})},startConsultation(){t.index.showLoading({title:"请稍候..."}),setTimeout((()=>{t.index.hideLoading(),t.index.navigateTo({url:`/pages/chat/index?teacherId=${this.teacherId}&teacherName=${this.teacherInfo.name}`})}),800)}}});const s=t._export_sfc(i,[["render",function(i,s,o,a,n,c){return t.e({a:t.o(((...t)=>c.goBack&&c.goBack(...t))),b:t.o(((...t)=>c.showMoreOptions&&c.showMoreOptions(...t))),c:n.teacherInfo.avatar,d:t.t(n.teacherInfo.name),e:n.teacherInfo.is_certified},(n.teacherInfo.is_certified,{}),{f:t.t(n.teacherInfo.title),g:t.t(n.teacherInfo.score),h:t.t(n.teacherInfo.review_count),i:t.f(n.teacherInfo.tags,((e,i,s)=>({a:t.t(e),b:i}))),j:t.t(n.teacherInfo.introduction),k:"posts"===n.activeTab?1:"",l:t.o((t=>c.switchTab("posts"))),m:"services"===n.activeTab?1:"",n:t.o((t=>c.switchTab("services"))),o:"posts"===n.activeTab},"posts"===n.activeTab?t.e({p:n.posts.length>0},n.posts.length>0?{q:t.f(n.posts,((e,i,s)=>t.e({a:t.t(e.title),b:t.t(e.publish_time),c:t.t(e.content),d:e.tags&&e.tags.length},e.tags&&e.tags.length?{e:t.f(e.tags,((e,i,s)=>({a:t.t(e),b:i})))}:{},{f:e.is_liked?"/static/image/like_fill.svg":"/static/image/like.svg",g:t.t(e.like_count||0),h:t.o((t=>c.likePost(e.id)),i),i:t.t(e.comment_count||0),j:t.o((t=>c.commentPost(e.id)),i),k:t.o((t=>c.sharePost(e.id)),i),l:e.is_collected?"/static/image/star_filled.svg":"/static/image/star.svg",m:t.o((t=>c.collectPost(e.id)),i),n:i}))),r:e._imports_0$2,s:e._imports_1}:{},{t:n.isLoadingMore&&n.posts.length>0},(n.isLoadingMore&&n.posts.length,{})):t.e({v:n.services.length>0},n.services.length>0?{w:t.f(n.services,((e,i,s)=>({a:e.image,b:t.t(e.title),c:t.t(e.price),d:t.t(e.description),e:i}))),x:t.o(((...t)=>c.startConsultation&&c.startConsultation(...t)))}:{}),{y:t.o(((...t)=>c.loadMore&&c.loadMore(...t))),z:t.sei(i.virtualHostId,"view")})}]]);wx.createPage(s);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/teacher/profile.js.map
