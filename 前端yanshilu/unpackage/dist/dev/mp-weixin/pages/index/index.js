"use strict";const t=require("../../common/vendor.js"),e=require("../../utils/routes.js"),o=require("../../common/assets.js"),i=t.defineComponent({components:{TabBar:()=>"../../components/tab-bar/tab-bar.js"},data:()=>({title:"研师录",avatarPosition:new UTSJSONObject({x:50,y:400}),isDragging:!1,startPosition:new UTSJSONObject({x:0,y:0}),screenInfo:new UTSJSONObject({width:0,height:0,tabBarHeight:50})}),onLoad(){this.getScreenInfo()},onShow(){t.index.hideTabBar()},methods:{getScreenInfo(){try{const e=t.index.getSystemInfoSync();this.screenInfo.width=e.windowWidth,this.screenInfo.height=e.windowHeight,this.avatarPosition={x:this.screenInfo.width-80,y:100}}catch(e){t.index.__f__("error","at pages/index/index.uvue:110","获取屏幕信息失败:",e)}},goToMatch(){try{e.Routes.navigator.navigateTo(e.Routes.match.MATCH_HOME)}catch(o){t.index.__f__("error","at pages/index/index.uvue:122",o),t.index.showToast({title:"页面跳转失败",icon:"none"})}},goToAI(){if(!this.isDragging)try{e.Routes.navigator.toAI()}catch(o){t.index.__f__("error","at pages/index/index.uvue:138","跳转AI页面失败:",o),t.index.showToast({title:"页面跳转失败",icon:"none"})}},onTouchStart(t=null){this.isDragging=!1,this.startPosition={x:t.touches[0].clientX-this.avatarPosition.x,y:t.touches[0].clientY-this.avatarPosition.y}},onTouchMove(t=null){this.isDragging=!0;let e=t.touches[0].clientX-this.startPosition.x,o=t.touches[0].clientY-this.startPosition.y;const i=this.screenInfo.width-60,n=this.screenInfo.height-this.screenInfo.tabBarHeight-60;e=Math.max(0,Math.min(e,i)),o=Math.max(0,Math.min(o,n)),this.avatarPosition={x:e,y:o}},onMoveChange(t=null){this.isDragging=!0;let e=t.detail.x,o=t.detail.y;const i=this.screenInfo.height-this.screenInfo.tabBarHeight-60;o>i&&(o=i,setTimeout((()=>{this.avatarPosition.y=i}),10)),this.avatarPosition={x:e,y:o}},onTouchEnd(){setTimeout((()=>{this.isDragging=!1}),50)}}});if(!Array){t.resolveComponent("tab-bar")()}Math;const n=t._export_sfc(i,[["render",function(e,i,n,s,a,r){return{a:t.o(((...t)=>r.goToMatch&&r.goToMatch(...t))),b:o._imports_0,c:t.o(((...t)=>r.onMoveChange&&r.onMoveChange(...t))),d:t.o(((...t)=>r.onTouchEnd&&r.onTouchEnd(...t))),e:t.o(((...t)=>r.goToAI&&r.goToAI(...t))),f:t.p({pageName:"index"}),g:t.sei(e.virtualHostId,"view")}}]]);wx.createPage(n);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map
