"use strict";const t=require("../../common/vendor.js"),e=require("../../utils/routes.js"),i=require("../../common/assets.js"),o=t.defineComponent({components:{TabBar:()=>"../../components/tab-bar/tab-bar.js"},data:()=>({title:"研师录",avatarPosition:new UTSJSONObject({x:50,y:400}),isDragging:!1,startPosition:new UTSJSONObject({x:0,y:0}),screenInfo:new UTSJSONObject({width:0,height:0,tabBarHeight:50})}),onLoad(){this.getScreenInfo()},onShow(){t.index.hideTabBar()},methods:{getScreenInfo(){try{const e=t.index.getSystemInfoSync();this.screenInfo.width=e.windowWidth,this.screenInfo.height=e.windowHeight,this.avatarPosition={x:this.screenInfo.width-80,y:100}}catch(e){t.index.__f__("error","at pages/index/index.uvue:110","获取屏幕信息失败:",e)}},goToMatch(){try{e.Routes.navigator.navigateTo(e.Routes.match.MATCH_HOME)}catch(i){t.index.__f__("error","at pages/index/index.uvue:122",i),t.index.showToast({title:"页面跳转失败",icon:"none"})}},goToAI(){if(!this.isDragging)try{e.Routes.navigator.toAI()}catch(i){t.index.__f__("error","at pages/index/index.uvue:138","跳转AI页面失败:",i),t.index.showToast({title:"页面跳转失败",icon:"none"})}},onTouchStart(t=null){this.isDragging=!1,this.startPosition={x:t.touches[0].clientX-this.avatarPosition.x,y:t.touches[0].clientY-this.avatarPosition.y}},onTouchMove(t=null){this.isDragging=!0;let e=t.touches[0].clientX-this.startPosition.x,i=t.touches[0].clientY-this.startPosition.y;const o=this.screenInfo.width-60,n=this.screenInfo.height-this.screenInfo.tabBarHeight-60;e=Math.max(0,Math.min(e,o)),i=Math.max(0,Math.min(i,n)),this.avatarPosition={x:e,y:i}},onMoveChange(t=null){this.isDragging=!0;let e=t.detail.x,i=t.detail.y;const o=this.screenInfo.height-this.screenInfo.tabBarHeight-60;i>o&&(i=o,setTimeout((()=>{this.avatarPosition.y=o}),10)),this.avatarPosition={x:e,y:i}},onTouchEnd(){setTimeout((()=>{this.isDragging=!1}),50)},handleAvatarClick(t=null){t.stopPropagation(),this.isDragging||this.goToAI()}}});if(!Array){t.resolveComponent("tab-bar")()}Math;const n=t._export_sfc(o,[["render",function(e,o,n,a,s,r){return{a:t.o(((...t)=>r.goToMatch&&r.goToMatch(...t))),b:i._imports_0,c:t.o(((...t)=>r.onMoveChange&&r.onMoveChange(...t))),d:t.o(((...t)=>r.onTouchEnd&&r.onTouchEnd(...t))),e:t.o(((...t)=>r.handleAvatarClick&&r.handleAvatarClick(...t))),f:t.p({pageName:"index"}),g:t.sei(e.virtualHostId,"view")}}]]);wx.createPage(n);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map
