"use strict";require("../common/vendor.js");const t=require("../utils/request.js"),e=require("../utils/jwt.js");exports.loginWithMobile=async function(o){try{const r=await t.post("/api/auth/login/mobile",o,{auth:!1});if(r&&r.token)return e.setToken(r.token,r.refreshToken),r;throw new Error(r.message||"登录失败")}catch(r){throw r}},exports.loginWithWechat=async function(o){try{const r=await t.post("/api/auth/login/wechat",o,{auth:!1});if(r&&r.token)return e.setToken(r.token,r.refreshToken),r;throw new Error(r.message||"微信登录失败")}catch(r){throw r}},exports.sendVerificationCode=async function(e){return await t.post("/api/auth/send-code",{mobile:e},{auth:!1})};
//# sourceMappingURL=../../.sourcemap/mp-weixin/api/auth.js.map
