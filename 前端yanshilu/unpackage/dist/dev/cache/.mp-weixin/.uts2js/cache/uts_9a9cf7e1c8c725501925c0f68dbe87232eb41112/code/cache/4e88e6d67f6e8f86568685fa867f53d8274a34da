{"code":"import { defineComponent } from \"vue\";\n/**\n * @description AI助手页面\n */\nimport Routes from '../../utils/routes.js';\nexport default defineComponent({\n    data() {\n        return {\n            userInfo: new UTSJSONObject({\n                school: '',\n                major: ''\n            }),\n            inputValue: '',\n            currentFunction: null,\n            messages: [],\n            // 下拉框相关\n            activeDropdown: '',\n            // 学校和专业列表数据\n            schoolList: [\n                '北京大学',\n                '清华大学',\n                '复旦大学',\n                '上海交通大学',\n                '浙江大学',\n                '南京大学',\n                '中国人民大学',\n                '武汉大学'\n            ],\n            majorList: [\n                '计算机科学与技术',\n                '软件工程',\n                '人工智能',\n                '数据科学',\n                '网络工程',\n                '电子信息工程',\n                '通信工程',\n                '金融学'\n            ]\n        };\n    },\n    onLoad() {\n        /**\n         * @description 页面加载时的处理逻辑\n         */\n        // 尝试获取用户信息\n        this.getUserInfo();\n    },\n    methods: {\n        /**\n         * @description 获取用户信息\n         */\n        getUserInfo() {\n            // 这里可以从本地存储或API获取用户信息\n            try {\n                const userInfo = uni.getStorageSync('userInfo');\n                if (userInfo) {\n                    this.userInfo = UTS.JSON.parse(userInfo);\n                }\n            }\n            catch (e) {\n                uni.__f__('error', 'at pages/AI/AI.uvue:182', '获取用户信息失败:', e);\n            }\n        },\n        /**\n         * @description 保存用户信息\n         */\n        saveUserInfo() {\n            try {\n                uni.setStorageSync('userInfo', UTS.JSON.stringify(this.userInfo));\n            }\n            catch (e) {\n                uni.__f__('error', 'at pages/AI/AI.uvue:193', '保存用户信息失败:', e);\n            }\n        },\n        /**\n         * @description 切换下拉菜单显示状态\n         * @param {String} type - 下拉菜单类型（'school' 或 'major'）\n         */\n        toggleDropdown(type = null) {\n            // 如果点击的是当前打开的下拉菜单，则关闭它\n            if (this.activeDropdown === type) {\n                this.activeDropdown = '';\n                return null;\n            }\n            // 切换下拉菜单\n            this.activeDropdown = type;\n        },\n        /**\n         * @description 选择下拉选项\n         * @param {String} type - 下拉菜单类型\n         * @param {String} item - 选中的选项值\n         */\n        selectOption(type = null, item = null) {\n            // 设置选中项\n            if (type === 'school') {\n                this.userInfo.school = item;\n            }\n            else if (type === 'major') {\n                this.userInfo.major = item;\n            }\n            // 自动保存用户信息\n            this.saveUserInfo();\n            // 关闭下拉菜单\n            this.activeDropdown = '';\n        },\n        /**\n         * @description 页面点击事件处理\n         */\n        onPageTap() {\n            // 点击页面空白区域时关闭下拉菜单\n            if (this.activeDropdown) {\n                this.activeDropdown = '';\n            }\n        },\n        /**\n         * @description 阻止事件冒泡\n         * @param {Event} e - 事件对象\n         */\n        stopEvent(e = null) {\n            if (e && e.stopPropagation) {\n                e.stopPropagation();\n            }\n        },\n        /**\n         * @description 切换功能模式\n         * @param {String} mode - 功能模式\n         */\n        switchFunction(mode = null) {\n            this.currentFunction = mode;\n            // 显示当前模式提示\n            let modeName = '通用';\n            if (mode === 'school') {\n                modeName = '择校';\n            }\n            else if (mode === 'career') {\n                modeName = '职业规划';\n            }\n            // 添加系统消息\n            this.messages.push({\n                type: 'system',\n                content: `已切换到${modeName}模式`\n            });\n        },\n        /**\n         * @description 发送消息\n         */\n        sendMessage() {\n            // 发送消息的逻辑\n            if (!this.inputValue.trim()) {\n                return null;\n            }\n            // 添加用户消息\n            this.messages.push({\n                type: 'user',\n                content: this.inputValue\n            });\n            // 根据当前功能模式处理消息\n            const message = new UTSJSONObject({\n                content: this.inputValue,\n                function: this.currentFunction,\n                userInfo: this.userInfo\n            });\n            // 模拟AI回复\n            setTimeout(() => {\n                let aiResponse = '';\n                if (this.currentFunction === 'school') {\n                    aiResponse = `关于择校问题，基于您就读的${this.userInfo.school || '(未设置学校)'}，${this.userInfo.major || '(未设置专业)'}专业，我的建议是...`;\n                }\n                else if (this.currentFunction === 'career') {\n                    aiResponse = `关于职业规划，考虑到您在${this.userInfo.school || '(未设置学校)'}学习${this.userInfo.major || '(未设置专业)'}，您可以考虑以下职业方向...`;\n                }\n                else {\n                    aiResponse = `您好，我是研师录AI助手，很高兴为您服务。您的问题是\"${this.inputValue}\"，我的回答是...`;\n                }\n                this.messages.push({\n                    type: 'ai',\n                    content: aiResponse\n                });\n            }, 500);\n            // 清空输入\n            this.inputValue = '';\n        },\n        /**\n         * @description 返回首页\n         */\n        goBack() {\n            try {\n                Routes.navigator.navigateBack();\n            }\n            catch (e) {\n                uni.__f__('error', 'at pages/AI/AI.uvue:324', '返回失败:', e);\n                Routes.navigator.reLaunch(Routes.main.INDEX);\n            }\n        }\n    }\n});\n//# sourceMappingURL=E:/yanshilu%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AFyanshilu/pages/AI/AI.uvue?vue&type=script&lang.uts.js.map","references":["E:/yanshilu小程序前端/前端yanshilu/utils/routes.js"],"uniExtApis":["uni.getStorageSync","uni.__f__","uni.setStorageSync"],"map":"{\"version\":3,\"file\":\"AI.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"AI.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC;;GAEG;AACH,OAAO,MAAM,MAAM,uBAAuB,CAAC;AAE3C,+BAAe;IACd,IAAI;QACH,OAAO;YACN,QAAQ,oBAAE;gBACT,MAAM,EAAE,EAAE;gBACV,KAAK,EAAE,EAAE;aACT,CAAA;YACD,UAAU,EAAE,EAAE;YACd,eAAe,EAAE,IAAI;YACrB,QAAQ,EAAE,EAAE;YACZ,QAAQ;YACR,cAAc,EAAE,EAAE;YAClB,YAAY;YACZ,UAAU,EAAE;gBACX,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,MAAM;aACN;YACD,SAAS,EAAE;gBACV,UAAU;gBACV,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,MAAM;gBACN,KAAK;aACL;SACD,CAAA;IACF,CAAC;IACD,MAAM;QACL;;WAEG;QACH,WAAW;QACX,IAAI,CAAC,WAAW,EAAE,CAAC;IACpB,CAAC;IACD,OAAO,EAAE;QACR;;WAEG;QACH,WAAW;YACV,sBAAsB;YACtB,IAAI;gBACH,MAAM,QAAQ,GAAG,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;gBAChD,IAAI,QAAQ,EAAE;oBACb,IAAI,CAAC,QAAQ,GAAG,SAAK,KAAK,CAAC,QAAQ,CAAC,CAAC;iBACrC;aACD;YAAC,OAAO,CAAC,EAAE;gBACX,GAAG,CAAC,KAAK,CAAC,OAAO,EAAC,yBAAyB,EAAC,WAAW,EAAE,CAAC,CAAC,CAAC;aAC5D;QACF,CAAC;QAED;;WAEG;QACH,YAAY;YACX,IAAI;gBACH,GAAG,CAAC,cAAc,CAAC,UAAU,EAAE,SAAK,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAC9D;YAAC,OAAO,CAAC,EAAE;gBACX,GAAG,CAAC,KAAK,CAAC,OAAO,EAAC,yBAAyB,EAAC,WAAW,EAAE,CAAC,CAAC,CAAC;aAC5D;QACF,CAAC;QAED;;;WAGG;QACH,cAAc,CAAC,IAAI,OAAA;YAClB,uBAAuB;YACvB,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;gBACjC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBACzB,YAAO;aACP;YAED,SAAS;YACT,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC5B,CAAC;QAED;;;;WAIG;QACH,YAAY,CAAC,IAAI,OAAA,EAAE,IAAI,OAAA;YACtB,QAAQ;YACR,IAAI,IAAI,KAAK,QAAQ,EAAE;gBACtB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;aAC5B;iBAAM,IAAI,IAAI,KAAK,OAAO,EAAE;gBAC5B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;aAC3B;YAED,WAAW;YACX,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,SAAS;YACT,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QAC1B,CAAC;QAED;;WAEG;QACH,SAAS;YACR,kBAAkB;YAClB,IAAI,IAAI,CAAC,cAAc,EAAE;gBACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;aACzB;QACF,CAAC;QAED;;;WAGG;QACH,SAAS,CAAC,CAAC,OAAA;YACV,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE;gBAC3B,CAAC,CAAC,eAAe,EAAE,CAAC;aACpB;QACF,CAAC;QAED;;;WAGG;QACH,cAAc,CAAC,IAAI,OAAA;YAClB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAE5B,WAAW;YACX,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,IAAI,KAAK,QAAQ,EAAE;gBACtB,QAAQ,GAAG,IAAI,CAAC;aAChB;iBAAM,IAAI,IAAI,KAAK,QAAQ,EAAE;gBAC7B,QAAQ,GAAG,MAAM,CAAC;aAClB;YAED,SAAS;YACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAClB,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,OAAO,QAAQ,IAAI;aAC5B,CAAC,CAAC;QACJ,CAAC;QAED;;WAEG;QACH,WAAW;YACV,UAAU;YACV,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE;gBAC5B,YAAO;aACP;YAED,SAAS;YACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAClB,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,IAAI,CAAC,UAAU;aACxB,CAAC,CAAC;YAEH,eAAe;YACf,MAAM,OAAO,qBAAG;gBACf,OAAO,EAAE,IAAI,CAAC,UAAU;gBACxB,QAAQ,EAAE,IAAI,CAAC,eAAe;gBAC9B,QAAQ,EAAE,IAAI,CAAC,QAAQ;aACvB,CAAA,CAAC;YAEF,SAAS;YACT,UAAU,CAAC;gBACV,IAAI,UAAU,GAAG,EAAE,CAAC;gBACpB,IAAI,IAAI,CAAC,eAAe,KAAK,QAAQ,EAAE;oBACtC,UAAU,GAAG,gBAAgB,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,SAAS,aAAa,CAAC;iBAChH;qBAAM,IAAI,IAAI,CAAC,eAAe,KAAK,QAAQ,EAAE;oBAC7C,UAAU,GAAG,eAAe,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,SAAS,KAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,SAAS,iBAAiB,CAAC;iBACpH;qBAAM;oBACN,UAAU,GAAG,8BAA8B,IAAI,CAAC,UAAU,YAAY,CAAC;iBACvE;gBAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oBAClB,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,UAAU;iBACnB,CAAC,CAAC;YACJ,CAAC,EAAE,GAAG,CAAC,CAAC;YAER,OAAO;YACP,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACtB,CAAC;QAED;;WAEG;QACH,MAAM;YACL,IAAI;gBACH,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;aAChC;YAAC,OAAO,CAAC,EAAE;gBACX,GAAG,CAAC,KAAK,CAAC,OAAO,EAAC,yBAAyB,EAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC7C;QACF,CAAC;KACD;CACD,EAAA\"}"}
