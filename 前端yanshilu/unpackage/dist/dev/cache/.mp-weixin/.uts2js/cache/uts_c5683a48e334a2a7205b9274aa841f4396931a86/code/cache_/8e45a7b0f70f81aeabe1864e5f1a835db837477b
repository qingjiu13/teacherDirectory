{"code":"import { defineComponent } from \"vue\";\nimport TabBar from '../../components/tab-bar/tab-bar.uvue';\nimport Routes from '../../utils/routes.js';\nexport default defineComponent({\n    components: {\n        TabBar\n    },\n    data() {\n        return {\n            searchKey: '',\n            searchFriendKey: '',\n            friendList: [\n                new UTSJSONObject({\n                    id: '1',\n                    name: '张教授',\n                    avatar: '/static/image/default_avatar.png',\n                    lastMessage: '关于论文的修改建议已经发送给你了',\n                    lastMessageTime: Date.now() - 3600000,\n                    unreadCount: 2,\n                    title: '计算机科学教授'\n                }),\n                new UTSJSONObject({\n                    id: '2',\n                    name: '李老师',\n                    avatar: '/static/image/default_avatar.png',\n                    lastMessage: '下周一记得来参加组会',\n                    lastMessageTime: Date.now() - 7200000,\n                    unreadCount: 0,\n                    title: '软件工程讲师'\n                }),\n                new UTSJSONObject({\n                    id: '3',\n                    name: '学习群',\n                    avatar: '/static/image/default_avatar.png',\n                    lastMessage: '[有人@我] 请问这道题怎么解？',\n                    lastMessageTime: Date.now() - 120000,\n                    unreadCount: 5,\n                    title: '群聊'\n                }),\n                new UTSJSONObject({\n                    id: '4',\n                    name: '系统通知',\n                    avatar: '/static/image/default_avatar.png',\n                    lastMessage: '您有新的课程提醒',\n                    lastMessageTime: Date.now() - 86400000,\n                    unreadCount: 0,\n                    title: '系统消息'\n                })\n            ]\n        };\n    },\n    methods: {\n        navigateToChat(friend = null) {\n            Routes.navigator.navigateTo(Routes.message.CHAT, new UTSJSONObject({\n                id: friend.id,\n                name: friend.name\n            }));\n        },\n        navigateToAddFriend() {\n            uni.__f__('log', 'at pages/message/message.uvue:119', '点击了添加好友按钮');\n            Routes.navigator.navigateTo(Routes.message.FRIEND_REQUEST, new UTSJSONObject({}), new UTSJSONObject({\n                success: () => {\n                    uni.__f__('log', 'at pages/message/message.uvue:122', '成功跳转到添加好友页面');\n                },\n                fail: (err = null) => {\n                    uni.__f__('error', 'at pages/message/message.uvue:125', '跳转失败:', err);\n                    uni.showToast({\n                        title: '跳转失败，请重试',\n                        icon: 'none'\n                    });\n                }\n            }));\n        },\n        showAddFriendPopup() {\n            this.$refs.addFriendPopup.open();\n        },\n        closeAddFriendPopup() {\n            this.$refs.addFriendPopup.close();\n            this.searchFriendKey = '';\n        },\n        formatTime(timestamp = null) {\n            const date = new Date(timestamp);\n            const now = new Date();\n            const diff = now - date;\n            if (diff < 24 * 60 * 60 * 1000) {\n                return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n            }\n            else if (diff < 7 * 24 * 60 * 60 * 1000) {\n                const days = ['日', '一', '二', '三', '四', '五', '六'];\n                return `星期${days[date.getDay()]}`;\n            }\n            else {\n                return `${date.getMonth() + 1}月${date.getDate()}日`;\n            }\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/%E5%89%8D%E7%AB%AFyanshilu/pages/message/message.uvue?vue&type=script&lang.uts.js.map","references":["E:/研师录与其他人共享文件/teacherDirectory/前端yanshilu/components/tab-bar/tab-bar.uvue.ts","E:/研师录与其他人共享文件/teacherDirectory/前端yanshilu/utils/routes.js"],"uniExtApis":["uni.__f__","uni.showToast"],"map":"{\"version\":3,\"file\":\"message.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"message.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
