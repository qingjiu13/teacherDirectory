{"code":"import { defineComponent } from \"vue\";\n/**\n * @file 老师详情页\n * @description 展示老师个人信息、动态和服务\n */\nexport default defineComponent({\n    data() {\n        return {\n            teacherId: null,\n            teacherInfo: new UTSJSONObject({\n                id: null,\n                name: '',\n                avatar: '',\n                title: '',\n                score: 0,\n                review_count: 0,\n                is_certified: false,\n                tags: [],\n                introduction: ''\n            }),\n            activeTab: 'posts',\n            posts: [],\n            services: [],\n            currentPage: 1,\n            pageSize: 10,\n            hasMore: true,\n            isLoading: false,\n            isLoadingMore: false // 是否正在加载更多\n        };\n    },\n    onLoad(options) {\n        // 获取老师ID\n        this.teacherId = options.id || 1;\n        // 加载老师信息和数据\n        this.loadTeacherInfo();\n        this.loadPosts();\n        this.loadServices();\n    },\n    methods: {\n        /**\n         * @description 返回上一页\n         */\n        goBack() {\n            uni.navigateBack();\n        },\n        /**\n         * @description 显示更多选项\n         */\n        showMoreOptions() {\n            uni.showActionSheet({\n                itemList: ['分享', '举报'],\n                success: (res) => {\n                    if (res.tapIndex === 0) {\n                        this.shareTeacher();\n                    }\n                    else if (res.tapIndex === 1) {\n                        this.reportTeacher();\n                    }\n                }\n            });\n        },\n        /**\n         * @description 切换标签页\n         * @param {String} tab - 标签名称\n         */\n        switchTab(tab = null) {\n            if (this.activeTab !== tab) {\n                this.activeTab = tab;\n            }\n        },\n        /**\n         * @description 滚动到底部时触发\n         */\n        loadMore() {\n            if (this.hasMore && !this.isLoading && this.activeTab === 'posts') {\n                this.loadMorePosts();\n            }\n        },\n        /**\n         * @description 加载更多动态\n         */\n        loadMorePosts() {\n            if (this.isLoadingMore)\n                return null;\n            this.isLoadingMore = true;\n            this.currentPage++;\n            // 模拟API请求\n            setTimeout(() => {\n                // 模拟数据\n                const newPosts = [\n                    new UTSJSONObject({\n                        id: this.posts.length + 1,\n                        title: `加载的新动态 ${this.currentPage}`,\n                        content: '这是加载的新动态内容，详细展示老师的专业知识和教学方法。',\n                        publish_time: '2023-05-10 10:30',\n                        like_count: 25,\n                        comment_count: 5,\n                        is_liked: false,\n                        is_collected: false,\n                        tags: ['考研', '复习方法']\n                    })\n                ];\n                // 添加到列表\n                this.posts = [...this.posts, ...newPosts];\n                // 模拟没有更多数据\n                if (this.currentPage >= 3) {\n                    this.hasMore = false;\n                }\n                this.isLoadingMore = false;\n            }, 800);\n        },\n        /**\n         * @description 加载老师信息\n         */\n        loadTeacherInfo() {\n            this.isLoading = true;\n            // 模拟API请求\n            setTimeout(() => {\n                // 模拟数据\n                this.teacherInfo = {\n                    id: this.teacherId,\n                    name: '王教授',\n                    avatar: '/static/image/default_avatar.png',\n                    title: '北京大学教授 | 计算机科学',\n                    score: 4.9,\n                    review_count: 245,\n                    is_certified: true,\n                    tags: ['认证学校', '经验丰富', '耐心细致', '通俗易懂'],\n                    introduction: '从事计算机教学20年，专注于算法和数据结构领域研究。曾指导多名学生成功考取清华、北大等名校研究生。教学风格深入浅出，善于将复杂概念简单化。'\n                };\n                this.isLoading = false;\n            }, 500);\n        },\n        /**\n         * @description 加载动态列表\n         */\n        loadPosts() {\n            this.isLoading = true;\n            // 模拟API请求\n            setTimeout(() => {\n                // 模拟数据\n                this.posts = [\n                    {\n                        id: 1,\n                        title: '考研复习指南',\n                        content: '考研数学复习要点分享，希望对备考的同学有所帮助。复习要循序渐进，打好基础再攻克难点。详细讲解了高数、线代和概率论的各章节重点和做题技巧。',\n                        publish_time: '2023-06-15 14:30',\n                        like_count: 42,\n                        comment_count: 8,\n                        is_liked: false,\n                        is_collected: false,\n                        tags: ['考研', '数学', '复习方法']\n                    },\n                    {\n                        id: 2,\n                        title: '专业课备考经验',\n                        content: '计算机专业课备考经验分享，数据结构和算法是重中之重，要多做题、多实践。分享了我总结的408考点和易错题目解析，建议大家按照课本-习题-真题的顺序复习。',\n                        publish_time: '2023-06-10 09:15',\n                        like_count: 36,\n                        comment_count: 12,\n                        is_liked: false,\n                        is_collected: false,\n                        tags: ['专业课', '计算机', '复习技巧']\n                    }\n                ];\n                this.isLoading = false;\n            }, 500);\n        },\n        /**\n         * @description 加载服务列表\n         */\n        loadServices() {\n            this.isLoading = true;\n            // 模拟API请求\n            setTimeout(() => {\n                // 模拟数据\n                this.services = [\n                    {\n                        id: 1,\n                        title: '考研数学一对一辅导',\n                        price: 300,\n                        image: '/static/image/default_avatar.png',\n                        description: '针对考研数学难点，提供个性化辅导，帮助你掌握核心解题技巧。'\n                    },\n                    {\n                        id: 2,\n                        title: '计算机专业课指导',\n                        price: 250,\n                        image: '/static/image/default_avatar.png',\n                        description: '数据结构、操作系统、计算机网络、计算机组成原理全面指导。'\n                    },\n                    {\n                        id: 3,\n                        title: '考研复习规划制定',\n                        price: 180,\n                        image: '/static/image/default_avatar.png',\n                        description: '根据个人情况定制复习计划，科学规划时间，提高复习效率。'\n                    }\n                ];\n                this.isLoading = false;\n            }, 500);\n        },\n        /**\n         * @description 点赞动态\n         * @param {Number} postId - 动态ID\n         */\n        likePost(postId = null) {\n            const post = UTS.arrayFind(this.posts, p => { return p.id === postId; });\n            if (post) {\n                post.is_liked = !post.is_liked;\n                post.like_count += post.is_liked ? 1 : -1;\n                uni.showToast({\n                    title: post.is_liked ? '已点赞' : '已取消点赞',\n                    icon: 'none'\n                });\n            }\n        },\n        /**\n         * @description 评论动态\n         * @param {Number} postId - 动态ID\n         */\n        commentPost(postId = null) {\n            uni.navigateTo({\n                url: `/pages/post/detail?id=${postId}&showComment=true`\n            });\n        },\n        /**\n         * @description 收藏动态\n         * @param {Number} postId - 动态ID\n         */\n        collectPost(postId = null) {\n            const post = UTS.arrayFind(this.posts, p => { return p.id === postId; });\n            if (post) {\n                post.is_collected = !post.is_collected;\n                uni.showToast({\n                    title: post.is_collected ? '已收藏' : '已取消收藏',\n                    icon: 'none'\n                });\n            }\n        },\n        /**\n         * @description 分享动态\n         * @param {Number} postId - 动态ID\n         */\n        sharePost(postId = null) {\n            uni.showActionSheet({\n                itemList: ['分享给好友', '分享到朋友圈', '复制链接'],\n                success: (res) => {\n                    uni.showToast({\n                        title: '分享成功',\n                        icon: 'success'\n                    });\n                }\n            });\n        },\n        /**\n         * @description 分享老师主页\n         */\n        shareTeacher() {\n            uni.showActionSheet({\n                itemList: ['分享给好友', '分享到朋友圈', '复制链接'],\n                success: (res) => {\n                    uni.showToast({\n                        title: '分享成功',\n                        icon: 'success'\n                    });\n                }\n            });\n        },\n        /**\n         * @description 举报老师\n         */\n        reportTeacher() {\n            uni.showModal({\n                title: '举报',\n                content: '确定要举报该老师吗？',\n                success: (res) => {\n                    if (res.confirm) {\n                        uni.showToast({\n                            title: '举报已提交',\n                            icon: 'none'\n                        });\n                    }\n                }\n            });\n        },\n        /**\n         * @description 发起咨询\n         */\n        startConsultation() {\n            uni.showLoading({\n                title: '请稍候...'\n            });\n            setTimeout(() => {\n                uni.hideLoading();\n                uni.navigateTo({\n                    url: `/pages/chat/index?teacherId=${this.teacherId}&teacherName=${this.teacherInfo.name}`\n                });\n            }, 800);\n        }\n    }\n});\n//# sourceMappingURL=E:/%E7%A0%94%E5%B8%88%E5%BD%95%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/teacherDirectory/%E5%89%8D%E7%AB%AFyanshilu/pages/teacher/profile.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.navigateBack","uni.showActionSheet","uni.showToast","uni.navigateTo","uni.showModal","uni.showLoading","uni.hideLoading"],"map":"{\"version\":3,\"file\":\"profile.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"profile.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
