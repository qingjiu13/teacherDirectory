{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent } from \"vue\";\n/**\n * @description API调用示例页面\n */\nimport API from '../api/index.js';\nimport { aiSelectionApis } from '../config.js';\nimport callCloudFunction from '../utils/cloudFunction.js';\nexport default defineComponent({\n    data() {\n        return {\n            userInfo: null,\n            posts: [],\n            teachers: [],\n            schools: [],\n            loading: false,\n            results: null,\n            error: null\n        };\n    },\n    onLoad() {\n        // 页面加载时自动获取用户信息\n        this.getUserInfo();\n    },\n    methods: {\n        /**\n         * @description 获取用户信息\n         */\n        getUserInfo() {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    uni.showLoading({ title: '加载中...' });\n                    // 调用API获取用户信息\n                    const res = yield API.user.getUserInfo();\n                    this.userInfo = res;\n                    uni.hideLoading();\n                }\n                catch (error) {\n                    uni.hideLoading();\n                    // 这里使用模拟数据\n                    this.userInfo = {\n                        id: '1001',\n                        username: 'test_user',\n                        nickname: '测试用户',\n                        avatar: 'https://example.com/avatar.jpg'\n                    };\n                    uni.__f__('log', 'at pages/api-example.uvue:118', '获取用户信息失败', error);\n                }\n            });\n        },\n        /**\n         * @description 获取帖子列表\n         */\n        getPostList() {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    uni.showLoading({ title: '加载中...' });\n                    // 调用API获取帖子列表\n                    const res = yield API.post.getPosts(new UTSJSONObject({ page: 1, pageSize: 10 }));\n                    this.posts = res;\n                    uni.hideLoading();\n                }\n                catch (error) {\n                    uni.hideLoading();\n                    // 这里使用模拟数据\n                    this.posts = [\n                        { id: '1', title: '帖子标题1', content: '帖子内容1', author: '用户1' },\n                        { id: '2', title: '帖子标题2', content: '帖子内容2', author: '用户2' },\n                        { id: '3', title: '帖子标题3', content: '帖子内容3', author: '用户3' }\n                    ];\n                    uni.__f__('log', 'at pages/api-example.uvue:144', '获取帖子列表失败', error);\n                }\n            });\n        },\n        /**\n         * @description 获取教师列表\n         */\n        getTeacherList() {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    uni.showLoading({ title: '加载中...' });\n                    // 调用API获取教师列表\n                    const res = yield API.teacher.getTeachers(new UTSJSONObject({ page: 1, pageSize: 10 }));\n                    this.teachers = res;\n                    uni.hideLoading();\n                }\n                catch (error) {\n                    uni.hideLoading();\n                    // 这里使用模拟数据\n                    this.teachers = [\n                        { id: '1', name: '教师1', school: '北京大学', major: '计算机科学' },\n                        { id: '2', name: '教师2', school: '清华大学', major: '软件工程' },\n                        { id: '3', name: '教师3', school: '复旦大学', major: '人工智能' }\n                    ];\n                    uni.__f__('log', 'at pages/api-example.uvue:170', '获取教师列表失败', error);\n                }\n            });\n        },\n        /**\n         * @description 调用获取学校列表的云函数\n         */\n        getSchools() {\n            return __awaiter(this, void 0, void 0, function* () {\n                this.loading = true;\n                this.results = null;\n                this.error = null;\n                try {\n                    // 使用封装的云函数调用工具\n                    const result = yield callCloudFunction(new UTSJSONObject({\n                        name: aiSelectionApis.getSchools,\n                        data: new UTSJSONObject({}),\n                        timeout: 10000\n                    }));\n                    this.results = result.result;\n                }\n                catch (error) {\n                    this.error = error.message;\n                    uni.__f__('error', 'at pages/api-example.uvue:193', '获取学校列表失败:', error);\n                }\n                finally {\n                    this.loading = false;\n                }\n            });\n        },\n        /**\n         * @description 调用获取研究生专业列表的云函数\n         */\n        getGraduateMajors() {\n            return __awaiter(this, void 0, void 0, function* () {\n                this.loading = true;\n                this.results = null;\n                this.error = null;\n                try {\n                    // 使用封装的云函数调用工具\n                    const result = yield callCloudFunction(new UTSJSONObject({\n                        name: aiSelectionApis.getGraduateMajors,\n                        data: new UTSJSONObject({ keyword: '计算机' }),\n                        timeout: 10000\n                    }));\n                    this.results = result.result;\n                }\n                catch (error) {\n                    this.error = error.message;\n                    uni.__f__('error', 'at pages/api-example.uvue:218', '获取研究生专业列表失败:', error);\n                }\n                finally {\n                    this.loading = false;\n                }\n            });\n        }\n    }\n});\n//# sourceMappingURL=E:/yanshilu%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AFyanshilu/pages/api-example.uvue?vue&type=script&lang.uts.js.map","references":["E:/yanshilu小程序前端/前端yanshilu/api/index.js","E:/yanshilu小程序前端/前端yanshilu/config.js","E:/yanshilu小程序前端/前端yanshilu/utils/cloudFunction.js"],"uniExtApis":["uni.showLoading","uni.hideLoading","uni.__f__"],"map":"{\"version\":3,\"file\":\"api-example.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"api-example.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
