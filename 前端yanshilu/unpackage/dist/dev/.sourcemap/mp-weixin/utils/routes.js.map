{"version":3,"file":"routes.js","sources":["utils/routes.js"],"sourcesContent":["/**\r\n * @description 统一路由管理\r\n * 集中管理所有页面的路由路径，提供导航方法\r\n */\r\n\r\nimport { pageMap } from '../config.js';\r\n\r\n/**\r\n * @description 主要页面路径\r\n */\r\nexport const MainRoutes = {\r\n  // 主页面\r\n  INDEX: '/pages/index/index',\r\n  MESSAGE: '/pages/message/message',\r\n  PUBLISH: '/pages/publish/publish',\r\n  MINE: '/pages/mine/mine',\r\n  \r\n  // 获取主页面路径\r\n  getPath(pageName) {\r\n    return pageMap[pageName] || this.INDEX;\r\n  }\r\n};\r\n\r\n/**\r\n * @description 消息页面路径\r\n */\r\nexport const MessageRoutes = {\r\n  // 消息主页\r\n  MESSAGE_HOME: '/pages/message/message',\r\n  // 聊天页面\r\n  CHAT: '/pages/message/chat',\r\n  // 系统通知\r\n  NOTIFICATION: '/pages/message/notification/notification',\r\n  // 好友申请\r\n  FRIEND_REQUEST: '/pages/message/add',\r\n  // 好友详情\r\n  FRIEND_DETAIL: '/pages/message/friend/detail'\r\n};\r\n\r\n/**\r\n * @description 发布页面路径\r\n */\r\nexport const PublishRoutes = {\r\n  // 发布主页\r\n  PUBLISH_HOME: '/pages/publish/publish',\r\n  // 发布文章\r\n  PUBLISH_ARTICLE: '/pages/publish/article/article',\r\n  // 发布问题\r\n  PUBLISH_QUESTION: '/pages/publish/question/question',\r\n  // 发布动态\r\n  PUBLISH_MOMENT: '/pages/publish/moment/moment'\r\n};\r\n\r\n/**\r\n * @description 我的页面路径\r\n */\r\nexport const MineRoutes = {\r\n  // 我的主页\r\n  MINE_HOME: '/pages/mine/mine',\r\n  // 个人信息\r\n  PROFILE: '/pages/mine/profile/profile',\r\n  // 我的收藏\r\n  FAVORITES: '/pages/mine/favorites/favorites',\r\n  // 我的发布\r\n  MY_POSTS: '/pages/mine/posts/posts',\r\n  // 设置\r\n  SETTINGS: '/pages/mine/settings/settings'\r\n};\r\n\r\n/**\r\n * @description 老师相关页面路径\r\n */\r\nexport const TeacherRoutes = {\r\n  // 老师列表\r\n  TEACHER_LIST: '/pages/teacher/list/list',\r\n  // 老师详情\r\n  TEACHER_DETAIL: '/pages/teacher/detail/detail',\r\n  // 约见老师\r\n  TEACHER_APPOINTMENT: '/pages/teacher/appointment/appointment'\r\n};\r\n\r\n/**\r\n * @description 帖子相关页面路径\r\n */\r\nexport const PostRoutes = {\r\n  // 帖子详情\r\n  POST_DETAIL: '/pages/post/detail/detail',\r\n  // 评论列表\r\n  POST_COMMENTS: '/pages/post/comments/comments'\r\n};\r\n\r\n/**\r\n * @description 匹配相关页面路径\r\n */\r\nexport const MatchRoutes = {\r\n  // 匹配主页\r\n  MATCH_HOME: '/pages/match/match',\r\n  // 匹配详情\r\n  MATCH_DETAIL: '/pages/match/detail',\r\n  // 匹配结果\r\n  MATCH_RESULT: '/pages/match/result'\r\n};\r\n\r\n/**\r\n * @description AI助手相关页面路径\r\n */\r\nexport const AIRoutes = {\r\n  // AI助手主页\r\n  AI_HOME: '/pages/AI/AI',\r\n  // AI聊天记录\r\n  AI_HISTORY: '/pages/AI/history',\r\n  // AI设置\r\n  AI_SETTINGS: '/pages/AI/settings'\r\n};\r\n\r\n/**\r\n * @description 公共页面路径\r\n */\r\nexport const CommonRoutes = {\r\n  // 登录页\r\n  LOGIN: '/pages/login/login',\r\n  // 注册页\r\n  REGISTER: '/pages/login/register',\r\n  // 关于页面\r\n  ABOUT: '/pages/common/about/about',\r\n  // 隐私政策\r\n  PRIVACY: '/pages/common/privacy/privacy',\r\n  // 用户协议\r\n  TERMS: '/pages/common/terms/terms',\r\n  // 常见问题\r\n  FAQ: '/pages/common/faq/faq',\r\n  // 404页面\r\n  NOT_FOUND: '/pages/common/404/404'\r\n};\r\n\r\n/**\r\n * @description 导航方法集合\r\n */\r\nexport const Navigator = {\r\n  /**\r\n   * @description 普通页面跳转\r\n   * @param {string} url 页面路径\r\n   * @param {Object} params 页面参数\r\n   */\r\n  navigateTo(url, params = null) {\r\n    if (params) {\r\n      const queryString = Object.keys(params)\r\n        .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)\r\n        .join('&');\r\n      \r\n      url = url.includes('?') ? `${url}&${queryString}` : `${url}?${queryString}`;\r\n    }\r\n    \r\n    uni.navigateTo({\r\n      url: url\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * @description 重定向页面（关闭当前页面）\r\n   * @param {string} url 页面路径\r\n   * @param {Object} params 页面参数\r\n   */\r\n  redirectTo(url, params = null) {\r\n    if (params) {\r\n      const queryString = Object.keys(params)\r\n        .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)\r\n        .join('&');\r\n      \r\n      url = url.includes('?') ? `${url}&${queryString}` : `${url}?${queryString}`;\r\n    }\r\n    \r\n    uni.redirectTo({\r\n      url: url\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * @description 切换Tab页面\r\n   * @param {string} url Tab页面路径\r\n   */\r\n  switchTab(url) {\r\n    uni.switchTab({\r\n      url: url\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * @description 返回上一页\r\n   * @param {number} delta 返回的层级\r\n   */\r\n  navigateBack(delta = 1) {\r\n    uni.navigateBack({\r\n      delta: delta\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * @description 重启到首页\r\n   */\r\n  reLaunch(url = MainRoutes.INDEX) {\r\n    uni.reLaunch({\r\n      url: url\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * @description 跳转到帖子详情页\r\n   * @param {string} postId 帖子ID\r\n   */\r\n  toPostDetail(postId) {\r\n    this.navigateTo(PostRoutes.POST_DETAIL, { id: postId });\r\n  },\r\n  \r\n  /**\r\n   * @description 跳转到老师详情页\r\n   * @param {string} teacherId 老师ID\r\n   */\r\n  toTeacherDetail(teacherId) {\r\n    this.navigateTo(TeacherRoutes.TEACHER_DETAIL, { id: teacherId });\r\n  },\r\n  \r\n  /**\r\n   * @description 跳转到AI助手页面\r\n   */\r\n  toAI() {\r\n    this.navigateTo(AIRoutes.AI_HOME);\r\n  },\r\n  \r\n  /**\r\n   * @description 跳转到登录页\r\n   * @param {string} redirect 登录后跳转的页面\r\n   */\r\n  toLogin(redirect = null) {\r\n    const params = redirect ? { redirect } : null;\r\n    this.navigateTo(CommonRoutes.LOGIN, params);\r\n  }\r\n};\r\n\r\n/**\r\n * @description 默认导出所有路由\r\n */\r\nexport default {\r\n  main: MainRoutes,\r\n  message: MessageRoutes,\r\n  publish: PublishRoutes,\r\n  mine: MineRoutes,\r\n  teacher: TeacherRoutes,\r\n  post: PostRoutes,\r\n  match: MatchRoutes,\r\n  ai: AIRoutes,\r\n  common: CommonRoutes,\r\n  navigator: Navigator\r\n}; "],"names":["MainRoutes","INDEX","MESSAGE","PUBLISH","MINE","getPath","pageName","pageMap","this","TeacherRoutes","TEACHER_LIST","TEACHER_DETAIL","TEACHER_APPOINTMENT","PostRoutes","POST_DETAIL","POST_COMMENTS","AIRoutes","AI_HOME","AI_HISTORY","AI_SETTINGS","CommonRoutes","LOGIN","REGISTER","ABOUT","PRIVACY","TERMS","FAQ","NOT_FOUND","Navigator","navigateTo","url","params","queryString","Object","keys","map","key","encodeURIComponent","join","includes","uni","redirectTo","switchTab","navigateBack","delta","reLaunch","toPostDetail","postId","id","toTeacherDetail","teacherId","toAI","toLogin","redirect","Routes","main","message","MESSAGE_HOME","CHAT","NOTIFICATION","FRIEND_REQUEST","FRIEND_DETAIL","publish","PUBLISH_HOME","PUBLISH_ARTICLE","PUBLISH_QUESTION","PUBLISH_MOMENT","mine","MINE_HOME","PROFILE","FAVORITES","MY_POSTS","SETTINGS","teacher","post","match","MATCH_HOME","MATCH_DETAIL","MATCH_RESULT","ai","common","navigator"],"mappings":"8EAUaA,EAAa,CAExBC,MAAO,qBACPC,QAAS,yBACTC,QAAS,yBACTC,KAAM,mBAGNC,QAAQC,GACN,OAAOC,UAAQD,IAAaE,KAAKP,KAClC,GAoDUQ,EAAgB,CAE3BC,aAAc,2BAEdC,eAAgB,+BAEhBC,oBAAqB,0CAMVC,EAAa,CAExBC,YAAa,4BAEbC,cAAe,iCAkBJC,EAAW,CAEtBC,QAAS,eAETC,WAAY,oBAEZC,YAAa,sBAMFC,EAAe,CAE1BC,MAAO,qBAEPC,SAAU,wBAEVC,MAAO,4BAEPC,QAAS,gCAETC,MAAO,4BAEPC,IAAK,wBAELC,UAAW,yBAMAC,EAAY,CAMvBC,WAAWC,EAAKC,EAAS,MACvB,GAAIA,EAAQ,CACJ,MAAAC,EAAcC,OAAOC,KAAKH,GAC7BI,KAAIC,GAAO,GAAGC,mBAAmBD,MAAQC,mBAAmBN,EAAOK,QACnEE,KAAK,KAERR,EAAMA,EAAIS,SAAS,KAAO,GAAGT,KAAOE,IAAgB,GAAGF,KAAOE,GAC/D,CAEDQ,EAAAA,MAAIX,WAAW,CACbC,OAEH,EAODW,WAAWX,EAAKC,EAAS,MACvB,GAAIA,EAAQ,CACJ,MAAAC,EAAcC,OAAOC,KAAKH,GAC7BI,KAAIC,GAAO,GAAGC,mBAAmBD,MAAQC,mBAAmBN,EAAOK,QACnEE,KAAK,KAERR,EAAMA,EAAIS,SAAS,KAAO,GAAGT,KAAOE,IAAgB,GAAGF,KAAOE,GAC/D,CAEDQ,EAAAA,MAAIC,WAAW,CACbX,OAEH,EAMDY,UAAUZ,GACRU,EAAAA,MAAIE,UAAU,CACZZ,OAEH,EAMDa,aAAaC,EAAQ,GACnBJ,EAAAA,MAAIG,aAAa,CACfC,SAEH,EAKDC,SAASf,EAAM9B,EAAWC,OACxBuC,EAAAA,MAAIK,SAAS,CACXf,OAEH,EAMDgB,aAAaC,GACXvC,KAAKqB,WAAWhB,EAAWC,YAAa,CAAEkC,GAAID,GAC/C,EAMDE,gBAAgBC,GACd1C,KAAKqB,WAAWpB,EAAcE,eAAgB,CAAEqC,GAAIE,GACrD,EAKDC,OACO3C,KAAAqB,WAAWb,EAASC,QAC1B,EAMDmC,QAAQC,EAAW,MACjB,MAAMtB,EAASsB,EAAW,CAAEA,YAAa,KACpC7C,KAAAqB,WAAWT,EAAaC,MAAOU,EACrC,GAMYuB,EAAA,CACbC,KAAMvD,EACNwD,QA1N2B,CAE3BC,aAAc,yBAEdC,KAAM,sBAENC,aAAc,2CAEdC,eAAgB,qBAEhBC,cAAe,gCAiNfC,QA3M2B,CAE3BC,aAAc,yBAEdC,gBAAiB,iCAEjBC,iBAAkB,mCAElBC,eAAgB,gCAoMhBC,KA9LwB,CAExBC,UAAW,mBAEXC,QAAS,8BAETC,UAAW,kCAEXC,SAAU,0BAEVC,SAAU,iCAqLVC,QAAShE,EACTiE,KAAM7D,EACN8D,MA3JyB,CAEzBC,WAAY,qBAEZC,aAAc,sBAEdC,aAAc,uBAsJdC,GAAI/D,EACJgE,OAAQ5D,EACR6D,UAAWrD"}