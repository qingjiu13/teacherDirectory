{"version":3,"file":"step6.js","sources":["pages/AI/selection/step6.uvue","../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQUkvc2VsZWN0aW9uL3N0ZXA2LnV2dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"progress-bar\">\r\n\t\t\t<text class=\"progress-text\">6/6</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"question-container\">\r\n\t\t\t<view class=\"emoji\">üéì</view>\r\n\t\t\t<text class=\"question\">ÊÇ®ÁöÑÁõÆÊ†áÁúÅ‰ªΩÊòØÔºü</text>\r\n\t\t\t\r\n\t\t\t<view class=\"area-section\">\r\n\t\t\t\t<text class=\"area-title\">AÂå∫</text>\r\n\t\t\t\t<view class=\"options-container\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tv-for=\"(area, index) in areaA\" \r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:class=\"['option-item', selectedAreas.includes(area) ? 'active' : '']\"\r\n\t\t\t\t\t\t@click=\"toggleArea(area)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{area}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"area-section\">\r\n\t\t\t\t<text class=\"area-title\">BÂå∫</text>\r\n\t\t\t\t<view class=\"options-container\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tv-for=\"(area, index) in areaB\" \r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:class=\"['option-item', selectedAreas.includes(area) ? 'active' : '']\"\r\n\t\t\t\t\t\t@click=\"toggleArea(area)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{area}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"button-group\">\r\n\t\t\t<button class=\"prev-btn\" @click=\"prevPage\">‰∏ä‰∏ÄÊ≠•</button>\r\n\t\t\t<button class=\"complete-btn\" @click=\"submitData\">ÂÆåÊàê</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * @description AIÊã©Ê†°Á¨¨ÂÖ≠Ê≠•È°µÈù¢\r\n\t */\r\n\timport { aiSelectionApis } from '../../../config.js';\r\n\timport callCloudFunction from '../../../utils/cloudFunction.js';\r\n\t\r\n\texport default {\r\n\t\tname: 'AISelectionStep6',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tareaA: ['Âåó‰∫¨Â∏Ç', '‰∏äÊµ∑Â∏Ç', 'ÊµôÊ±üÁúÅ', 'Ê±üËãèÁúÅ', 'ÊπñÂåóÁúÅ', 'Âπø‰∏úÁúÅ', 'ÂêâÊûóÁúÅ', 'Â§©Ê¥•Â∏Ç'],\r\n\t\t\t\tareaB: ['ÂõõÂ∑ùÁúÅ', 'ÂÆâÂæΩÁúÅ', 'ÈôïË•øÁúÅ', 'ÈªëÈæôÊ±üÁúÅ', 'ÊπñÂçóÁúÅ', 'Â±±‰∏úÁúÅ', 'Á¶èÂª∫ÁúÅ', 'ËæΩÂÆÅÁúÅ', \r\n\t\t\t\t\t'ÈáçÂ∫ÜÂ∏Ç', 'Ê≤≥ÂçóÁúÅ', 'Ê±üË•øÁúÅ', 'Â±±Ë•øÁúÅ'],\r\n\t\t\t\tselectedAreas: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÊúâÂ∑≤‰øùÂ≠òÁöÑÊï∞ÊçÆ\r\n\t\t\tconst savedAreas = uni.getStorageSync('step6_areas');\r\n\t\t\tif (savedAreas && Array.isArray(savedAreas)) {\r\n\t\t\t\tthis.selectedAreas = savedAreas;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description ÂàáÊç¢ÈÄâÊã©Âå∫Âüü\r\n\t\t\t * @param {String} area - Âå∫ÂüüÂêçÁß∞\r\n\t\t\t */\r\n\t\t\ttoggleArea(area) {\r\n\t\t\t\tconst index = this.selectedAreas.indexOf(area);\r\n\t\t\t\tif (index === -1) {\r\n\t\t\t\t\tthis.selectedAreas.push(area);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selectedAreas.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t\t// ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®\r\n\t\t\t\tuni.setStorageSync('step6_areas', this.selectedAreas);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description ËøîÂõû‰∏ä‰∏ÄÊ≠•\r\n\t\t\t */\r\n\t\t\tprevPage() {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description Êèê‰∫§Êï∞ÊçÆÔºåÂºÄÂßãÂàÜÊûê\r\n\t\t\t */\r\n\t\t\tasync submitData() {\r\n\t\t\t\tif (this.selectedAreas.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ËØ∑Ëá≥Â∞ëÈÄâÊã©‰∏Ä‰∏™ÁõÆÊ†áÁúÅ‰ªΩ',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'ÂáÜÂ§áÂàÜÊûê...'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ‰ªéÊú¨Âú∞Â≠òÂÇ®Ëé∑Âèñ‰πãÂâçÊ≠•È™§ÁöÑÊï∞ÊçÆ\r\n\t\t\t\t\tconst formData = {\r\n\t\t\t\t\t\tidentity: uni.getStorageSync('step1_data') || '',\r\n\t\t\t\t\t\tuniversity: uni.getStorageSync('step2_school') || '',\r\n\t\t\t\t\t\tmajor: uni.getStorageSync('step2_major') || '',\r\n\t\t\t\t\t\tenglishLevel: uni.getStorageSync('step3_english') || '',\r\n\t\t\t\t\t\tranking: uni.getStorageSync('step3_ranking') || '',\r\n\t\t\t\t\t\ttargetMajor: uni.getStorageSync('step4_major') || '',\r\n\t\t\t\t\t\tstudyMode: uni.getStorageSync('step4_mode') || '',\r\n\t\t\t\t\t\ttargetType: uni.getStorageSync('step5_target') || '',\r\n\t\t\t\t\t\tconsiderResearch: uni.getStorageSync('step5_research') || '',\r\n\t\t\t\t\t\ttargetAreas: this.selectedAreas\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.__f__('log','at pages/AI/selection/step6.uvue:125','Êèê‰∫§Êï∞ÊçÆ:', formData);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ÂÖà‰øùÂ≠òÂàÜÊûêËØ∑Ê±Ç\r\n\t\t\t\t\tconst saveResult = await callCloudFunction({\r\n\t\t\t\t\t\tname: aiSelectionApis.saveAnalysisRequest,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tformData: formData\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttimeout: 10000 // Â¢ûÂä†Ë∂ÖÊó∂Êó∂Èó¥Âà∞10Áßí\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (saveResult.result && saveResult.result.code === 0) {\r\n\t\t\t\t\t\tconst analysisId = saveResult.result.data.id;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Áõ¥Êé•Ë∑≥ËΩ¨Âà∞ÂàÜÊûê‰∏≠È°µÈù¢Ôºå‰∏çÁ≠âÂæÖÂàÜÊûêÂÆåÊàê\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/AI/selection/analyzing?id=' + analysisId\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// ÂêéÂè∞ÂºÄÂßãÂÆûÈôÖÁöÑAIÂàÜÊûêËøáÁ®ã\r\n\t\t\t\t\t\tcallCloudFunction({\r\n\t\t\t\t\t\t\tname: aiSelectionApis.startAnalysis,\r\n\t\t\t\t\t\t\tdata: { id: analysisId }\r\n\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\tuni.__f__('log','at pages/AI/selection/step6.uvue:151','ÂàÜÊûêÂºÄÂßã:', res);\r\n\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\tuni.__f__('error','at pages/AI/selection/step6.uvue:153','ÂêØÂä®ÂàÜÊûêÂ§±Ë¥•:', err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(saveResult.result?.msg || 'ÂáÜÂ§áÂàÜÊûêÂ§±Ë¥•');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: 'ÊèêÁ§∫',\r\n\t\t\t\t\t\tcontent: e.message || 'ÂáÜÂ§áÂàÜÊûêÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tpadding: 30rpx;\r\n\t}\r\n\t\r\n\t.progress-bar {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\t.progress-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FF9853;\r\n\t\tbackground: #FFF;\r\n\t\tpadding: 10rpx 30rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\t\r\n\t.question-container {\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\t\r\n\t.emoji {\r\n\t\tfont-size: 48rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.question {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.area-section {\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\t\r\n\t.area-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #666;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.options-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\tgap: 20rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.option-item {\r\n\t\twidth: 30%;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground: #F5F5F5;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.active {\r\n\t\tbackground: #007AFF;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t\r\n\t.button-group {\r\n\t\tposition: fixed;\r\n\t\tbottom: 40rpx;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tpadding: 0 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\t\r\n\t.prev-btn {\r\n\t\twidth: 48%;\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t\tborder-radius: 45rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tcolor: #007AFF;\r\n\t\tborder: 1rpx solid #007AFF;\r\n\t}\r\n\t\r\n\t.complete-btn {\r\n\t\twidth: 48%;\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t\tborder-radius: 45rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tbackground: #007AFF;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n</style> ","import MiniProgramPage from 'E:/yanshiluÂ∞èÁ®ãÂ∫èÂâçÁ´Ø/ÂâçÁ´Øyanshilu/pages/AI/selection/step6.uvue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","defineComponent","name","data","areaA","areaB","selectedAreas","onLoad","savedAreas","uni","getStorageSync","Array","isArray","this","methods","toggleArea","area","index","indexOf","push","splice","setStorageSync","prevPage","navigateBack","submitData","length","showToast","title","icon","Promise","resolve","showLoading","formData","UTSJSONObject","identity","university","major","englishLevel","ranking","targetMajor","studyMode","targetType","considerResearch","targetAreas","__f__","saveResult","callCloudFunction","aiSelectionApis","saveAnalysisRequest","timeout","hideLoading","result","code","Error","_a","msg","analysisId","id","navigateTo","url","utils_cloudFunction","startAnalysis","then","res","catch","err","e","showModal","content","message","showCancel","wx","createPage","MiniProgramPage"],"mappings":"uIAqDCA,EAAeC,kBAAA,CACdC,KAAM,mBACNC,KAAI,KACI,CACNC,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACzDC,MAAO,CAAC,MAAO,MAAO,MAAO,OAAQ,MAAO,MAAO,MAAO,MACzD,MAAO,MAAO,MAAO,OACtBC,cAAe,KAGjBC,SAEC,MAAMC,EAAaC,EAAAA,MAAIC,eAAe,eAClCF,GAAcG,MAAMC,QAAQJ,KAC/BK,KAAKP,cAAgBE,EAEtB,EACDM,QAAS,CAKRC,WAAWC,EAAI,MACd,MAAMC,EAAQJ,KAAKP,cAAcY,QAAQF,IACvB,IAAdC,EACEJ,KAAAP,cAAca,KAAKH,GAEnBH,KAAAP,cAAcc,OAAOH,EAAO,GAGlCR,EAAAA,MAAIY,eAAe,cAAeR,KAAKP,cACvC,EAKDgB,WACCb,EAAGQ,MAACM,cACJ,EAKKC,sEACD,GAA8B,IAA9BX,KAAKP,cAAcmB,OAKhB,OAJNhB,EAAAA,MAAIiB,UAAU,CACbC,MAAO,cACPC,KAAM,SAEDC,QAAAC,QAAA,MAGH,IACHrB,EAAAA,MAAIsB,YAAY,CACfJ,MAAO,YAIF,MAAAK,EAAW,IAAAC,cAAA,CAChBC,SAAUzB,EAAGQ,MAACP,eAAe,eAAiB,GAC9CyB,WAAY1B,EAAGQ,MAACP,eAAe,iBAAmB,GAClD0B,MAAO3B,EAAGQ,MAACP,eAAe,gBAAkB,GAC5C2B,aAAc5B,EAAGQ,MAACP,eAAe,kBAAoB,GACrD4B,QAAS7B,EAAGQ,MAACP,eAAe,kBAAoB,GAChD6B,YAAa9B,EAAGQ,MAACP,eAAe,gBAAkB,GAClD8B,UAAW/B,EAAGQ,MAACP,eAAe,eAAiB,GAC/C+B,WAAYhC,EAAGQ,MAACP,eAAe,iBAAmB,GAClDgC,iBAAkBjC,EAAGQ,MAACP,eAAe,mBAAqB,GAC1DiC,YAAa9B,KAAKP,gBAGnBG,EAAGQ,MAAC2B,MAAM,MAAM,uCAAuC,QAASZ,GAGhE,MAAMa,QAAmBC,oBAAkB,IAAAb,cAAA,CAC1C/B,KAAM6C,EAAeA,gBAACC,oBACtB7C,KAAM,IAAA8B,cAAA,CACLD,aAEDiB,QAAS,OAKV,GAFAxC,EAAGQ,MAACiC,eAEAL,EAAWM,QAAqC,IAA3BN,EAAWM,OAAOC,KAkBpC,MAAA,IAAIC,OAAyB,QAAnBC,EAAAT,EAAWM,cAAQ,IAAAG,OAAA,EAAAA,EAAAC,MAAO,UAlBY,CAChD,MAAAC,EAAaX,EAAWM,OAAOhD,KAAKsD,GAG1ChD,EAAAA,MAAIiD,WAAW,CACdC,IAAK,oCAAsCH,IAI3BI,EAAAd,kBAAC,IAAAb,cAAA,CACjB/B,KAAM6C,EAAeA,gBAACc,cACtB1D,uBAAM,CAAEsD,GAAID,OACVM,MAAK,CAACC,EAAG,QACXtD,EAAGQ,MAAC2B,MAAM,MAAM,uCAAuC,QAASmB,EAAG,IACjEC,OAAM,CAACC,EAAG,QACZxD,EAAGQ,MAAC2B,MAAM,QAAQ,uCAAuC,UAAWqB,EAAG,GAEvE,CAUH,OAPSC,GACRzD,EAAGQ,MAACiC,cACJzC,EAAAA,MAAI0D,UAAU,CACbxC,MAAO,KACPyC,QAASF,EAAEG,SAAW,aACtBC,YAAY,GAEd,IACD,0bCpKHC,GAAGC,WAAWC"}