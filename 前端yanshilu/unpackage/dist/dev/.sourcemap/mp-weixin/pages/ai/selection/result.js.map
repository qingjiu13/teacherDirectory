{"version":3,"file":"result.js","sources":["pages/AI/selection/result.uvue","../../HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQUkvc2VsZWN0aW9uL3Jlc3VsdC51dnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"title\">AI智能择校推荐</text>\r\n\t\t\t<view class=\"subtitle\">基于您的背景为您精选的最佳院校</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view v-if=\"loading\" class=\"loading-container\">\r\n\t\t\t<image class=\"loading-image\" src=\"/static/robot.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<text class=\"loading-text\">正在加载分析结果...</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"analysis-result\" v-else>\r\n\t\t\t<!-- 卡片滑动区域 -->\r\n\t\t\t<swiper class=\"recommendation-swiper\" circular @change=\"swiperChange\" :indicator-dots=\"false\">\r\n\t\t\t\t<swiper-item v-for=\"(school, index) in displaySchools\" :key=\"index\" class=\"swiper-item\">\r\n\t\t\t\t\t<view class=\"school-card\">\r\n\t\t\t\t\t\t<view class=\"school-header\">\r\n\t\t\t\t\t\t\t<text class=\"school-name\">{{school.name}}</text>\r\n\t\t\t\t\t\t\t<view class=\"star-rating\">\r\n\t\t\t\t\t\t\t\t<text class=\"star-text\">{{getStarText(school.rating)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"rating-text\">{{school.rating.toFixed(1)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"divider\"></view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">推荐专业：</text>\r\n\t\t\t\t\t\t\t<text class=\"value highlight\">{{school.recommendMajor}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">院校特点：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.features}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">推荐理由：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.reason}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">录取难度：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.difficulty}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"detail-row\">\r\n\t\t\t\t\t\t\t<text class=\"label\">针对性建议：</text>\r\n\t\t\t\t\t\t\t<text class=\"value\">{{school.suggestion}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"card-footer\">\r\n\t\t\t\t\t\t\t<text class=\"page-indicator\">{{currentIndex + 1}}/{{displaySchools.length}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t\r\n\t\t\t<!-- 卡片指示器 -->\r\n\t\t\t<view class=\"indicator-dots\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(_, index) in displaySchools\" \r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t:class=\"['indicator-dot', currentIndex === index ? 'active' : '']\"\r\n\t\t\t\t\t@click=\"jumpToCard(index)\"\r\n\t\t\t\t></view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 分析建议部分 -->\r\n\t\t\t<view class=\"section advice-section\">\r\n\t\t\t\t<text class=\"section-title\">分析建议</text>\r\n\t\t\t\t<view class=\"advice-card\" v-if=\"analysisResult && analysisResult.analysis_result && analysisResult.analysis_result.advice\">\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">优势分析：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.advantages)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">不足分析：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.disadvantages)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">备考策略：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.strategy)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">时间规划：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.timeline)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"advice-item\">\r\n\t\t\t\t\t\t<text class=\"advice-label\">重点关注事项：</text>\r\n\t\t\t\t\t\t<view class=\"advice-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"formatAdviceContent(analysisResult.analysis_result.advice.keyPoints)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"button-group\">\r\n\t\t\t<button class=\"share-btn\" @click=\"shareResult\">分享结果</button>\r\n\t\t\t<button class=\"restart-btn\" @click=\"restartAnalysis\">重新选择</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * @description AI择校分析结果页面\r\n\t */\r\n\timport { aiSelectionApis } from '../../../config.js';\r\n\t\r\n\texport default {\r\n\t\tname: 'AISelectionResult',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tanalysisId: '',\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tanalysisResult: null,\r\n\t\t\t\tdisplaySchools: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tuni.__f__('log','at pages/AI/selection/result.uvue:137','结果页面加载，参数:', options);\r\n\t\t\tthis.analysisId = options.id || '';\r\n\t\t\tthis.loading = true;\r\n\t\t\t\r\n\t\t\t// 直接加载云端数据，不使用本地存储\r\n\t\t\tthis.loadAnalysisResult();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description 从云端加载数据\r\n\t\t\t */\r\n\t\t\tasync loadAnalysisResult() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tuni.__f__('log','at pages/AI/selection/result.uvue:151','尝试从云端加载数据, ID:', this.analysisId);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 从云端API加载数据\r\n\t\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\t\tname: aiSelectionApis.getSchoolAnalysis,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\taction: 'get',\r\n\t\t\t\t\t\t\tid: this.analysisId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttimeout: 15000\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.__f__('log','at pages/AI/selection/result.uvue:163','获取分析结果返回:', result);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (result.result && result.result.code === 0 && result.result.data) {\r\n\t\t\t\t\t\t// 处理API返回的数据\r\n\t\t\t\t\t\tconst data = result.result.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (data.analysis_result) {\r\n\t\t\t\t\t\t\tthis.analysisResult = data;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (data.analysis_result.recommendSchools && \r\n\t\t\t\t\t\t\t\tdata.analysis_result.recommendSchools.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.displaySchools = data.analysis_result.recommendSchools;\r\n\t\t\t\t\t\t\t\tuni.__f__('log','at pages/AI/selection/result.uvue:175','成功加载AI推荐学校:', this.displaySchools.length);\r\n\t\t\t\t\t\t\t} else if (data.analysis_result.rawResponse) {\r\n\t\t\t\t\t\t\t\t// 如果存在原始响应但JSON解析失败\r\n\t\t\t\t\t\t\t\tuni.__f__('log','at pages/AI/selection/result.uvue:178','API返回了原始响应但JSON解析失败');\r\n\t\t\t\t\t\t\t\tthis.displaySchools = [{\r\n\t\t\t\t\t\t\t\t\tname: \"API原始响应\",\r\n\t\t\t\t\t\t\t\t\tfeatures: \"以下是DeepSeek API的原始返回内容\",\r\n\t\t\t\t\t\t\t\t\treason: data.analysis_result.rawResponse.substring(0, 300) + '...',\r\n\t\t\t\t\t\t\t\t\tdifficulty: \"解析失败: \" + (data.analysis_result.parseError || \"未知原因\"),\r\n\t\t\t\t\t\t\t\t\tsuggestion: \"请尝试重新分析\",\r\n\t\t\t\t\t\t\t\t\trating: 0,\r\n\t\t\t\t\t\t\t\t\trecommendMajor: \"无法解析\"\r\n\t\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 没有推荐学校，显示错误\r\n\t\t\t\t\t\t\t\tthis.showError('分析结果异常', '没有找到推荐学校信息，请尝试重新分析');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 缺少分析结果，显示错误\r\n\t\t\t\t\t\t\tthis.showError('分析结果异常', '分析结果格式错误，请尝试重新分析');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// API返回错误\r\n\t\t\t\t\t\tthis.showError('获取分析结果失败', '无法获取分析结果，请尝试重新分析');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// 捕获到异常\r\n\t\t\t\t\tthis.showError('系统错误', '加载分析结果时发生错误: ' + e.message);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 显示错误提示\r\n\t\t\t * @param {String} title - 错误标题\r\n\t\t\t * @param {String} content - 错误内容\r\n\t\t\t */\r\n\t\t\tshowError(title, content) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 轮播图变化事件\r\n\t\t\t * @param {Object} e - 事件对象\r\n\t\t\t */\r\n\t\t\tswiperChange(e) {\r\n\t\t\t\tthis.currentIndex = e.detail.current;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 跳转到指定卡片\r\n\t\t\t * @param {Number} index - 卡片索引\r\n\t\t\t */\r\n\t\t\tjumpToCard(index) {\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 重新开始分析\r\n\t\t\t */\r\n\t\t\trestartAnalysis() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 10, // 尝试返回到首页\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/AI/selection/selection'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 分享结果\r\n\t\t\t */\r\n\t\t\tshareResult() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '分享功能开发中',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 生成星星文本\r\n\t\t\t * @param {Number} rating - 评分\r\n\t\t\t * @returns {String} 星星文本\r\n\t\t\t */\r\n\t\t\tgetStarText(rating) {\r\n\t\t\t\tif (!rating && rating !== 0) return '☆☆☆☆☆';\r\n\t\t\t\t\r\n\t\t\t\tconst score = parseFloat(rating) || 0;\r\n\t\t\t\tconst fullStars = Math.floor(score);\r\n\t\t\t\tconst hasHalfStar = (score - fullStars) >= 0.5;\r\n\t\t\t\t\r\n\t\t\t\tlet stars = '★'.repeat(fullStars);\r\n\t\t\t\tif (hasHalfStar) {\r\n\t\t\t\t\tstars += '☆';\r\n\t\t\t\t}\r\n\t\t\t\tconst emptyStars = 5 - stars.length;\r\n\t\t\t\tstars += '☆'.repeat(emptyStars);\r\n\t\t\t\t\r\n\t\t\t\treturn stars;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @description 格式化建议内容\r\n\t\t\t * @param {String} text - 建议内容\r\n\t\t\t * @returns {String} 格式化后的HTML\r\n\t\t\t */\r\n\t\t\tformatAdviceContent(text) {\r\n\t\t\t\tif (!text) return '暂无数据';\r\n\t\t\t\t\r\n\t\t\t\t// 首先将内容按换行符分割\r\n\t\t\t\tconst lines = text.split('\\n');\r\n\t\t\t\tlet html = '';\r\n\t\t\t\t\r\n\t\t\t\t// 逐行处理\r\n\t\t\t\tfor (let i = 0; i < lines.length; i++) {\r\n\t\t\t\t\tconst line = lines[i].trim();\r\n\t\t\t\t\tif (!line) continue;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 提取编号部分（如\"1.\"）\r\n\t\t\t\t\tconst numberMatch = line.match(/^(\\d+)\\.\\s*(.*)$/);\r\n\t\t\t\t\tif (numberMatch) {\r\n\t\t\t\t\t\t// 找到编号格式，包装为列表项\r\n\t\t\t\t\t\thtml += `<div class=\"list-item\"><strong>${numberMatch[1]}.</strong> ${numberMatch[2]}</div>`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 普通文本行\r\n\t\t\t\t\t\thtml += `<div>${line}</div>`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn html || text;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tpadding: 30rpx;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t\r\n\t.header {\r\n\t\tpadding: 20rpx 0 40rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.title {\r\n\t\tfont-size: 42rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.loading-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\theight: 60vh;\r\n\t}\r\n\t\r\n\t.loading-image {\r\n\t\twidth: 150rpx;\r\n\t\theight: 150rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tanimation: bounce 0.6s infinite alternate;\r\n\t}\r\n\t\r\n\t.loading-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.recommendation-swiper {\r\n\t\theight: 700rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.swiper-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.school-card {\r\n\t\twidth: 100%;\r\n\t\theight: 680rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.08);\r\n\t\tposition: relative;\r\n\t\toverflow: auto;\r\n\t}\r\n\t\r\n\t.school-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.school-name {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t.star-rating {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 5rpx;\r\n\t}\r\n\t\r\n\t.star-text {\r\n\t\tcolor: #FFD700; /* 金色 */\r\n\t\tfont-size: 36rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\t\r\n\t.rating-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.divider {\r\n\t\theight: 1px;\r\n\t\tbackground: #EEEEEE;\r\n\t\tmargin: 10rpx 0 20rpx;\r\n\t}\r\n\t\r\n\t.detail-row {\r\n\t\tmargin-bottom: 28rpx;\r\n\t}\r\n\t\r\n\t.label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t\r\n\t.advice-label {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tline-height: 1.6;\r\n\t}\r\n\t\r\n\t.advice-content {\r\n\t\tdisplay: block;\r\n\t\tmargin-top: 6rpx;\r\n\t\tpadding-left: 10rpx;\r\n\t}\r\n\t\r\n\t.list-item {\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tpadding-left: 10rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.advice-content .list-item:not(:last-child) {\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\t\r\n\t.highlight {\r\n\t\tcolor: #007AFF;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.card-footer {\r\n\t\tposition: absolute;\r\n\t\tbottom: 30rpx;\r\n\t\tright: 30rpx;\r\n\t}\r\n\t\r\n\t.page-indicator {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tbackground: rgba(0,0,0,0.05);\r\n\t\tpadding: 4rpx 12rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\t\r\n\t.indicator-dots {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\t\r\n\t.indicator-dot {\r\n\t\twidth: 16rpx;\r\n\t\theight: 16rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #ddd;\r\n\t\tmargin: 0 6rpx;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\t\r\n\t.indicator-dot.active {\r\n\t\tbackground-color: #007AFF;\r\n\t\twidth: 32rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n\t\r\n\t.advice-section {\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\t\r\n\t.section-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\tpadding-left: 20rpx;\r\n\t}\r\n\t\r\n\t.section-title::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 10rpx;\r\n\t\theight: 30rpx;\r\n\t\twidth: 8rpx;\r\n\t\tbackground: #007AFF;\r\n\t\tborder-radius: 4rpx;\r\n\t}\r\n\t\r\n\t.advice-card {\r\n\t\tbackground: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbox-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.08);\r\n\t}\r\n\t\r\n\t.button-group {\r\n\t\tmargin-top: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t\r\n\t.share-btn, .restart-btn {\r\n\t\twidth: 45%;\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t\tborder-radius: 45rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.share-btn {\r\n\t\tbackground: linear-gradient(to right, #3fadea, #007AFF);\r\n\t\tcolor: #fff;\r\n\t\tbox-shadow: 0 8rpx 16rpx rgba(0, 122, 255, 0.3);\r\n\t}\r\n\t\r\n\t.restart-btn {\r\n\t\tbackground: #fff;\r\n\t\tcolor: #007AFF;\r\n\t\tborder: 1px solid #007AFF;\r\n\t\tbox-shadow: 0 8rpx 16rpx rgba(0, 122, 255, 0.1);\r\n\t}\r\n\t\r\n\t.advice-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tpadding-bottom: 10rpx;\r\n\t\tborder-bottom: 1px dashed #eee;\r\n\t}\r\n\t\r\n\t.advice-item:last-child {\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding-bottom: 0;\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.advice-label {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 12rpx;\r\n\t}\r\n\t\r\n\t.advice-content {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tline-height: 1.6;\r\n\t\tpadding-left: 16rpx;\r\n\t}\r\n\t\r\n\t.list-item {\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n</style> ","import MiniProgramPage from 'E:/yanshilu小程序前端/前端yanshilu/pages/AI/selection/result.uvue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","defineComponent","name","data","analysisId","currentIndex","loading","analysisResult","displaySchools","onLoad","options","uni","index","__f__","this","id","loadAnalysisResult","methods","result","uniCloud","Zs","callFunction","aiSelectionApis","getSchoolAnalysis","UTSJSONObject","action","timeout","code","analysis_result","recommendSchools","length","rawResponse","features","reason","substring","difficulty","parseError","suggestion","rating","recommendMajor","showError","e","message","title","content","showModal","showCancel","success","navigateBack","swiperChange","detail","current","jumpToCard","restartAnalysis","delta","navigateTo","url","shareResult","showToast","icon","getStarText","score","parseFloat","fullStars","Math","floor","hasHalfStar","stars","repeat","emptyStars","formatAdviceContent","text","lines","split","html","i","line","trim","numberMatch","match","wx","createPage","MiniProgramPage"],"mappings":"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"}